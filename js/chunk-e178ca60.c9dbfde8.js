(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e178ca60"],{"118a":function(t,a,e){},6700:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("Layout",{staticClass:"law-list"},[e("Table",{attrs:{"highlight-row":"",columns:t.lawListColumns,data:t.lawList}}),e("Page",{staticStyle:{"margin-top":"0.5rem"},attrs:{total:t.lawListPagination.total,current:t.lawListPagination.page,"page-size":t.lawListPagination.pageSize,"show-total":"","show-sizer":"","show-elevator":""},on:{"on-change":t.changeLawListPage,"on-page-size-change":t.changeLawListPageSize}})],1)},n=[],s=(e("7f7f"),e("5189")),o={name:"law-list",data:function(){var t=this;return{lawListPagination:{total:0,page:1,pageSize:10},lawList:[],lawListColumns:[{type:"index",width:60,align:"center"},{title:"名称",render:function(a,e){e.column;var i=e.row;e.index;return a("a",{props:{href:"javascript: void(0)"},on:{click:function(){t.$router.push({name:"LawItem",params:{lawId:i.id,parentId:-1}}),t.$store.commit("law/navPush",{title:i.name,path:{name:"LawItem",params:{lawId:i.id,parentId:-1}}}),t.$store.commit("law/setLaw",i)}}},i.name)}},{title:"操作",render:function(a,e){e.column;var i=e.row,n=e.index;return a("span",[a("Button",{props:{type:"primary",size:"small"},nativeOn:{click:function(){t.$router.push({name:"LawDetail",params:{type:"detail",id:i.id,category:i.categoryId}})}}},"编辑"),a("Button",{props:{type:"error",size:"small"},style:{marginLeft:"0.5rem"},nativeOn:{click:function(){t.deleteLaw(i,n)}}},"删除")])}}]}},created:function(){this.getLawList(this.$route.params.categoryId)},watch:{"$route.params.categoryId":{handler:function(){this.getLawList(this.$route.params.categoryId)},deep:!0}},methods:{changeLawListPage:function(t){this.lawListPagination.page=t,this.getLawList()},changeLawListPageSize:function(t){this.lawListPagination.pageSize=t,this.getLawList()},getLawList:function(t){var a=this;Object(s["getLawList"])({categoryId:t,pageNo:this.lawListPagination.page,pageSize:this.lawListPagination.pageSize}).then(function(t){var e=t.data,i=t.response;i.success?(a.lawList=e?e.recordList:[],a.lawListPagination.total=e?e.totalCount:0):a.$Message.error(i.msg)})},deleteLaw:function(t,a){var e=this;this.$Modal.confirm({title:"提示",content:"删除后将无法恢复，请确定是否删除！",onCancel:function(){},onOk:function(){Object(s["deleteLaw"])({id:t.id}).then(function(t){t.data;var i=t.response;i.success?(e.$Message.success("删除成功！"),e.lawList.splice(a,1)):e.$Message.error(i.msg)})}})}}},r=o,c=(e("e0c7"),e("2877")),l=Object(c["a"])(r,i,n,!1,null,"654864b7",null);l.options.__file="LawList.vue";a["default"]=l.exports},e0c7:function(t,a,e){"use strict";var i=e("118a"),n=e.n(i);n.a}}]);
//# sourceMappingURL=chunk-e178ca60.c9dbfde8.js.map