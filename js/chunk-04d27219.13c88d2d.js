(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-04d27219"],{"1a21":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"blank"},[a("div",{staticClass:"question"},[e._v(e._s(e.title))]),a("div",{staticClass:"description"},[e._v(e._s(e.description))]),a("Upload",{ref:"upload",attrs:{type:e.componentType,name:"file",paste:e.paste,multiple:e.multiple,"show-upload-list":e.showUploadList,"on-format-error":e.handleFormatError,"on-exceeded-size":e.handleMaxSize,"before-upload":e.handleBeforeUpload,"on-success":e.handleSuccess,"max-size":e.maxSize,data:e.theKey,"default-file-list":e.defaultFileList,action:e.BASE_URL+"/mvp-front/file/upload"}},[a("div",{staticStyle:{padding:"20px 0"}},[a("Icon",{staticStyle:{color:"#3399ff"},attrs:{type:"ios-cloud-upload",size:"52"}}),a("p",[e._v("单击或者拖动到此处上传")])],1)])],1)},n=[],r=(a("7f7f"),a("96cf"),a("3040")),s=(a("28a5"),a("c5f6"),a("04ce")),o={name:"upload",props:{schemaKey:{type:String,require:!0},title:{type:String,default:""},description:{type:String,default:""},placeholder:{type:String,default:""},value:{type:String,default:""},additionalKeys:{type:Array},validate:{type:Boolean},readonly:{type:Boolean},readonlyData:{type:Array,default:function(){return[]}},componentType:{type:String},accept:{type:String},format:{type:String},maxSize:{type:Number},multiple:{type:Boolean},paste:{type:Boolean},showUploadList:{type:Boolean},defaultFileList:{type:Array},server:{type:Boolean,require:!1}},data:function(){return{uuid:"00000000-0000-0000-0000-000000000018",currentValue:"",BASE_URL:s["a"],theKey:{key:null},theFormat:null}},mounted:function(){this.theFormat=this.format.split(","),this.theKey.key=this.schemaKey;var e={name:"",url:""},t=[];for(var a in this.value)e.url=s["a"]+"/mvp-front/file/download/"+this.value[a],t.push(e);this.currentValue=t,this.change(!0)},methods:{change:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:a=[],this.currentValue.map(function(e){a.push(e.url)}),this.$emit("input",{schemaKey:this.schemaKey,value:a,server:this.server,first:t});case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),handleSuccess:function(e,t){console.log(this.$refs.upload.fileList);var a={name:"",url:""},i=[];for(var n in this.$refs.upload.fileList)a.url=s["a"]+"/mvp-front/file/download/"+this.$refs.upload.fileList[n].response.data,i.push(a);this.currentValue=i,this.change()},handleFormatError:function(e){this.$Notice.warning({title:"文件格式不被支持",desc:e.name+" 的文件格式不被支持。仅支持格式符合 "+this.accept+" 且 "+this.format.split(",")+" 为后缀的文件。"})},handleMaxSize:function(e){this.$Notice.warning({title:"大小超过限制",desc:e.name+" 文件太大了，最大支持"+this.maxSize+"kb的文件上传、"})},handleBeforeUpload:function(){var e=this.$refs.upload.fileList.length<20;return e||this.$Notice.warning({title:"每次最多上传20个文件。"}),e}}},l=o,u=(a("26c3"),a("2877")),p=Object(u["a"])(l,i,n,!1,null,"9dbdf416",null);p.options.__file="upload.vue";t["default"]=p.exports},"26c3":function(e,t,a){"use strict";var i=a("d416"),n=a.n(i);n.a},d416:function(e,t,a){}}]);
//# sourceMappingURL=chunk-04d27219.13c88d2d.js.map