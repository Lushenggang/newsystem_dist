{"version":3,"sources":["webpack:///./src/knowledge/LawDetail.vue?4132","webpack:///./src/components/area-selector/area-selector.vue?93d2","webpack:///src/components/area-selector/area-selector.vue","webpack:///./src/components/area-selector/area-selector.vue?920f","webpack:///./src/components/area-selector/area-selector.vue","webpack:///./src/components/area-selector/index.js","webpack:///./src/components/area-selector/area-selector.vue?582d","webpack:///./src/knowledge/LawDetail.vue?02b4","webpack:///src/knowledge/LawDetail.vue","webpack:///./src/knowledge/LawDetail.vue?456f","webpack:///./src/knowledge/LawDetail.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_LawDetail_vue_vue_type_style_index_0_id_53f366aa_scoped_true_lang_stylus___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_LawDetail_vue_vue_type_style_index_0_id_53f366aa_scoped_true_lang_stylus___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","attrs","data","areaData","change-on-select","on","on-change","select","model","value","callback","$$v","selected","expression","staticRenderFns","area_selectorvue_type_script_lang_js_","name","props","type","Number","String","required","areaMap","Map","created","getAreaList","watch","makeSelected","computed","methods","_this","Object","api_area","allDescendant","then","resp","response","success","makeData","$Message","error","msg","catch","err","console","$emit","length","list","rootLevel","subLevel","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","item","id","label","set","parentId","push","return","_i","_item","parentNode","get","children","size","lastNode","currentNode","splice","area_selector_area_selectorvue_type_script_lang_js_","component","componentNormalizer","options","__file","area_selector","areaSelector","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_area_selector_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_area_selector_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","staticClass","staticStyle","margin-bottom","href","click","$event","$router","go","_v","nativeOn","saveLaw","ref","height","overflow","label-width","lawFormData","rules","validators","prop","$set","placeholder","areaId","on-select","seleteArea","_l","key","_s","title","LawModel","alias","areaNumber","categoryId","creditLine","documentNumber","enforcementDate","expiryDate","forceLevel","forceStatus","issueDate","issuingAuthorit","keywords","level","score","sort","tagInfo","LawDetailvue_type_script_lang_js_","components","tagSelector","tag_selector","deepCopy","forceStatusList","forceLevelList","message","trigger","$route","params","category","law","_ref","getForceStatus","getForceLevel","resetFormData","_this2","$refs","lawForm","validate","valid","_ref2","_this3","_ref3","_this4","_ref4","code","knowledge_LawDetailvue_type_script_lang_js_","__webpack_exports__"],"mappings":"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","file":"js/chunk-68b07760.22302f5e.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LawDetail.vue?vue&type=style&index=0&id=53f366aa&scoped=true&lang=stylus&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LawDetail.vue?vue&type=style&index=0&id=53f366aa&scoped=true&lang=stylus&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Cascader',{attrs:{\"data\":_vm.areaData,\"change-on-select\":\"\"},on:{\"on-change\":_vm.select},model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <Cascader\n    :data=\"areaData\"\n    change-on-select\n    v-model=\"selected\"\n    @on-change=\"select\" />\n</template>\n\n<script>\nimport { getAreaList } from '@/api/area'\n\nexport default {\n  name: 'area-selector',\n  props: {\n    value: {\n      type: Number | String,\n      required: true\n    }\n  },\n  data () {\n    return {\n      selected: [],\n      areaData: [],\n      areaMap: new Map()\n    }\n  },\n  created () {\n    this.getAreaList()\n  },\n  watch: {\n    value () {\n      this.makeSelected()\n    }\n  },\n  computed: {\n  },\n  methods: {\n    getAreaList () {\n      getAreaList({\n        allDescendant: true\n      }).then(resp => {\n        if (resp.response.success) {\n          this.areaData = this.makeData(resp.data)\n\n          this.makeSelected()\n        } else {\n          this.$Message.error(resp.response.msg)\n        }\n      }).catch(err => {\n        console.error(err)\n      })\n    },\n    select (value, data) {\n      this.$emit('on-select', data[data.length - 1])\n    },\n    makeData (list) {\n      const rootLevel = []\n      const subLevel = []\n      // 生成map，分拣出根级数据和子集\n      for (let item of list) {\n        item.value = item.id\n        item.label = item.name\n\n        this.areaMap.set(item.id, item)\n        if (!item.parentId) {\n          rootLevel.push(item)\n        } else {\n          subLevel.push(item)\n        }\n      }\n\n      // 将子集数据放入父级节点的chidren中\n      for (let item of subLevel) {\n        const parentNode = this.areaMap.get(item.parentId)\n        if (!parentNode) {\n          return\n        }\n        if (parentNode.children) {\n          parentNode.children.push(item)\n        } else {\n          parentNode.children = [ item ]\n        }\n      }\n\n      return rootLevel\n    },\n    makeSelected () {\n      if (!this.value || !this.areaMap.size) {\n        return\n      }\n      this.selected = [ this.value ]\n      const lastNode = this.areaMap.get(this.value)\n      let currentNode = lastNode ? this.areaMap.get(lastNode.parentId) : null\n      while (currentNode) {\n        this.selected.splice(0, 0, currentNode.id)\n        currentNode = this.areaMap.get(currentNode.parentId)\n      }\n    }\n  }\n}\n</script>\n\n<style>\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./area-selector.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./area-selector.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./area-selector.vue?vue&type=template&id=28d3e706&\"\nimport script from \"./area-selector.vue?vue&type=script&lang=js&\"\nexport * from \"./area-selector.vue?vue&type=script&lang=js&\"\nimport style0 from \"./area-selector.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"area-selector.vue\"\nexport default component.exports","import areaSelector from './area-selector'\nexport default areaSelector\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./area-selector.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./area-selector.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Layout',{staticClass:\"law-detail-page\"},[_c('Row',{staticClass:\"tool-bar\"},[_c('div',{staticClass:\"left\"},[_c('a',{staticStyle:{\"margin-bottom\":\"0.5rem\"},attrs:{\"href\":\"javascript: void(0)\"},on:{\"click\":function($event){_vm.$router.go(-1)}}},[_c('icon',{attrs:{\"type\":\"ios-arrow-back\"}}),_vm._v(\"\\n        返回\\n      \")],1)]),_c('div',{staticClass:\"right\"},[_c('Button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},nativeOn:{\"click\":function($event){return _vm.saveLaw($event)}}},[_vm._v(\"保存\")])],1)]),_c('Form',{ref:\"lawForm\",staticStyle:{\"height\":\"100%\",\"overflow\":\"auto\"},attrs:{\"label-width\":72,\"model\":_vm.lawFormData,\"rules\":_vm.validators}},[_c('FormItem',{staticClass:\"form-col\",attrs:{\"label\":\"名称\",\"prop\":\"name\"}},[_c('Input',{model:{value:(_vm.lawFormData.name),callback:function ($$v) {_vm.$set(_vm.lawFormData, \"name\", $$v)},expression:\"lawFormData.name\"}})],1),_c('FormItem',{staticClass:\"form-col\",attrs:{\"label\":\"标签\"}},[_c('tagSelector',{model:{value:(_vm.lawFormData.tagInfo),callback:function ($$v) {_vm.$set(_vm.lawFormData, \"tagInfo\", $$v)},expression:\"lawFormData.tagInfo\"}})],1),_c('FormItem',{staticClass:\"form-col\",attrs:{\"label\":\"简称\"}},[_c('Input',{model:{value:(_vm.lawFormData.alias),callback:function ($$v) {_vm.$set(_vm.lawFormData, \"alias\", $$v)},expression:\"lawFormData.alias\"}})],1),_c('FormItem',{staticClass:\"form-col\",attrs:{\"label\":\"关键字\"}},[_c('Input',{attrs:{\"placeholder\":\"多个关键字用英文逗号隔开\"},model:{value:(_vm.lawFormData.keywords),callback:function ($$v) {_vm.$set(_vm.lawFormData, \"keywords\", $$v)},expression:\"lawFormData.keywords\"}})],1),_c('FormItem',{staticClass:\"form-col\",attrs:{\"label\":\"题注\",\"prop\":\"creditLine\"}},[_c('Input',{model:{value:(_vm.lawFormData.creditLine),callback:function ($$v) {_vm.$set(_vm.lawFormData, \"creditLine\", $$v)},expression:\"lawFormData.creditLine\"}})],1),_c('FormItem',{staticClass:\"form-col\",attrs:{\"label\":\"法律文号\",\"prop\":\"documentNumber\"}},[_c('Input',{model:{value:(_vm.lawFormData.documentNumber),callback:function ($$v) {_vm.$set(_vm.lawFormData, \"documentNumber\", $$v)},expression:\"lawFormData.documentNumber\"}})],1),_c('FormItem',{staticClass:\"form-col\",attrs:{\"label\":\"地区\"}},[_c('areaSelector',{attrs:{\"value\":_vm.lawFormData.areaId},on:{\"on-select\":_vm.seleteArea}})],1),_c('FormItem',{staticClass:\"form-col\",attrs:{\"label\":\"发布机构\"}},[_c('Input',{model:{value:(_vm.lawFormData.issuingAuthorit),callback:function ($$v) {_vm.$set(_vm.lawFormData, \"issuingAuthorit\", $$v)},expression:\"lawFormData.issuingAuthorit\"}})],1),_c('FormItem',{staticClass:\"form-col\",attrs:{\"label\":\"发布日期\",\"prop\":\"issueDate\"}},[_c('DatePicker',{attrs:{\"type\":\"date\",\"placeholder\":\"请选择日期\"},model:{value:(_vm.lawFormData.issueDate),callback:function ($$v) {_vm.$set(_vm.lawFormData, \"issueDate\", $$v)},expression:\"lawFormData.issueDate\"}})],1),_c('FormItem',{staticClass:\"form-col\",attrs:{\"label\":\"施行日期\",\"prop\":\"enforcementDate\"}},[_c('DatePicker',{attrs:{\"type\":\"date\",\"placeholder\":\"请选择日期\"},model:{value:(_vm.lawFormData.enforcementDate),callback:function ($$v) {_vm.$set(_vm.lawFormData, \"enforcementDate\", $$v)},expression:\"lawFormData.enforcementDate\"}})],1),_c('FormItem',{staticClass:\"form-col\",attrs:{\"label\":\"失效日期\",\"prop\":\"expiryDate\"}},[_c('DatePicker',{attrs:{\"type\":\"date\",\"placeholder\":\"请选择日期\"},model:{value:(_vm.lawFormData.expiryDate),callback:function ($$v) {_vm.$set(_vm.lawFormData, \"expiryDate\", $$v)},expression:\"lawFormData.expiryDate\"}})],1),_c('FormItem',{staticClass:\"form-col\",attrs:{\"label\":\"效力等级\"}},[_c('Select',{model:{value:(_vm.lawFormData.forceLevel),callback:function ($$v) {_vm.$set(_vm.lawFormData, \"forceLevel\", $$v)},expression:\"lawFormData.forceLevel\"}},_vm._l((_vm.forceLevelList),function(item){return _c('Option',{key:item.value,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.title))])}))],1),_c('div',{staticClass:\"gutter\"}),_c('FormItem',{staticClass:\"form-col\",attrs:{\"label\":\"效力状态\"}},[_c('Select',{model:{value:(_vm.lawFormData.forceStatus),callback:function ($$v) {_vm.$set(_vm.lawFormData, \"forceStatus\", $$v)},expression:\"lawFormData.forceStatus\"}},_vm._l((_vm.forceStatusList),function(item){return _c('Option',{key:item.value,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.title))])}))],1),_c('FormItem',{staticClass:\"form-col\",attrs:{\"label\":\"分值\"}},[_c('Input',{model:{value:(_vm.lawFormData.score),callback:function ($$v) {_vm.$set(_vm.lawFormData, \"score\", $$v)},expression:\"lawFormData.score\"}})],1),_c('FormItem',{staticClass:\"form-col\",attrs:{\"label\":\"排序\"}},[_c('Input',{model:{value:(_vm.lawFormData.sort),callback:function ($$v) {_vm.$set(_vm.lawFormData, \"sort\", $$v)},expression:\"lawFormData.sort\"}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <Layout class=\"law-detail-page\">\n    <Row class=\"tool-bar\">\n      <div class=\"left\">\n        <a href=\"javascript: void(0)\" style=\"margin-bottom: 0.5rem;\" @click=\"$router.go(-1)\">\n          <icon type=\"ios-arrow-back\" />\n          返回\n        </a>\n      </div>\n      <div class=\"right\">\n        <!-- <Button type=\"error\" size=\"small\" @click.native=\"deleteCase\">删除</Button> -->\n        <Button type=\"primary\" size=\"small\" @click.native=\"saveLaw\">保存</Button>\n      </div>\n    </Row>\n    <Form ref=\"lawForm\" :label-width=\"72\" :model=\"lawFormData\" style=\"height: 100%; overflow: auto\" :rules=\"validators\">\n      <FormItem class=\"form-col\" label=\"名称\" prop=\"name\">\n        <Input v-model=\"lawFormData.name\"/>\n      </FormItem>\n      <!-- <FormItem class=\"form-col\" label=\"标题\">\n        <Input v-model=\"lawFormData.title\"/>\n      </FormItem> -->\n      <FormItem class=\"form-col\" label=\"标签\">\n        <tagSelector v-model=\"lawFormData.tagInfo\"/>\n      </FormItem>\n      <FormItem class=\"form-col\" label=\"简称\">\n        <Input v-model=\"lawFormData.alias\"/>\n      </FormItem>\n      <FormItem class=\"form-col\" label=\"关键字\">\n        <Input v-model=\"lawFormData.keywords\" placeholder=\"多个关键字用英文逗号隔开\"/>\n      </FormItem>\n      <FormItem class=\"form-col\" label=\"题注\" prop=\"creditLine\">\n        <Input v-model=\"lawFormData.creditLine\"/>\n      </FormItem>\n      <FormItem class=\"form-col\" label=\"法律文号\" prop=\"documentNumber\">\n        <Input v-model=\"lawFormData.documentNumber\"/>\n      </FormItem>\n      <FormItem class=\"form-col\" label=\"地区\">\n        <areaSelector :value=\"lawFormData.areaId\" @on-select=\"seleteArea\" />\n      </FormItem>\n      <FormItem class=\"form-col\" label=\"发布机构\">\n        <Input v-model=\"lawFormData.issuingAuthorit\"/>\n      </FormItem>\n      <FormItem class=\"form-col\" label=\"发布日期\" prop=\"issueDate\">\n        <!-- <Input v-model=\"lawFormData.issueDate\"/> -->\n        <DatePicker type=\"date\" placeholder=\"请选择日期\" v-model=\"lawFormData.issueDate\"></DatePicker>\n      </FormItem>\n      <FormItem class=\"form-col\" label=\"施行日期\" prop=\"enforcementDate\">\n        <!-- <Input v-model=\"lawFormData.enforcementDate\"/> -->\n        <DatePicker type=\"date\" placeholder=\"请选择日期\" v-model=\"lawFormData.enforcementDate\"></DatePicker>\n      </FormItem>\n      <FormItem class=\"form-col\" label=\"失效日期\" prop=\"expiryDate\">\n        <!-- <Input v-model=\"lawFormData.expiryDate\"/> -->\n        <DatePicker type=\"date\" placeholder=\"请选择日期\" v-model=\"lawFormData.expiryDate\"></DatePicker>\n      </FormItem>\n      <FormItem class=\"form-col\" label=\"效力等级\">\n        <!-- <Input v-model=\"lawFormData.forceLevel\"/> -->\n        <Select v-model=\"lawFormData.forceLevel\">\n          <Option v-for=\"item in forceLevelList\" :value=\"item.value\" :key=\"item.value\">{{ item.title }}</Option>\n        </Select>\n      </FormItem>\n      <div class=\"gutter\"></div>\n      <FormItem class=\"form-col\" label=\"效力状态\">\n        <!-- <Input v-model=\"lawFormData.forceStatus\"/> -->\n        <Select v-model=\"lawFormData.forceStatus\">\n          <Option v-for=\"item in forceStatusList\" :value=\"item.value\" :key=\"item.value\">{{ item.title }}</Option>\n        </Select>\n      </FormItem>\n      <FormItem class=\"form-col\" label=\"分值\">\n        <Input v-model=\"lawFormData.score\"/>\n      </FormItem>\n      <FormItem class=\"form-col\" label=\"排序\">\n        <Input v-model=\"lawFormData.sort\"/>\n      </FormItem>\n    </Form>\n  </Layout>\n</template>\n\n<script>\nimport tagSelector from '@/components/tag-selector'\nimport areaSelector from '@/components/area-selector'\nimport { saveLaw, getLawDetail, getLowForceStatus, getLowForceLevel } from '@/api/law'\n\nconst LawModel = {\n  alias: '', // 别名\n  areaId: 0, // 地区ID\n  areaNumber: '', // 地区代码\n  categoryId: 0, // 类别id\n  creditLine: '', // 题注\n  documentNumber: '', // 法律文号\n  enforcementDate: '', // 施行日期\n  expiryDate: '', // 失效日期\n  forceLevel: 0, // 效力等级\n  forceStatus: 0, // 效力状态， 1有效，2无效，3修改\n  id: null,\n  issueDate: '', // 发布日期\n  issuingAuthorit: 0, // 发布机构\n  keywords: '', // 关键字\n  level: 0, // 等级\n  name: '', // 法律名称\n  parentId: null, // 上级法律id\n  score: 0, // 分数值\n  sort: 0, // 排序\n  tagInfo: [], // 标签\n  title: '' // 法律标题\n}\n\nexport default {\n  name: 'law-detail',\n  components: {\n    tagSelector,\n    areaSelector\n  },\n  data () {\n    return {\n      lawFormData: this.deepCopy(LawModel),\n      forceStatusList: [],\n      forceLevelList: [],\n      validators: {\n        name: [\n          { required: true, message: '法律名词不能为空', trigger: 'blur' }\n        ],\n        creditLine: [\n          { required: true, message: '题注不能为空', trigger: 'blur' }\n        ],\n        documentNumber: [\n          { required: true, message: '法律文号不能为空', trigger: 'blur' }\n        ]\n        // issueDate: [\n        //   { required: true, message: '发布日期不能为空', trigger: 'change' }\n        // ],\n        // enforcementDate: [\n        //   { required: true, message: '施行日期不能为空', trigger: 'change' }\n        // ],\n        // expiryDate: [\n        //   { required: true, message: '失效日期不能为空', trigger: 'change' }\n        // ]\n      }\n    }\n  },\n  created () {\n    if (this.$route.params.type === 'new') {\n      this.lawFormData.categoryId = this.$route.params.category\n    } else if (this.$route.params.type === 'detail') {\n      getLawDetail({ id: this.$route.params.id }).then(({ data, response }) => {\n        if (response.success) {\n          this.lawFormData = data\n        } else {\n          this.$Message.error(response.msg)\n        }\n      })\n    }\n\n    this.getForceStatus()\n    this.getForceLevel()\n  },\n  methods: {\n    resetFormData () {\n      this.lawFormData = this.deepCopy(LawModel)\n    },\n    saveLaw () {\n      // this.lawFormData.enforcementDate.format('yyyy-MM-dd hh:mm:ss')\n      // this.lawFormData.expiryDate.format('yyyy-MM-dd hh:mm:ss')\n      // this.lawFormData.issueDate.format('yyyy-MM-dd hh:mm:ss')\n      this.$refs.lawForm.validate((valid) => {\n        if (valid) {\n          saveLaw(this.lawFormData).then(({ data, response }) => {\n            if (response.success) {\n              this.$Message.success('保存成功！')\n              this.$router.go(-1)\n            } else {\n              this.$Message.error(response.msg)\n            }\n          })\n        } else {\n          this.$Message.error('请检查必填项！')\n        }\n      })\n    },\n    getForceStatus () {\n      getLowForceStatus().then(({ data, response }) => {\n        if (response.success) {\n          this.forceStatusList = data\n        }\n      })\n    },\n    getForceLevel () {\n      getLowForceLevel().then(({ data, response }) => {\n        if (response.success) {\n          this.forceLevelList = data\n        }\n      })\n    },\n    seleteArea (data) {\n      this.lawFormData.areaId = data.id\n      this.lawFormData.code = data.code\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"stylus\">\n.law-detail-page\n  background none\n  height 100%\n  .tool-bar\n    display flex\n    margin-bottom 0.5rem\n    .left\n      flex 1 1 auto\n    .right\n      flex 1 0 auto\n      text-align right\n\n.form-col\n  flex 1 1 auto\n.gutter\n  width 0.5rem\n  height 0\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LawDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LawDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LawDetail.vue?vue&type=template&id=53f366aa&scoped=true&\"\nimport script from \"./LawDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./LawDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LawDetail.vue?vue&type=style&index=0&id=53f366aa&scoped=true&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"53f366aa\",\n  null\n  \n)\n\ncomponent.options.__file = \"LawDetail.vue\"\nexport default component.exports"],"sourceRoot":""}