{"version":3,"sources":["webpack:///./src/components/components/tree.vue?fa9f","webpack:///src/components/components/tree.vue","webpack:///./src/components/components/tree.vue?d8ff","webpack:///./src/components/components/tree.vue","webpack:///./src/components/components/tree.vue?d2af"],"names":["render","_vm","this","_h","$createElement","_c","_self","_v","_s","title","description","showType","select","length","attrs","value","theValue","disabled","readonly","change-on-select","data","load-data","loadData","on","on-change","changeOption","on-visible-change","blur","_e","staticRenderFns","treevue_type_script_lang_js_","uuid","result","props","schemaKey","type","String","require","default","treeData","Array","properties","Object","additionalKeys","Boolean","readonlyData","server","mounted","console","log","n","label","name","optionKey","children","loading","err","JSON","parse","methods","item","callback","$request","post","id","projectId","$route","query","then","r","response","code","success","selectedData","$emit","val","allowClose","components_treevue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_tree_vue_vue_type_style_index_0_id_65791bb4_lang_stylus_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_tree_vue_vue_type_style_index_0_id_65791bb4_lang_stylus_scoped_true___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"8IAAA,IAAAA,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,OAAAJ,EAAAM,GAAAN,EAAAO,GAAAP,EAAAQ,UAAAJ,EAAA,OAAAJ,EAAAM,GAAAN,EAAAO,GAAAP,EAAAS,gBAAA,aAAAT,EAAAU,UAAAV,EAAAW,QAAAX,EAAAW,OAAAC,OAAAR,EAAA,WAAkLS,OAAOL,MAAAR,EAAAQ,MAAAM,MAAAd,EAAAe,SAAAC,SAAAhB,EAAAiB,SAAAC,oBAAA,EAAAC,KAAAnB,EAAAW,OAAAS,YAAApB,EAAAqB,UAAkIC,IAAKC,YAAAvB,EAAAwB,aAAAC,oBAAAzB,EAAA0B,QAA2D1B,EAAA2B,MAAA3B,EAAA2B,MAAA,IACpdC,KCcAC,cAIAV,KAJA,WAKA,OACAR,UACAmB,KAAA,uCACAC,OAAA,KACAhB,SAAA,OAGAiB,OACAC,WACAC,KAAAC,OACAC,SAAA,GAEA5B,OACA0B,KAAAC,OACAE,QAAA,QAEAvB,SACAwB,UACAJ,KAAAK,OAEA9B,aACAyB,KAAAC,OACAE,QAAA,IAEAG,YACAN,KAAAO,QAEAC,gBACAR,KAAAK,OAEA7B,UACAwB,KAAAC,OACAE,QAAA,YAEApB,UACAiB,KAAAS,SAEAC,cACAV,KAAAK,MACAF,QAAA,sBAEAQ,QACAX,KAAAS,QACAP,SAAA,IAGAU,QAnDA,WAoDA,IAEA,GADAC,QAAAC,IAAA/C,KAAAqC,UACArC,KAAAqC,UAAArC,KAAAqC,SAAA1B,OAAA,CACA,QAAAqC,KAAAhD,KAAAqC,SACArC,KAAAqC,SAAAW,GAAAC,MAAAjD,KAAAqC,SAAAW,GAAAE,KACAlD,KAAAqC,SAAAW,GAAAnC,MAAAb,KAAAqC,SAAAW,GAAAG,WACA,IAAAnD,KAAAqC,SAAAW,GAAAI,UACApD,KAAAqC,SAAAW,GAAAI,YACApD,KAAAqC,SAAAW,GAAAK,SAAA,UAEArD,KAAAqC,SAAAW,GAAAI,SAkBApD,KAAAU,OAAAV,KAAAqC,SACAS,QAAAC,IAAA/C,KAAAU,SAEA,MAAA4C,GACAR,QAAAC,IAAAO,GACAtD,KAAAU,UAGA,GAAAV,KAAAa,MACA,IACAb,KAAAc,SAAAyC,KAAAC,MAAAxD,KAAAa,OAAA,GACA,MAAAyC,IAGAR,QAAAC,IAAA,MAAA/C,KAAAyC,iBAEAgB,SACArC,SADA,SACAsC,EAAAC,GACAD,EAAAL,SAAA,EACArD,KAAA4D,SAAAC,KAAA,8CACAC,GAAAJ,EAAAI,GACAC,UAAA/D,KAAAgE,OAAAC,MAAAF,YACAG,KAAA,SAAAC,GACA,OAAAA,EAAAjD,KAAAkD,SAAAC,OAAA,IAAAF,EAAAjD,KAAAkD,SAAAE,QAAA,CACA,QAAAtB,KAAAmB,EAAAjD,UACAiD,EAAAjD,UAAA8B,GAAAC,MAAAkB,EAAAjD,UAAA8B,GAAAE,KACAiB,EAAAjD,UAAA8B,GAAAnC,MAAAsD,EAAAjD,UAAA8B,GAAAG,WACA,IAAAgB,EAAAjD,UAAA8B,GAAAI,WACAe,EAAAjD,UAAA8B,GAAAI,YACAe,EAAAjD,UAAA8B,GAAAK,SAAA,GAGAK,EAAAN,SAAAe,EAAAjD,UACAwC,EAAAL,SAAA,EACAM,QAIApC,aAtBA,SAsBAV,EAAA0D,GACAvE,KAAAwE,MAAA,SACAxC,UAAAhC,KAAAgC,UACAnB,UACA+B,OAAA5C,KAAA4C,SAGAE,QAAAC,IAAAlC,IAgBAY,KA7CA,SA6CAgD,IACAA,GAAAzE,KAAAyC,gBAAAzC,KAAAyC,eAAA9B,QACAX,KAAAwE,MAAA,cACAE,YAAA,EACAjC,eAAAzC,KAAAyC,qBChK6VkC,EAAA,0BCQ7VC,EAAgBpC,OAAAqC,EAAA,KAAArC,CACdmC,EACA7E,EACA6B,GACF,EACA,KACA,WACA,MAIAiD,EAAAE,QAAAC,OAAA,WACeC,EAAA,WAAAJ,6CCpBf,IAAAK,EAAAC,EAAA,QAAAC,EAAAD,EAAAlC,EAAAiC,GAAwjBE,EAAG","file":"js/chunk-57beab53.17692627.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',[_vm._v(_vm._s(_vm.title))]),_c('div',[_vm._v(_vm._s(_vm.description))]),(_vm.showType === 'cascader')?[(_vm.select && _vm.select.length)?_c('xSelect',{attrs:{\"title\":_vm.title,\"value\":_vm.theValue,\"disabled\":_vm.readonly,\"change-on-select\":true,\"data\":_vm.select,\"load-data\":_vm.loadData},on:{\"on-change\":_vm.changeOption,\"on-visible-change\":_vm.blur}}):_vm._e()]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div>{{ title }}</div>\r\n    <div>{{ description }}</div>\r\n    <template v-if=\"showType === 'cascader'\">\r\n      <xSelect :title=\"title\" v-if=\"select && select.length\" :value=\"theValue\" :disabled=\"readonly\" :change-on-select=\"true\" :data=\"select\" :load-data=\"loadData\"  @on-change=\"changeOption\" @on-visible-change=\"blur\"/>\r\n    </template>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// import JsTreeList from 'js-tree-list'\r\n// import { Cascader } from './dist/iview.js'\r\n\r\n// TODO: v-model=\"result\"\r\nexport default {\r\n  // components: {\r\n  //   Cascader\r\n  // },\r\n  data () {\r\n    return {\r\n      select: [],\r\n      uuid: '00000000-0000-0000-0000-000000000016',\r\n      result: null,\r\n      theValue: null\r\n    }\r\n  },\r\n  props: {\r\n    schemaKey: {\r\n      type: String,\r\n      require: true\r\n    },\r\n    title: {\r\n      type: String,\r\n      default: '单选题目'\r\n    },\r\n    value: {},\r\n    treeData: {\r\n      type: Array\r\n    },\r\n    description: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    properties: {\r\n      type: Object\r\n    },\r\n    additionalKeys: {\r\n      type: Array\r\n    },\r\n    showType: {\r\n      type: String,\r\n      default: 'cascader'\r\n    },\r\n    readonly: {\r\n      type: Boolean\r\n    },\r\n    readonlyData: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    server: {\r\n      type: Boolean,\r\n      require: false\r\n    }\r\n  },\r\n  mounted () {\r\n    try {\r\n      console.log(this.treeData)\r\n      if (this.treeData && this.treeData.length) {\r\n        for (const n in this.treeData) {\r\n          this.treeData[n].label = this.treeData[n].name\r\n          this.treeData[n].value = this.treeData[n].optionKey\r\n          if (this.treeData[n].children === true) {\r\n            this.treeData[n].children = []\r\n            this.treeData[n].loading = false\r\n          } else {\r\n            delete this.treeData[n].children\r\n          }\r\n        }\r\n\r\n        // console.log(this.treeData)\r\n\r\n        // let tmp = new JsTreeList.ListToTree(this.treeData, {\r\n        //   key_id: 'id',\r\n        //   key_parent: 'parentId',\r\n        //   key_child: 'children',\r\n        //   key_last: null,\r\n        //   uuid: false,\r\n        //   empty_children: true\r\n        // }).GetTree()\r\n\r\n        // console.log(tmp)\r\n\r\n        // this.select = tmp\r\n        this.select = this.treeData\r\n        console.log(this.select)\r\n      }\r\n    } catch (err) {\r\n      console.log(err)\r\n      this.select = []\r\n    }\r\n\r\n    if (this.value) {\r\n      try {\r\n        this.theValue = JSON.parse(this.value)[0]\r\n      } catch (err) {}\r\n    }\r\n\r\n    console.log('追加题', this.additionalKeys)\r\n  },\r\n  methods: {\r\n    loadData (item, callback) {\r\n      item.loading = true\r\n      this.$request.post('/mvp-front/questionnaire/getNextLevelItems', {\r\n        id: item.id,\r\n        projectId: this.$route.query.projectId\r\n      }).then(r => {\r\n        if (r.data.response.code === 0 && r.data.response.success === true) {\r\n          for (const n in r.data.data) {\r\n            r.data.data[n].label = r.data.data[n].name\r\n            r.data.data[n].value = r.data.data[n].optionKey\r\n            if (r.data.data[n].children === true) {\r\n              r.data.data[n].children = []\r\n              r.data.data[n].loading = false\r\n            }\r\n          }\r\n          item.children = r.data.data\r\n          item.loading = false\r\n          callback()\r\n        }\r\n      })\r\n    },\r\n    changeOption (value, selectedData) {\r\n      this.$emit('input', {\r\n        schemaKey: this.schemaKey,\r\n        value: [value],\r\n        server: this.server\r\n      })\r\n\r\n      console.log(value)\r\n\r\n      // if (this.properties[val].additionalKeys && this.properties[val].additionalKeys.length) {\r\n      //   this.$emit('additional', {\r\n      //     allowClose: false,\r\n      //     additionalKeys: this.properties[val].additionalKeys\r\n      //   })\r\n      // } else {\r\n      //   if (this.properties[val].commit && this.properties[val].commit === true) {\r\n      //     this.$emit('commit', {\r\n      //       schemaKey: this.schemaKey,\r\n      //       uuid: this.uuid\r\n      //     })\r\n      //   }\r\n      // }\r\n    },\r\n    blur (val) {\r\n      if (!val && this.additionalKeys && this.additionalKeys.length) {\r\n        this.$emit('additional', {\r\n          allowClose: true,\r\n          additionalKeys: this.additionalKeys\r\n        })\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n.ivu-radio-group\r\n  text-align left\r\n.ivu-btn\r\n  height 120px\r\n  line-height 120px\r\n  width 200px\r\n  border 1px solid #ddd\r\n  background-color #f5f5f5\r\n  display inline\r\n  padding 0\r\n  margin 15px 20px 0\r\n  font-size 18px\r\n.ivu-btn:hover\r\n  color #3d99d6\r\n  background-color #eee\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tree.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tree.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./tree.vue?vue&type=template&id=65791bb4&scoped=true&\"\nimport script from \"./tree.vue?vue&type=script&lang=js&\"\nexport * from \"./tree.vue?vue&type=script&lang=js&\"\nimport style0 from \"./tree.vue?vue&type=style&index=0&id=65791bb4&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"65791bb4\",\n  null\n  \n)\n\ncomponent.options.__file = \"tree.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tree.vue?vue&type=style&index=0&id=65791bb4&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tree.vue?vue&type=style&index=0&id=65791bb4&lang=stylus&scoped=true&\""],"sourceRoot":""}