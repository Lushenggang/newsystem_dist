(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-09202818"],{"4f7f":function(t,e,i){"use strict";var n=i("c26b"),s=i("b39a"),o="Set";t.exports=i("e0b8")(o,function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return n.def(s(this,o),t=0===t?0:t,t)}},n)},"504c":function(t,e,i){var n=i("0d58"),s=i("6821"),o=i("52a7").f;t.exports=function(t){return function(e){var i,r=s(e),a=n(r),l=a.length,c=0,p=[];while(l>c)o.call(r,i=a[c++])&&p.push(t?[i,r[i]]:r[i]);return p}}},8615:function(t,e,i){var n=i("5ca1"),s=i("504c")(!1);n(n.S,"Object",{values:function(t){return s(t)}})},"88b2":function(t,e,i){"use strict";var n=i("b948"),s=i.n(n);s.a},b948:function(t,e,i){},c7f4:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"multi-select"},[i("xCheckboxGroup",{staticClass:"option-group",attrs:{vertical:""},on:{"on-change":t.chooseOptions},model:{value:t.select,callback:function(e){t.select=e},expression:"select"}},t._l(t.options,function(e,n){return i("xCheckbox",{key:n,staticStyle:{size:"large"},attrs:{label:n,disabled:t.readonly||-1!==t.readonlyData.indexOf(n)||t.optionsDsiabled[n]}},[i("span",{staticClass:"option-title"},[t._v(t._s(e.title))]),i("span",{staticClass:"option-description"},[t._v(t._s(e.description?"（"+e.description+"）":""))])])}))],1)},s=[],o=(i("55dd"),i("456d"),i("8615"),i("6762"),i("2fdb"),i("8afe")),r=(i("ac6a"),i("4f7f"),i("28a5"),{data:function(){return{select:[],uuid:"00000000-0000-0000-0000-000000000007",options:null,optionsKey:[],optionsDsiabled:{},optionsNoSelect:{},rejection:[],rejections:{},lastOption:null,lastVal:null}},props:{schemaKey:{type:String,require:!0},properties:{type:Object},title:{type:String,default:"多选题目"},value:{type:String},description:{type:String,default:""},additionalKeys:{type:Array},rejectionInfos:{type:Array},readonly:{type:Boolean},readonlyData:{type:Array,default:function(){return[]}},showType:{type:String},rejectionType:{type:String},server:{type:Boolean,require:!1}},mounted:function(){var t=this;for(var e in this.value&&(this.select=JSON.parse(this.value),this.lastVal=this.deepCopy(this.select)),this.options=this.properties,this.properties)this.optionsDsiabled[e]=!1,this.optionsNoSelect[e]=!1;for(var i in this.options)this.optionsKey.push(i);this.rejectionInfos&&this.rejectionInfos.length&&this.rejectionInfos.map(function(e){t.rejection.push(e.split(","))}),console.log(this.rejection);var n=[];this.rejection.map(function(e){for(var i in e){var s={},o=t.deepCopy(e);o.splice(i,1),s[e[i]]=o,n.push(s)}}),this.rejections=n,console.log(this.rejections),this.$emit("input",{schemaKey:this.schemaKey,value:this.select,server:this.server,first:!0})},methods:{chooseOptions:function(t){var e,i=this;if(this.lastVal){var n=new Set(t),s=new Set(this.lastVal);e=Object(o["a"])(new Set(Object(o["a"])(n).filter(function(t){return!s.has(t)}))),e=e.length>0?e[0]:null}else e=t[0];for(var r in console.log("当前选择："+e),this.properties)this.optionsDsiabled[r]=!1,this.optionsNoSelect[r]=!1;if("noSelect"===this.rejectionType)this.rejection.map(function(e){var n=0,s=[];if(t.map(function(t){var i=e.indexOf(t);-1!==i&&(n++,s.push(i))}),n===e.length-1){var r=Object(o["a"])(new Set(Object(o["a"])(Array(e.length).keys()).concat(s))),a=Object(o["a"])(r.filter(function(t){return!Object(o["a"])(Array(e.length).keys()).includes(t)})).concat(Object(o["a"])(r.filter(function(t){return!s.includes(t)})));1===a.length&&(i.optionsDsiabled[e[a[0]]]=!0)}});else{for(var a in this.rejections.map(function(n){var s=!0;Object.values(n)[0].map(function(e){-1===t.indexOf(e)&&(s=!1)}),s&&Object.keys(n)[0]!==e&&(i.optionsNoSelect[Object.keys(n)[0]]=!0)}),this.optionsNoSelect)if(this.optionsNoSelect[a]&&-1!==t.indexOf(a))for(var l=t.length-1;l>=0;l--)t[l]===a&&t.splice(l,1);console.log(this.options);var c=function(){for(var e in i.options)if(e===t[0])return i.options[e].unique;return!1};console.log(c()),!c()||e!==t[0]||1!==t.length||this.properties[t]&&this.properties[t].additionalKeys&&this.properties[t].additionalKeys.length||this.$emit("commit",{schemaKey:this.schemaKey,value:t}),this.select=t}for(var p in this.lastVal=t,t.sort(function(t,e){return i.optionsKey.indexOf(t)+1-(i.optionsKey.indexOf(e)+1)}),console.log(t),this.$emit("input",{schemaKey:this.schemaKey,value:t}),t)e===t[p]&&this.properties[t[p]]&&this.properties[t[p]].additionalKeys&&this.properties[t[p]].additionalKeys.length&&this.$emit("additional",{allowClose:!0,additionalKeys:this.properties[t[p]].additionalKeys})}}}),a=r,l=(i("88b2"),i("2877")),c=Object(l["a"])(a,n,s,!1,null,"03c91289",null);c.options.__file="multiSelect.vue";e["default"]=c.exports}}]);
//# sourceMappingURL=chunk-09202818.a52cab2f.js.map