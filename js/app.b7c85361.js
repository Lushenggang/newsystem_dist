(function(e){function t(t){for(var o,r,s=t[0],c=t[1],u=t[2],d=0,l=[];d<s.length;d++)r=s[d],a[r]&&l.push(a[r][0]),a[r]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);p&&p(t);while(l.length)l.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],o=!0,r=1;r<n.length;r++){var s=n[r];0!==a[s]&&(o=!1)}o&&(i.splice(t--,1),e=c(c.s=n[0]))}return e}var o={},r={app:0},a={app:0},i=[];function s(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-04944cb9":"9e9e6a05","chunk-04d27219":"13c88d2d","chunk-063a319c":"f0bc3997","chunk-06694f40":"2d7ef816","chunk-09202818":"a52cab2f","chunk-1397ce7d":"9eef475b","chunk-17b2c182":"d92a0d99","chunk-185f6e20":"c6bd8e5a","chunk-1e720c98":"f7465867","chunk-20e65cc9":"7988c838","chunk-227dcfb5":"06df79a2","chunk-23915e8a":"d69e9fa6","chunk-242ef0c8":"8709a1a4","chunk-2c91fa1a":"166943b1","chunk-2d0a3577":"64d3cd2b","chunk-2d0a43df":"2e00c125","chunk-2d0aab07":"1509dcff","chunk-2d0abc00":"1e61764e","chunk-2d0ae937":"22b2ec66","chunk-2d0aeb45":"c571eeac","chunk-2d0afa49":"65108fc0","chunk-2d0b2762":"7faa5aa3","chunk-2d0b6187":"1b01ea3f","chunk-2d0ba136":"08ad9b83","chunk-2d0bb267":"7da55a18","chunk-2d0bcec1":"eed4b121","chunk-2d0bff92":"5eac84e3","chunk-2d0c0494":"1c2ff97c","chunk-2d0c0a09":"ab666bda","chunk-2d0c1ed0":"051845e5","chunk-2d0c4313":"734ea760","chunk-2d0c46d1":"a90d3520","chunk-2d0c512b":"1660f895","chunk-2d0cf16e":"c3e2c753","chunk-2d0d056d":"34332182","chunk-2d0d0645":"5ba0a827","chunk-2d0d2f22":"0b0ad9f9","chunk-2d0d7673":"926af52f","chunk-2d0d7e63":"967be54e","chunk-2d0e1b57":"b2324250","chunk-2d0e1fbe":"3ae61e64","chunk-2d0e2110":"078f8e2d","chunk-2d0e22d6":"f15418dd","chunk-2d0e542a":"f9c1a461","chunk-2d0e57ec":"db5e2796","chunk-2d0e6553":"8e8eee36","chunk-2d0ea098":"59254529","chunk-2d208ac5":"b30c459d","chunk-2d209408":"f92607b1","chunk-2d20f745":"2c8189f8","chunk-2d20ff23":"57e1f9e1","chunk-2d2138c7":"4a97aa4a","chunk-2d217e5b":"40de0dd2","chunk-2d21b84a":"4bfe2261","chunk-2d21dcd2":"64e0a422","chunk-2d21f327":"4df1e469","chunk-2d2214b3":"4f3fe061","chunk-2d221a34":"7ff16b79","chunk-2d22502a":"2eba80c6","chunk-2d228ca6":"26b2912a","chunk-2d2295e9":"599758ba","chunk-2d22c171":"55accc8a","chunk-2d22c2b8":"19715c5c","chunk-2d22ca58":"f15b4516","chunk-2d2311f7":"3c951f38","chunk-2d2371be":"e7a3469f","chunk-2d237ee7":"3cd1af21","chunk-2d238465":"3860df71","chunk-384c1bce":"3470c938","chunk-396424e3":"3a81bb16","chunk-3b572fce":"1221337e","chunk-3ef53498":"4abe4af7","chunk-3ef95439":"73631ec3","chunk-3f75046c":"d4281571","chunk-4170f534":"5c31a20c","chunk-4563bf28":"ea553e86","chunk-4a2c4bb4":"8ad79d04","chunk-4b2f6eae":"ac898538","chunk-53df5140":"9a52d8ce","chunk-53e4db46":"8d15da33","chunk-5523c3c0":"0c650e3f","chunk-57beab53":"17692627","chunk-58546576":"f808777a","chunk-5c0359d5":"128c3b63","chunk-5d4c126e":"18aba271","chunk-60a69db4":"085ba1c0","chunk-613f721b":"161e5056","chunk-62b090a9":"578ded8c","chunk-66650b0e":"ff6aef37","chunk-68a86cce":"535c05bc","chunk-68b07760":"22302f5e","chunk-69392bce":"a6350a8e","chunk-6f0d9e13":"f1baffe9","chunk-72ac519a":"7bc4bba7","chunk-74213099":"6d37fe6b","chunk-7532b3ea":"b4edf996","chunk-788f0142":"b077c812","chunk-819cb12e":"f10f19b3","chunk-8b5b7c9a":"f4d68f42","chunk-8c98ca68":"011e0a51","chunk-90553430":"80209116","chunk-9666a97a":"6196a37a","chunk-b34c5698":"953cc072","chunk-e178ca60":"c9dbfde8","chunk-ecac0554":"8214490a","chunk-edb22d2c":"1528b970","chunk-f0f0a71a":"8f40a77e","chunk-f5101a5a":"8a9596a7","chunk-f780affc":"2ff9b3dd"}[e]+".js"}function c(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={"chunk-04944cb9":1,"chunk-04d27219":1,"chunk-063a319c":1,"chunk-06694f40":1,"chunk-09202818":1,"chunk-1397ce7d":1,"chunk-17b2c182":1,"chunk-185f6e20":1,"chunk-1e720c98":1,"chunk-20e65cc9":1,"chunk-227dcfb5":1,"chunk-23915e8a":1,"chunk-242ef0c8":1,"chunk-2c91fa1a":1,"chunk-384c1bce":1,"chunk-396424e3":1,"chunk-3b572fce":1,"chunk-3ef53498":1,"chunk-3ef95439":1,"chunk-3f75046c":1,"chunk-4170f534":1,"chunk-4563bf28":1,"chunk-4a2c4bb4":1,"chunk-4b2f6eae":1,"chunk-53df5140":1,"chunk-53e4db46":1,"chunk-5523c3c0":1,"chunk-57beab53":1,"chunk-58546576":1,"chunk-5c0359d5":1,"chunk-5d4c126e":1,"chunk-60a69db4":1,"chunk-613f721b":1,"chunk-62b090a9":1,"chunk-66650b0e":1,"chunk-68a86cce":1,"chunk-68b07760":1,"chunk-69392bce":1,"chunk-6f0d9e13":1,"chunk-72ac519a":1,"chunk-74213099":1,"chunk-788f0142":1,"chunk-819cb12e":1,"chunk-8b5b7c9a":1,"chunk-8c98ca68":1,"chunk-90553430":1,"chunk-9666a97a":1,"chunk-b34c5698":1,"chunk-e178ca60":1,"chunk-ecac0554":1,"chunk-edb22d2c":1,"chunk-f0f0a71a":1,"chunk-f5101a5a":1,"chunk-f780affc":1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise(function(t,n){for(var o="css/"+({}[e]||e)+"."+{"chunk-04944cb9":"0e433876","chunk-04d27219":"30f90506","chunk-063a319c":"ab7521d5","chunk-06694f40":"0e433876","chunk-09202818":"a223d41c","chunk-1397ce7d":"b9ca3d85","chunk-17b2c182":"09a3c664","chunk-185f6e20":"e3fcb34d","chunk-1e720c98":"956cc705","chunk-20e65cc9":"73b9feee","chunk-227dcfb5":"0e433876","chunk-23915e8a":"836cb949","chunk-242ef0c8":"0e433876","chunk-2c91fa1a":"190e8d99","chunk-2d0a3577":"31d6cfe0","chunk-2d0a43df":"31d6cfe0","chunk-2d0aab07":"31d6cfe0","chunk-2d0abc00":"31d6cfe0","chunk-2d0ae937":"31d6cfe0","chunk-2d0aeb45":"31d6cfe0","chunk-2d0afa49":"31d6cfe0","chunk-2d0b2762":"31d6cfe0","chunk-2d0b6187":"31d6cfe0","chunk-2d0ba136":"31d6cfe0","chunk-2d0bb267":"31d6cfe0","chunk-2d0bcec1":"31d6cfe0","chunk-2d0bff92":"31d6cfe0","chunk-2d0c0494":"31d6cfe0","chunk-2d0c0a09":"31d6cfe0","chunk-2d0c1ed0":"31d6cfe0","chunk-2d0c4313":"31d6cfe0","chunk-2d0c46d1":"31d6cfe0","chunk-2d0c512b":"31d6cfe0","chunk-2d0cf16e":"31d6cfe0","chunk-2d0d056d":"31d6cfe0","chunk-2d0d0645":"31d6cfe0","chunk-2d0d2f22":"31d6cfe0","chunk-2d0d7673":"31d6cfe0","chunk-2d0d7e63":"31d6cfe0","chunk-2d0e1b57":"31d6cfe0","chunk-2d0e1fbe":"31d6cfe0","chunk-2d0e2110":"31d6cfe0","chunk-2d0e22d6":"31d6cfe0","chunk-2d0e542a":"31d6cfe0","chunk-2d0e57ec":"31d6cfe0","chunk-2d0e6553":"31d6cfe0","chunk-2d0ea098":"31d6cfe0","chunk-2d208ac5":"31d6cfe0","chunk-2d209408":"31d6cfe0","chunk-2d20f745":"31d6cfe0","chunk-2d20ff23":"31d6cfe0","chunk-2d2138c7":"31d6cfe0","chunk-2d217e5b":"31d6cfe0","chunk-2d21b84a":"31d6cfe0","chunk-2d21dcd2":"31d6cfe0","chunk-2d21f327":"31d6cfe0","chunk-2d2214b3":"31d6cfe0","chunk-2d221a34":"31d6cfe0","chunk-2d22502a":"31d6cfe0","chunk-2d228ca6":"31d6cfe0","chunk-2d2295e9":"31d6cfe0","chunk-2d22c171":"31d6cfe0","chunk-2d22c2b8":"31d6cfe0","chunk-2d22ca58":"31d6cfe0","chunk-2d2311f7":"31d6cfe0","chunk-2d2371be":"31d6cfe0","chunk-2d237ee7":"31d6cfe0","chunk-2d238465":"31d6cfe0","chunk-384c1bce":"0f16c3ac","chunk-396424e3":"0e433876","chunk-3b572fce":"633e3615","chunk-3ef53498":"ab1d89f6","chunk-3ef95439":"6fd99cf2","chunk-3f75046c":"716f5d85","chunk-4170f534":"0e433876","chunk-4563bf28":"8106c05d","chunk-4a2c4bb4":"173541bb","chunk-4b2f6eae":"383860bd","chunk-53df5140":"c47a41d7","chunk-53e4db46":"40f898c3","chunk-5523c3c0":"17a9b49b","chunk-57beab53":"febbd818","chunk-58546576":"3d76a4a5","chunk-5c0359d5":"4165a0b2","chunk-5d4c126e":"8192c47d","chunk-60a69db4":"0e433876","chunk-613f721b":"62fa3784","chunk-62b090a9":"6b1562d4","chunk-66650b0e":"2dc81bd7","chunk-68a86cce":"902adfab","chunk-68b07760":"a324bb23","chunk-69392bce":"0e433876","chunk-6f0d9e13":"6140dad4","chunk-72ac519a":"ad93b383","chunk-74213099":"59f11e62","chunk-7532b3ea":"31d6cfe0","chunk-788f0142":"0e433876","chunk-819cb12e":"102b5a8b","chunk-8b5b7c9a":"05e8766f","chunk-8c98ca68":"2e613f35","chunk-90553430":"bd6eb1ef","chunk-9666a97a":"421b0f19","chunk-b34c5698":"83dca663","chunk-e178ca60":"9f7d392d","chunk-ecac0554":"0e433876","chunk-edb22d2c":"0e433876","chunk-f0f0a71a":"0e433876","chunk-f5101a5a":"38049dfe","chunk-f780affc":"75b3c136"}[e]+".css",r=c.p+o,a=document.getElementsByTagName("link"),i=0;i<a.length;i++){var s=a[i],u=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(u===o||u===r))return t()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){s=d[i],u=s.getAttribute("data-href");if(u===o||u===r)return t()}var l=document.createElement("link");l.rel="stylesheet",l.type="text/css",l.onload=t,l.onerror=function(t){var o=t&&t.target&&t.target.src||r,a=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");a.request=o,n(a)},l.href=r;var p=document.getElementsByTagName("head")[0];p.appendChild(l)}).then(function(){r[e]=0}));var o=a[e];if(0!==o)if(o)t.push(o[2]);else{var i=new Promise(function(t,n){o=a[e]=[t,n]});t.push(o[2]=i);var u,d=document.getElementsByTagName("head")[0],l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=s(e),u=function(t){l.onerror=l.onload=null,clearTimeout(p);var n=a[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src,i=new Error("Loading chunk "+e+" failed.\n("+o+": "+r+")");i.type=o,i.request=r,n[1](i)}a[e]=void 0}};var p=setTimeout(function(){u({type:"timeout",target:l})},12e4);l.onerror=l.onload=u,d.appendChild(l)}return Promise.all(t)},c.m=e,c.c=o,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)c.d(n,o,function(t){return e[t]}.bind(null,o));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],d=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var p=d;i.push([1,"chunk-vendors"]),n()})({0:function(e,t){},"00bb":function(e,t,n){"use strict";var o=n("f28c"),r=n.n(o);r.a},"0107":function(e,t,n){"use strict";var o=n("29ab"),r=n.n(o);r.a},"0307":function(e,t,n){"use strict";n.r(t);n("a481"),n("f751");function o(e){return void 0===e&&(e=document.body),!0===e?document.body:e instanceof window.Node?e:document.querySelector(e)}var r={inserted:function(e,t,n){var r=t.value;e.className=e.className?e.className+" v-global-dom":"v-global-dom";var a=e.parentNode;if(a){var i=document.createComment(""),s=!1;!1!==r&&(a.replaceChild(i,e),o(r).appendChild(e),s=!0),e.__transferDomData||(e.__transferDomData={parentNode:a,home:i,target:o(r),hasMovedOut:s})}},componentUpdated:function(e,t){var n=t.value,r=e.__transferDomData;if(r){var a=r.parentNode,i=r.home,s=r.hasMovedOut;!s&&n?(a.replaceChild(i,e),o(n).appendChild(e),e.__transferDomData=Object.assign({},e.__transferDomData,{hasMovedOut:!0,target:o(n)})):s&&!1===n?(a.replaceChild(e,i),e.__transferDomData=Object.assign({},e.__transferDomData,{hasMovedOut:!1,target:o(n)})):n&&o(n).appendChild(e)}},unbind:function(e){e.className=e.className.replace("v-global-dom","");var t=e.__transferDomData;t&&(!0===e.__transferDomData.hasMovedOut&&e.__transferDomData.parentNode&&e.__transferDomData.parentNode.appendChild(e),e.__transferDomData=null)}};t["default"]=r},"033f":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"multinest"},[n("Button",{attrs:{type:"info"},on:{click:function(t){return t.stopPropagation(),e.additional(t)}}},[e._v(e._s(e.title))]),e._l(this.properties[this.multiKey].properties,function(t,o){return n("div",{key:o},[e._v("\n    "+e._s(t.title)+"："+e._s(e.getValue(t,e.answers[o]))+"\n  ")])})],2)},r=[],a={name:"multinest",props:{title:{type:String,required:!0},multiKey:{type:String,required:!0},properties:{type:Object,required:!0},answers:{type:Object}},methods:{additional:function(){this.multiKey&&this.$emit("additional",{allowClose:!0,additionalKeys:[this.multiKey]})},getValue:function(e,t){if("00000000-0000-0000-0000-000000000005"===e.uuid||"00000000-0000-0000-0000-000000000007"===e.uuid||"00000000-0000-0000-0000-000000000013"===e.uuid){var n=[];for(var o in t)n.push(e.properties[t[o]].title);return n.join(",")}return t}}},i=a,s=n("2877"),c=Object(s["a"])(i,o,r,!1,null,null,null);c.options.__file="multiNest.vue";t["a"]=c.exports},"043d":function(e,t,n){"use strict";var o=n("3a8f"),r=n.n(o);r.a},"04ce":function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i}),n.d(t,"d",function(){return s}),n.d(t,"c",function(){return c});n("cadf"),n("551c"),n("097d");var o={a:{domain:"http://192.168.1.41",name:"开发服-LuoGang"},b:{domain:"http://192.168.1.47",name:"开发服-SunYanhuan"},c:{domain:"http://192.168.1.42",name:"开发服-LiXiaolong"},d:{domain:"http://118.24.174.95",name:"外网正式服"},e:{domain:"http://192.168.1.238",name:"内测服"},f:{domain:"http://47.91.248.91",name:"外测服"},g:{domain:"http://remote.a.gapi.store",name:"罗刚"}};window.localStorage.server||window.localStorage.setItem("server","d");var r=o,a=o[localStorage.server||"a"].domain,i=a+"/api",s="ws://newsystem.laway.cn",c="未命名"},"0660":function(e,t,n){"use strict";(function(e){var o=n("a322"),r=(n("c5f6"),n("a481"),n("6762"),n("2fdb"),n("ac4d"),n("8a81"),n("ac6a"),n("c93e")),a=(n("f751"),n("2c7b")),i=n("c508"),s={title:"网盘",component:i["a"],original:!0,props:{}};Object.assign(a["a"],{networkDisk:s}),t["a"]={data:function(){return{show:!1,showResource:!0,currentMenu:"",lockCurrentMenu:!1,componentInfo:Object(r["a"])({},a["a"]),conflictInfo:[["codeTest","nodeTree"]],pageList:[[],[]],currentMenuList:["",""],activePage:0,showList:[],silence:!1,showScale:!1,dragInfo:{},hideContent:-1,openWindow:null}},computed:{pageNum:function(){var e=0,t=!0,n=!1,o=void 0;try{for(var r,a=this.pageList[Symbol.iterator]();!(t=(r=a.next()).done);t=!0){var i=r.value;i.length&&e++}}catch(e){n=!0,o=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw o}}return e}},watch:{silence:function(){this.storageSetItem("helperSilence",this.silence)},show:function(){this.storageSetItem("showHelper",this.show)}},directives:{bindKey:{bind:function(e,t,n){e.__listenKeyUp__=function(t){var n=e.__vue__;if(n)if(t.ctrlKey&&t.shiftKey)"KeyZ"===t.code?(t.stopPropagation(),n.showAssistant()):"KeyS"===t.code?n.splitPage():"KeyX"===t.code?n.silenceHelper():"KeyA"===t.code&&n.switchShowResource();else if(t.altKey&&t.ctrlKey)"KeyZ"===t.code?(t.stopPropagation(),n.showAssistant()):t.code;else if(t.ctrlKey);else if(t.altKey&&t.code.includes("Digit")){var o=t.code.replace(/[a-zA-Z]/g,"");if(!isNaN(o)){var r=Number(o);r>0&&r<=n.pageList[n.activePage].length&&n.showMenu(n.pageList[n.activePage][r-1],{auto:!1})}}},e.__listenKeyDown__=function(t){var n=e.__vue__;if(n)if(t.ctrlKey&&t.shiftKey)"KeyZ"===t.code||("ArrowLeft"===t.code?n.throttleChangeSize("width",-1):"ArrowRight"===t.code?n.throttleChangeSize("width",1):"ArrowUp"===t.code?n.throttleChangeSize("height",-1):"ArrowDown"===t.code&&n.throttleChangeSize("height",1));else if(t.ctrlKey&&t.altKey&&t.code.includes("Arrow")){var o=document.body.clientHeight-100,r=document.body.clientWidth-100;"ArrowLeft"===t.code?n.throttleChangeSize("left",-3,{min:0,max:r}):"ArrowRight"===t.code?n.throttleChangeSize("left",3,{min:0,max:r}):"ArrowUp"===t.code?n.throttleChangeSize("top",-3,{min:0,max:o}):"ArrowDown"===t.code&&n.throttleChangeSize("top",3,{min:0,max:o})}},document.addEventListener("keyup",e.__listenKeyUp__),document.addEventListener("keydown",e.__listenKeyDown__)},unbind:function(e,t,n){document.removeEventListener("keyup",e.__listenKeyUp__),document.removeEventListener("keydown",e.__listenKeyDown__),delete e.__listenKeyUp__,delete e.__listenKeyDown__}}},created:function(){this.$bus.$on("pop-helper-show",this.showAssistant),this.$bus.$on("pop-helper-show-menu",this.showMenu),this.$bus.$on("pop-helper-hide-menu",this.hideMenu),this.$bus.$on("pop-helper-update-prop",this.updateProps),this.$bus.$on("pop-helper-register-component",this.registerComponent),this.throttleChangeSize=e.throttle(this.changeSize,100)},mounted:function(){this.silence=!0===this.storageGetItem("helperSilence"),this.storageGetItem("showHelper")&&this.silence&&this.showAssistant(),this.registerObserver()},beforeDestroy:function(){this.removeObserver(),this.$bus.$off("pop-helper-show-menu",this.showMenu),this.$bus.$off("pop-helper-hide-menu",this.hideMenu),this.$bus.$off("pop-helper-update-prop",this.updateProps),this.$bus.$off("pop-helper-register-component",this.registerComponent)},methods:{registerComponent:function(e,t){if(!this.componentInfo[e]||!this.componentInfo[e].original){var n={title:t.title||"",component:t.component,props:t.props||{}};this.componentInfo[e]=n}},unRegisterComponet:function(e){this.componentInfo[e]&&(this.componentInfo[e].original||(this.hidePagesMenu(e),delete this.componentInfo[e]))},updateProps:function(e,t){if(this.componentInfo[e])for(var n in t)this.$set(this.componentInfo[e].props,n,t[n])},showMenu:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.showAssistant();var n=this.activePage;if(t.hasOwnProperty("page")&&(n=t.page),!t.hasOwnProperty("drag"))for(var o in this.pageList){if(this.pageList[o].includes(e)){n=o;break}this.conflictShow(o,e)&&(n=1^o)}if(n>=this.pageList.length&&(this.pageList.length>=2?n=0:this.pageList.push([])),this.componentInfo[e]){var r=t.hasOwnProperty("position")?t.position:null;if(this.pageList[n].includes(e)){var a=this.pageList[n].indexOf(e);r&&r!==a&&(a<r&&(r-=1),this.pageList[n].splice(a,1),this.pageList[n].splice(r,0,e))}else null!==r?this.pageList[n].splice(r,0,e):this.pageList[n].push(e);this.changeActivePage(n),this.currentMenuList.splice(n,1,e)}},hideMenu:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null===t&&(t=this.activePage);var n=this.pageList[t].indexOf(e);if(-1!==n&&this.pageList[t].splice(n,1),this.currentMenuList[t]===e){this.currentMenuList[t]="";var o=-1!==n&&this.pageList[t].length>n?n:n-1;if(-1!==o){var r=this.pageList[t][o];this.showMenu(r,{auto:!1})}else this.closePage(t)}},conflictShow:function(e,t){var n=!0,o=!1,r=void 0;try{for(var a,i=this.conflictInfo[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var s=a.value;if(s.includes(t)){var c=!0,u=!1,d=void 0;try{for(var l,p=s[Symbol.iterator]();!(c=(l=p.next()).done);c=!0){var h=l.value;if(t!==h&&this.pageList[e].includes(h))return!0}}catch(e){u=!0,d=e}finally{try{c||null==p.return||p.return()}finally{if(u)throw d}}}}}catch(e){o=!0,r=e}finally{try{n||null==i.return||i.return()}finally{if(o)throw r}}return!1},hidePagesMenu:function(e){for(var t=0;t<this.pageList.length;t++)this.hideMenu(e,t)},refreshContent:function(e){var t=this;this.hideContent=Number(e),this.$nextTick(function(){t.hideContent=-1})},showInNewWindow:function(){if(!this.openWindow||this.openWindow.closed){var e=this.$router.resolve({name:"Helper"}),t=e.href;this.openWindow=window.open(t,"helper","width=600,height=800,toolbar"),this.openWindow.onunload=function(e){localStorage.setItem("lockOpen",(new Date).getTime()),setTimeout(function(){localStorage.removeItem("lockOpen")},1e3)},this.openWindow.blur()}window.setTargetWindow&&window.setTargetWindow(this.openWindow)},showAssistant:function(){var e=localStorage.getItem("lockOpen");if(e){var t=(new Date).getTime();if(t-e<1e3)return;localStorage.removeItem("lockOpen")}var n=window.localStorage.getItem("helperShowType")||"1";"1"===n?(this.show&&(this.show=!1),this.showInNewWindow()):(this.openWindow&&this.openWindow.close(),this.show=!0),this.show&&this.silence&&this.$refs.menuContent.animate([{boxShadow:"0 0 2px 3px #4878F6"},{boxShadow:"0 0 1px 1px #78A4FA"},{boxShadow:"0 0 2px 3px #4878F6"},{boxShadow:"0 0 1px 1px #78A4FA"},{boxShadow:"0 0 2px 3px #4878F6"},{boxShadow:"0 0 1px 1px #78A4FA"}],500)},close:function(){this.recordPosition(),this.show=!1},recordPosition:function(){var e=this.silence?"silenceStyle":"activeStyle",t=getComputedStyle(this.$refs.menuContent),n={width:t.getPropertyValue("width"),height:t.getPropertyValue("height"),left:t.getPropertyValue("left"),top:t.getPropertyValue("top")};this.storageSetItem(e,n)},recoveryPosition:function(){var e=this.silence?"silenceStyle":"activeStyle",t=this.storageGetItem(e)||{};for(var n in t)this.$refs.menuContent.style[n]=t[n]},silenceHelper:function(){this.silence=!this.silence,this.recoveryPosition()},storageSetItem:function(e,t){var n=localStorage.getItem("popMenuInfo"),o=n?JSON.parse(n):{};o[e]=JSON.stringify(t);var r=JSON.stringify(o);window.localStorage.setItem("popMenuInfo",r)},storageGetItem:function(e){var t=window.localStorage.getItem("popMenuInfo");if(!t)return null;var n=JSON.parse(t),o=n[e]?JSON.parse(n[e]):null;return o},splitPage:function(){var e=this.currentMenuList[this.activePage],t=this.pageList[0].length?0:1;this.hideMenu(e,t),this.pageList[0].length||(this.pageList.splice(0,1),this.pageList.push([]),this.currentMenuList[0]=this.currentMenuList[1],this.currentMenuList[1]=""),this.showMenu(e,{page:1})},closePage:function(e){var t=this.pageList[e];t&&(t.splice(0,t.length),this.currentMenuList[e]="")},changeActivePage:function(e){e=Number(e),this.activePage=e},switchShowResource:function(){this.showResource=!this.showResource},handleDrop:function(e){if(this.dragInfo.dragging){var t=this.dragInfo.drag,n=this.dragInfo.onTab;if(this.dragInfo={},(t.index!==e||!n||n.title!==t.title)&&(!n||this.pageList[e].includes(n.title))){var o={page:e,drag:!0};if(n){var r=this.pageList[e].indexOf(n.title);"after"===n.position&&(r+=1),o.position=r}e!==t.index&&this.hideMenu(t.title,t.index),this.showMenu(t.title,o)}}},handleDragOver:function(e){this.dragInfo.dragging&&e.preventDefault()},handleDragStart:function(e,t){this.dragInfo.dragging=!0,this.dragInfo.drag={index:e,title:t}},handleDragOverTab:function(e,t){this.dragInfo.onTab={title:t,index:e};var n=event.target.getBoundingClientRect();event.clientX>n.left+n.width/2?this.dragInfo.onTab.position="after":this.dragInfo.onTab.position="before"},handleDragLeave:function(){delete this.dragInfo.onTab},handleDragEnd:function(){this.dragInfo={}},registerObserver:function(){var e=this,t=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;this.observer=new t(function(){e.recordPosition()}),this.observer.observe(this.$refs.menuContent,{attributes:!0,attributeFilter:["style"],subtree:!0})},removeObserver:function(){this.observer&&(this.observer.disconnect(),this.observer.takeRecords(),this.observer=null)},changeSize:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.$refs.menuContent.getBoundingClientRect(),a=r[e],i=20*t,s=a+i;n.hasOwnProperty("min")&&(s=Math.max(n.min,s)),n.hasOwnProperty("max")&&(s=Math.min(n.max,s)),this.$refs.menuContent.animate([Object(o["a"])({},e,a+"px"),Object(o["a"])({},e,s+"px")],100),this.$refs.menuContent.style[e]=s+"px"}}}}).call(this,n("2ef0"))},"0738":function(e,t,n){"use strict";var o=n("4fbf"),r=n.n(o);r.a},"0740":function(e,t,n){},"07b3":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"additional"},[n("xModal",{attrs:{closable:e.closable,async:""},on:{"on-ok":e.ensure},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[n("p",{staticStyle:{"text-align":"center"},attrs:{slot:"title"},slot:"title"},[e._v("\n        "+e._s(e.title)+"\n      ")]),e._t("default")],2)],1)},r=[],a=(n("c5f6"),{name:"additional",model:{prop:"value",event:"show"},data:function(){return{closable:!1}},props:{title:{type:String,default:""},value:{type:[Boolean,Number],required:!1,default:!0},additionalKey:{type:String,required:!0}},computed:{show:{get:function(){return!!this.value},set:function(e){this.closable=2!==this.value,this.$emit("show",e)}}},methods:{close:function(){this.$emit("show",!1)},ensure:function(){this.$emit("have",this.additionalKey),2===this.value&&this.$emit("commit",{}),this.$emit("show",!1)},reset:function(){window.location.reload()}}}),i=a,s=n("2877"),c=Object(s["a"])(i,o,r,!1,null,null,null);c.options.__file="additional.vue";t["a"]=c.exports},"0af1":function(e,t,n){},"0c43":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"tabs-title"},[n("div",{staticClass:"tabs-label",class:"first"===e.chooseTabs?"choose":"",on:{click:function(t){e.chooseTabs="first"}}},[e._v("\n      变量设置\n      "),n("span",{on:{click:function(t){t.stopPropagation(),e.lockTab=!e.lockTab}}},[e.lockTab?n("Icon",{attrs:{type:"md-lock",title:"tab已锁定"}}):n("Icon",{attrs:{type:"md-unlock",title:"tab未锁定"}})],1)]),n("div",{staticClass:"tabs-label",class:"second"===e.chooseTabs?"choose":"",on:{click:function(t){e.chooseTabs="second"}}},[e._v("\n      测试结果\n    ")])]),e.codeList.length?n("div",{staticClass:"tabs-content"},[n("div",{directives:[{name:"show",rawName:"v-show",value:"first"===e.chooseTabs,expression:"chooseTabs==='first'"}],staticClass:"test-set"},[n("div",{staticClass:"test-set-case"},e._l(e.testingDatas,function(t,o){return n("Card",{key:o},[n("div",{staticClass:"case-title"},[e._v("\n            测试用例"+e._s(o+1)+"\n          ")]),e._l(e.jsonSchema[o],function(t,r){return n("div",{key:r,staticClass:"question"},[t.schema?e._e():n("div",[e._v("\n              "+e._s(t.variableName)+": "+e._s(t.msg)+"\n            ")]),t.schema?[n("h3",[e._v("("+e._s(t.variableName)+") "+e._s(t.schema.title))]),e._l(t.schema.properties,function(a,i){return n("div",{key:i,staticClass:"schema-item"},[a.additional?n("Modal",{attrs:{title:a.title||"请填写具体信息",transfer:""},model:{value:a.additionalShow,callback:function(t){e.$set(a,"additionalShow",t)},expression:"value.additionalShow"}},e._l(a.properties,function(o,r){return n("schemaComponent",{key:r,attrs:{name:o.uuid,propsObject:o,schemaKey:r},on:{input:function(n){e.Input(n,t.variableName)},commit:function(){}}})})):"00000000-0000-0000-0000-000000000012"===i.uuid&&i.multiKey?n("MultiNest",{attrs:{properties:e.schema.properties,answers:e.answers,title:i.title,schemaKey:i,multiKey:i.multiKey},on:{additional:function(){}}}):e._e(),n("schemaComponent",{attrs:{name:a.uuid,propsObject:a,schemaKey:i},on:{input:function(n){e.Input(n,t.variableName,o,r,i,a)},commit:function(n){e.Input(n,t.variableName,o,r,i,a)}}})],1)})]:e._e()],2)}),Object.keys(t.conditions).length?n("div",{staticClass:"question"},e._l(t.conditions,function(t,r){return n("div",{key:r},[e.conditions[r].title?n("Checkbox",{attrs:{size:"small",value:t},on:{"on-change":function(t){e.changeCondition(t,o,r)}}},[n("span",{staticClass:"condition-title"},[e._v("\n                  ("+e._s(r)+") "+e._s(e.conditions[r].title)+"\n                ")])]):n("div",[e._v("\n                "+e._s(r)+":"+e._s(e.conditions[r].errorMsg)+"\n              ")])],1)})):e._e(),n("Button",{on:{click:function(t){e.addTestCase(o)}}},[e._v("添加测试用例")]),e.testingDatas.length>1?n("Button",{on:{click:function(t){e.deleteTestCase(o)}}},[e._v("删除测试用例")]):e._e()],2)})),n("div",{staticClass:"test-button-list"},[n("Button",{staticClass:"button-test",attrs:{type:"success"},on:{click:e.testCode}},[e._v("点此测试")]),n("Button",{attrs:{type:"default"},on:{click:function(t){e.getJsonSchema(!0)}}},[e._v("清空测试用例")])],1)]),n("div",{directives:[{name:"show",rawName:"v-show",value:"second"===e.chooseTabs,expression:"chooseTabs === 'second'"}],staticClass:"test-result"},[n("div",{staticClass:"test-result-content"},[n("div",{staticClass:"test-result-items"},e._l(e.testResult,function(t,o){return n("div",{key:o,staticClass:"item"},[n("div",{staticClass:"item-cases"},e._l(t,function(t,o){return"result"!==o?n("div",{key:o,staticClass:"item-case"},[n("strong",[e._v(e._s(o)+"\n                  "),n("span",[e._v("("+e._s(t.title)+")")]),e._v(":")]),"boolean"===typeof t.value?n("span",[e._v(e._s(t.value))]):e._l(t.value,function(t,o){return n("span",{key:o,staticClass:"test-data"},[t.title?n("span",[e._v(" "+e._s(t.title)+": ")]):e._e(),e._v(e._s(t.value)+"\n                  ")])})],2):e._e()})),n("div",{staticClass:"item-result",domProps:{innerHTML:e._s(t.result)}}),e.showErrorButton&&-1!==e.errorCodeIdx?n("Button",{staticClass:"error-link",attrs:{type:"warning"},on:{click:function(t){return t.stopPropagation(),e.focusErrorCode(t)}}},[e._v("\n              跳转到错误代码块\n            ")]):e._e()],1)}))])])]):e._e()])},r=[],a=n("7195"),i=a["a"],s=(n("fa52"),n("783f"),n("2877")),c=Object(s["a"])(i,o,r,!1,null,"1b2be1b0",null);c.options.__file="codeTest.vue";t["default"]=c.exports},"0cb3":function(e,t,n){"use strict";var o=n("1bfb"),r=n.n(o);r.a},"0f66":function(e,t,n){"use strict";n.r(t),n.d(t,"getNodeConditionInfo",function(){return r}),n.d(t,"getSearchList",function(){return a}),n.d(t,"toggleNodeCollapse",function(){return i}),n.d(t,"saveNodes",function(){return s}),n.d(t,"deleteNodes",function(){return c}),n.d(t,"getNodeData",function(){return u}),n.d(t,"getCommonNodes",function(){return d}),n.d(t,"getNodeConfigData",function(){return l}),n.d(t,"moveNodeToProject",function(){return h}),n.d(t,"dragNode",function(){return m}),n.d(t,"saveNodeCode",function(){return f}),n.d(t,"saveComponentInfo",function(){return g});n("ac6a");var o=n("6b6c");function r(e){return o["a"].post("/mvp-manager/node/getNodeConditionInfo",{nodeId:e.id}).then(function(e){return e.data.data})}function a(e){return o["a"].post("/mvp-manager/node/searchNodes",e).then(function(e){return e.data.data})}function i(e){return o["a"].post("/mvp-manager/node/setNodeExpandStatus",e).then(function(e){return e.data.data})}function s(e,t){return o["a"].post("/mvp-manager/node/saveNodes",e).then(function(e){if(e.data.response.success)return e;throw new Error("保存失败！")})}function c(e){return o["a"].post("/mvp-manager/node/deleteNodes",e).then(function(e){if(e.data.response.success)return e;throw new Error("删除失败！")})}function u(e,t){return o["a"].post("/mvp-manager/node/list",e).then(function(t){return t.data.response.success,e.expandAll&&t.data.data.forEach(function(e){e.expanded=!0}),t}).catch(t||p)}function d(e,t){return o["a"].post("/mvp-manager/node/commonProjectNodes",e).then(function(e){return e.data.response.success,e}).catch(t||p)}function l(e,t){return o["a"].post("/mvp-manager/node/nodeDetail",{nodeId:e}).then(function(e){return e.data.response.success,e}).catch(t||p)}function p(e){throw console.error(e),e}function h(e){return o["a"].post("/mvp-manager/node/moveNode",e).then(function(e){if(e.data.response.success)return e.data||!1}).catch(p)}function m(e){return o["a"].post("/mvp-manager/node/dragNode",e).then(function(e){return e.data})}function f(e){return o["a"].post("/mvp-manager/node/saveCondition",e).then(function(e){return e.data})}function g(e){return o["a"].post("/mvp-manager/node/saveComponentInfo",e).then(function(e){return e.data})}t["default"]={}},"0f9a":function(e,t,n){"use strict";n.r(t);n("7f7f"),n("96cf");var o=n("3040"),r=(n("a481"),n("c276")),a=n("24fd"),i={userInfo:Object(r["d"])(),token:Object(r["c"])(),companyList:[],currentCompany:null,currentCompanyName:null},s={userInfo:function(e){return e.userInfo&&"{}"===JSON.stringify(e.userInfo).replace(/\s/g,"")?null:e.userInfo},token:function(e){return e.token}},c={getCompanyList:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n,o,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,a["default"].getCompanyList();case 3:o=e.sent,o&&(r={companyList:o,currentCompany:o.length?o[0].id:"",currentCompanyName:o.length?o[0].name:""},n("setOrg",r));case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},u={setUserInfo:function(e,t){e.userInfo=t,Object(r["f"])(t)},setToken:function(e,t){e.token=t,Object(r["e"])(t)},clearToken:function(e){e.token="",Object(r["a"])()},clearUserInfo:function(e){e.userInfo=null,Object(r["b"])()},setOrg:function(e,t){var n=t.companyList,o=t.currentCompany,r=t.currentCompanyName;e.companyList=n,e.currentCompany=o,e.currentCompanyName=r}};t["default"]={namespaced:!0,state:i,getters:s,actions:c,mutations:u}},1:function(e,t,n){e.exports=n("56d7")},1125:function(e,t,n){},"164b":function(e,t,n){},"19cc":function(e,t,n){},"1a6c":function(e,t,n){"use strict";function o(e,t,n){function o(n){if(e.contains(n.target))return!1;t.expression&&t.value(n)}e.__documentHandler__=o,document.addEventListener("click",o)}function r(e,t,n){document.removeEventListener("click",e.__documentHandler__),delete e.__documentHandler__}n.r(t),t["default"]={bind:o,unbind:r}},"1bfb":function(e,t,n){},"1c31":function(e,t,n){"use strict";n.r(t);n("96cf");var o=n("3040"),r=n("6b6c"),a=n("6ace");t["default"]={getCodeList:function(e){return Object(a["default"])(r["a"].post,"/mvp-manager/reportCode/listReportCodeBlock",e)},addCode:function(e){return Object(a["default"])(r["a"].put,"/mvp-manager/reportCode/saveReportCodeBlock",e)},updateCodeCard:function(e){return Object(a["default"])(r["a"].put,"/mvp-manager/reportCode/udpateReportCodeBlock",e)},deleteCodeCard:function(e){return Object(a["default"])(r["a"].post,"/mvp-manager/reportCode/deleteReportCodeBlock",e,!0)},testCode:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r["a"].post("/mvp-manager/test/codeTesting",t);case 2:return n=e.sent,o=n.data,e.abrupt("return",o);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),saveCode:function(e){return Object(a["default"])(r["a"].put,"/mvp-manager/reportCode/updateReportCodeBlock",e)},getReportTree:function(e){return Object(a["default"])(r["a"].post,"/mvp-manager/reportCode/listReportCode",e)},getChapterTree:function(e){return Object(a["default"])(r["a"].post,"/mvp-manager/reportCode/listReportCodeOutline",e)},addReportNode:function(e){return Object(a["default"])(r["a"].put,"/mvp-manager/reportCode/saveReportCode",e)},addChapterNode:function(e){return Object(a["default"])(r["a"].put,"/mvp-manager/reportCode/saveReportCodeOutline",e)},updateReportNode:function(e){return Object(a["default"])(r["a"].put,"/mvp-manager/reportCode/updateReportCode",e)},updateChapterNode:function(e){return Object(a["default"])(r["a"].put,"/mvp-manager/reportCode/updateReportCodeOutline",e)},moveReportNode:function(e){return Object(a["default"])(r["a"].put,"/mvp-manager/reportCode/moveReportCode",e,{})},moveChapterCodeOutline:function(e){return Object(a["default"])(r["a"].put,"/mvp-manager/reportCode/moveReportCodeOutline",e,{})},deleteReportNode:function(e){return Object(a["default"])(r["a"].post,"/mvp-manager/reportCode/deleteReportCode",e,!0)},deleteChapterNode:function(e){return Object(a["default"])(r["a"].post,"/mvp-manager/reportCode/deleteReportCodeOutline",e,!0)},getTokenExplain:function(e){return Object(a["default"])(r["a"].post,"mvp-manager/test/variableInfo",e)},getJsonSchema:function(e){return Object(a["default"])(r["a"].post,"/mvp-manager/test/componentInfo",e)},checkReport:function(e){return Object(a["default"])(r["a"].post,"/mvp-manager/reportCode/checkReportState",e,[])}}},"1c64":function(e,t,n){},2:function(e,t){},2174:function(e,t,n){"use strict";n.r(t);var o=n("98a4");function r(e,t,n){var r=e.querySelector(".ivu-modal-content");r&&(r.style.position="relative",r.style.left="0",r.style.right="0",r.style.top="0",r.style.bottom="0",r.style.width="100%",r.style.height="100%"),t.value||(t.value={width:!0});var a=e.querySelector(".ivu-modal");a&&(a.style.position="fixed",o["default"].bind(a,t,n))}function a(e,t,n){var r=e.querySelector(".ivu-modal");r&&o["default"].unbind(r,t,n)}t["default"]={bind:r,unbind:a}},"24d2":function(e,t,n){"use strict";n.r(t);var o=n("6b6c"),r=n("6ace");t["default"]={getProjectList:function(e){return Object(r["default"])(o["a"].post,"/mvp-manager/project/list",e,[])},getProjectDetail:function(e){return Object(r["default"])(o["a"].post,"/mvp-manager/project/detail?id="+e.id,{},{})},getRootProjectList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r["default"])(o["a"].post,"/mvp-manager//project/getAllRoots",e,[])},addProject:function(e){return Object(r["default"])(o["a"].post,"/mvp-manager/project/save",e,{})},deleteProject:function(e){return Object(r["default"])(o["a"].post,"/mvp-manager/project/delete",e,{})},updateProject:function(e){return Object(r["default"])(o["a"].post,"/mvp-manager/project/update",e,{})},getProjectMembers:function(e){return Object(r["default"])(o["a"].post,"/mvp-manager/project/getUsers",e,[])},setMemberPermission:function(e){return Object(r["default"])(o["a"].post,"/mvp-manager/project/setUserType",e,{})},addProjectMembers:function(e){return Object(r["default"])(o["a"].post,"/mvp-manager/project/addUsers",e,{})},removeProjectMember:function(e){return Object(r["default"])(o["a"].post,"/mvp-manager/project/delUsers",e,{})},getUserListByKeyword:function(e){return Object(r["default"])(o["a"].post,"/mvp-manager/project/searchUsers",e,[])},getProjectReadyTeamList:function(e){return Object(r["default"])(o["a"].post,"/mvp-manager/project/getOrgs",e,[])},setOrgInfo:function(e){return Object(r["default"])(o["a"].post,"/mvp-manager/project/setOrg",e,{})},setToCompany:function(e){return Object(r["default"])(o["a"].post,"/mvp-manager/project/setCompany",e)}}},"24fd":function(e,t,n){"use strict";n.r(t);n("96cf");var o=n("3040"),r=n("6b6c"),a=n("6ace");t["default"]={getCompanyList:function(){return Object(a["default"])(r["a"].post,"/mvp-manager/company/getLoginCompanies",{},[])},getMemberList:function(){return Object(a["default"])(r["a"].post,"/mvp-manager//user/getCompanyUsers",{},[])},emailAuthenticate:function(e){return Object(a["default"])(r["a"].post,"/mvp-manager/user/sendActivationMail",e,{})},deleteCompanyMember:function(e){return Object(a["default"])(r["a"].delete,"/mvp-manager/user/delete",{data:e})},setCompanyUserType:function(e){return Object(a["default"])(r["a"].post,"/mvp-manager/user/setCompanyUserType",e)},getTeamList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(a["default"])(r["a"].post,"/mvp-manager/org/list",e,[])},saveTeamEditing:function(e){return Object(a["default"])(r["a"].post,"/mvp-manager/org/save",e,{})},removeTeam:function(e){return Object(a["default"])(r["a"].delete,"/mvp-manager/org/delete",{data:e},{})},addMemberToTeam:function(e){return Object(a["default"])(r["a"].post,"/mvp-manager/org/addUsers",e,{})},removeTeamMember:function(e){return Object(a["default"])(r["a"].post,"/mvp-manager/org/delUsers",e,{})},getTeamMembers:function(e){return Object(a["default"])(r["a"].post,"/mvp-manager/org/getOrgUsers",e,[])},setMemberPermission:function(e){return Object(a["default"])(r["a"].post,"/mvp-manager/org/setOrgUserType",e,{})},removeOrg:function(e){return Object(a["default"])(r["a"].post,"/mvp-manager/org/delete/"+e,{},!0)},editTeamInfo:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r["a"].post("/mvp-manager/org/detail/"+t.id);case 3:if(n=e.sent,o=n.data,200!==o.status||0!==o.data.response.code){e.next=7;break}return e.abrupt("return",o.data);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0);case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}},e,this,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),editTeamInfo1:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r["a"].post("/mvp-manager/user/list",t);case 3:if(n=e.sent,o=n.data,200!==o.status||0!==o.data.response.code){e.next=7;break}return e.abrupt("return",o.data.result);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0);case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}},e,this,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),saveTeamEdit:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r["a"].post("/mvp-manager/org/save",t);case 3:if(n=e.sent,o=n.data,200!==o.status||0!==o.data.response.code){e.next=7;break}return e.abrupt("return",!0);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0);case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}},e,this,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),saveTeamEdit1:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r["a"].post("/mvp-manager/org/addDelUsers",t);case 3:if(n=e.sent,o=n.data,200!==o.status||0!==o.data.response.code){e.next=7;break}return e.abrupt("return",!0);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0);case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}},e,this,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),editCompanyInfo:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r["a"].post("/mvp-manager/company/listUser",t);case 3:if(n=e.sent,o=n.data,200!==o.status||0!==o.data.response.code){e.next=7;break}return e.abrupt("return",o.data);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0);case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}},e,this,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),editCompanyInfo1:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r["a"].post("/mvp-manager/user/list",t);case 3:if(n=e.sent,o=n.data,200!==o.status||0!==o.data.response.code){e.next=7;break}return e.abrupt("return",o.data.result);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0);case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}},e,this,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),saveCompanyEdit:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r["a"].post("/mvp-manager/company/addDelUsers",t);case 3:if(n=e.sent,o=n.data,200!==o.status||0!==o.data.response.code){e.next=7;break}return e.abrupt("return",!0);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0);case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}},e,this,[[0,9]])}));return function(t){return e.apply(this,arguments)}}()}},2934:function(e,t,n){"use strict";n.r(t);n("96cf");var o=n("3040"),r=n("6b6c");t["default"]={getChildProject:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r["a"].post("/mvp-manager/project/list",{id:t,type:1});case 3:if(n=e.sent,o=n.data,0!==o.response.code){e.next=9;break}return e.abrupt("return",o.data);case 9:return e.abrupt("return",null);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e["catch"](0),console.log(e.t0),e.abrupt("return",null);case 16:case"end":return e.stop()}},e,this,[[0,12]])}));return function(t){return e.apply(this,arguments)}}(),getCommon:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r["a"].post("/mvp-manager/project/list",{type:2});case 3:if(t=e.sent,n=t.data,0!==n.response.code){e.next=9;break}return e.abrupt("return",n.data);case 9:return e.abrupt("return",null);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e["catch"](0),console.log(e.t0),e.abrupt("return",null);case 16:case"end":return e.stop()}},e,this,[[0,12]])}));return function(){return e.apply(this,arguments)}}(),setProject:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n,o,a,i,s,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.action,o=t.nodeId,a=t.projectCode,i=t.sharePackageName,e.prev=1,e.next=4,r["a"].post("/mvp-manager/node/move-node",{action:parseInt(n),nodeId:o,projectCode:a,sharePackageName:i});case 4:if(s=e.sent,c=s.data,0!==c.response.code){e.next=10;break}return e.abrupt("return",c.data);case 10:return e.abrupt("return",null);case 11:e.next=17;break;case 13:return e.prev=13,e.t0=e["catch"](1),console.log(e.t0),e.abrupt("return",null);case 17:case"end":return e.stop()}},e,this,[[1,13]])}));return function(t){return e.apply(this,arguments)}}()}},"29ab":function(e,t,n){},"29b7":function(e,t,n){"use strict";n.d(t,"a",function(){return r});n("7f7f");var o=n("c665"),r=function e(t){var n=t.name,r=t.event,a=t.vn,i=t.params;Object(o["a"])(this,e),this.name=n,this.event=r,this.vn=a,this.params=i}},"2a74":function(e,t,n){"use strict";n.r(t);n("a481"),n("ac6a");var o=n("d307"),r={};o.keys().forEach(function(e){"./index.js"!==e&&(r[e.replace(/(\.\/|\.js)/g,"")]=o(e).default)}),t["default"]=r},"2a86":function(e,t,n){},"2ac8":function(e,t,n){"use strict";n.r(t);n("96cf");var o=n("3040");t["default"]={getQuestionnaire:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$request.get("/mvp-manager/questionnaire/"+t);case 3:if(n=e.sent,o=n.data,0!==o.response.code){e.next=9;break}return e.abrupt("return",o.data);case 9:return e.abrupt("return",null);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e["catch"](0),console.log(e.t0),e.abrupt("return",null);case 16:case"end":return e.stop()}},e,this,[[0,12]])}));return function(t){return e.apply(this,arguments)}}(),answer:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$request.post("/mvp-manager/questionnaire",t);case 3:if(n=e.sent,o=n.data,0!==o.response.code){e.next=9;break}return e.abrupt("return",{status:1,result:o.data});case 9:if(!1!==o.response.success){e.next=13;break}return e.abrupt("return",{status:o.response.code,msg:o.response.msg||"项目出错"});case 13:return console.log(o.response),e.abrupt("return",{status:2,msg:o.response.msg});case 15:e.next=21;break;case 17:return e.prev=17,e.t0=e["catch"](0),console.log(e.t0),e.abrupt("return",null);case 21:case"end":return e.stop()}},e,this,[[0,17]])}));return function(t){return e.apply(this,arguments)}}(),answerBig:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$request.post("/mvp-manager/bigForm",t);case 3:if(n=e.sent,o=n.data,0!==o.response.code){e.next=9;break}return e.abrupt("return",{status:1,result:o.data});case 9:if(!1!==o.response.success){e.next=13;break}return e.abrupt("return",{status:o.response.code,msg:o.response.msg||"项目出错"});case 13:return console.log(o.response),e.abrupt("return",{status:2,msg:o.response.msg});case 15:e.next=21;break;case 17:return e.prev=17,e.t0=e["catch"](0),console.log(e.t0),e.abrupt("return",null);case 21:case"end":return e.stop()}},e,this,[[0,17]])}));return function(t){return e.apply(this,arguments)}}(),getReport:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$request.post("/mvp-manager/questionnaire/report",t);case 3:if(n=e.sent,o=n.data,0!==o.response.code&&202!==o.response.code){e.next=9;break}return e.abrupt("return",{status:1,result:o.data});case 9:if(!1!==o.response.success){e.next=13;break}return e.abrupt("return",{status:o.response.code,msg:o.response.msg});case 13:return console.log(o.response),e.abrupt("return",{status:2,msg:o.response.msg});case 15:e.next=21;break;case 17:return e.prev=17,e.t0=e["catch"](0),console.log(e.t0),e.abrupt("return",null);case 21:case"end":return e.stop()}},e,this,[[0,17]])}));return function(t){return e.apply(this,arguments)}}(),getAnswerRecord:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$request.post("/mvp-manager/answerRecord/list",t);case 3:if(n=e.sent,o=n.data,!o.response.success){e.next=7;break}return e.abrupt("return",o.data||[]);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0);case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}},e,this,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),getHistoryAnswerRecord:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$request.post("/mvp-manager/answerRecord/infos",t);case 3:if(n=e.sent,o=n.data,!o.response.success){e.next=7;break}return e.abrupt("return",o.data||[]);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0);case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}},e,this,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),getReportContent:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$request.post("/mvp-manager/answerRecord/report",t);case 3:if(n=e.sent,o=n.data,!o.response.success){e.next=7;break}return e.abrupt("return",o.data);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0);case 12:return e.abrupt("return","");case 13:case"end":return e.stop()}},e,this,[[0,9]])}));return function(t){return e.apply(this,arguments)}}()}},"2ba2":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.hideCheckResult,expression:"hideCheckResult"}],staticClass:"check-report"},[n("div",{staticClass:"title",on:{click:e.showCheckResult}},[e._v(e._s(e.title))]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showResult,expression:"showResult"}],staticClass:"check-result-show"},[e.checkResult.length?n("div",{staticClass:"tree-container"},[n("div",{staticClass:"tree-title"},[e._v("\n        以下内容未通过测试：\n      ")]),n("Tree",{staticClass:"tree",attrs:{treeData:e.checkResult},on:{"content-click":e.jumpTo},scopedSlots:e._u([{key:"default",fn:function(t){t.parentData;var o=t.data;return n("div",{staticClass:"node-content"},[0===o.nodeType?n("div",{staticClass:"check-tree-node report-node"},[n("div",{staticClass:"type"},[e._v("报告")]),e._v("：\n            "),n("div",{staticClass:"node-code"},[e._v(e._s(o.code))]),n("div",{staticClass:"node-name"},[e._v(e._s(o.title))])]):e._e(),1===o.nodeType?n("div",{staticClass:"check-tree-node chapter-node"},[n("div",{staticClass:"type"},[e._v("章节")]),e._v("：\n            "),n("div",{staticClass:"node-code"},[e._v(e._s(o.code))]),n("div",{staticClass:"node-name"},[e._v(e._s(o.title))])]):e._e(),2===o.nodeType?n("div",{staticClass:"check-tree-node code-node"},[n("div",{staticClass:"type"},[e._v("代码块")]),e._v("：\n            "),n("div",{staticClass:"node-code"},[e._v(e._s(o.code))])]):e._e()])}}])})],1):n("div",[e._v("没有未通过测试的报告")])])])},r=[],a=n("8afe"),i=(n("ac4d"),n("8a81"),n("ac6a"),n("96cf"),n("3040")),s=n("1c31"),c=n("52e7"),u={props:{projectId:{type:String,default:""},projectRootId:{type:String,default:""},title:{type:String,default:"检查报告测试状态"}},components:{Tree:c["a"]},data:function(){return{checkResult:[],showResult:!1}},methods:{refreshCheckResult:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["default"].checkReport({projectId:this.projectId,projectRootId:this.projectRootId});case 2:t=e.sent,this.handleReport(t),this.checkResult=t;case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),showCheckResult:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.refreshCheckResult();case 2:this.showResult=!0;case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),hideCheckResult:function(){this.showResult=!1},handleReport:function(e){var t=!0,n=!1,o=void 0;try{for(var r,i=e[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var s,c=r.value;if(c.nodeType=0,c.children=c.children||[],c.outlineList&&c.outlineList.length)this.handleChapter(c.outlineList),(s=c.children).push.apply(s,Object(a["a"])(c.outlineList))}}catch(e){n=!0,o=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw o}}},handleChapter:function(e){var t=!0,n=!1,o=void 0;try{for(var r,i=e[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var s=r.value;if(s.nodeType=1,s.children=s.children||[],s.codeList&&s.codeList.length){var c,u=!0,d=!1,l=void 0;try{for(var p,h=s.codeList[Symbol.iterator]();!(u=(p=h.next()).done);u=!0){var m=p.value;m.nodeType=2}}catch(e){d=!0,l=e}finally{try{u||null==h.return||h.return()}finally{if(d)throw l}}(c=s.children).push.apply(c,Object(a["a"])(s.codeList))}}}catch(e){n=!0,o=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw o}}},jumpTo:function(e,t){var n={};if(0===t.nodeData.nodeType)n.report=t.nodeData.id;else if(1===t.nodeData.nodeType){n.chapter=t.nodeData.id;var o=t.$parent;while(0!==o.nodeData.nodeType)if(o=o.$parent,!o)return;n.report=o.nodeData.id}else if(2===t.nodeData.nodeType){n.code=t.nodeData.id;var r=t.$parent;while(1!==r.nodeData.nodeType)if(r=r.$parent,!r)return;n.chapter=r.nodeData.id;var a=r.$parent;while(0!==a.nodeData.nodeType)if(a=a.$parent,!a)return;n.report=a.nodeData.id}this.$bus.$emit("jump-to-code",n),this.hideCheckResult()}}},d=u,l=(n("687a"),n("2877")),p=Object(l["a"])(d,o,r,!1,null,"356c4b9e",null);p.options.__file="checkReport.vue";var h=p.exports;t["a"]=h},"2c7b":function(e,t,n){"use strict";n("a481"),n("ac6a");var o={},r=n("30c7");r.keys().forEach(function(e){var t=r(e).default;t.notPopMenu||(o[e.replace(/\.\/|\.vue$/g,"")]={title:t.showTitle||e,component:t,original:!t.notOriginal,props:{}})}),t["a"]=o},3:function(e,t){},"30c7":function(e,t,n){var o={"./codeTest.vue":"0c43","./nodeTree.vue":"df5d","./shortcutKeys.vue":"52b2"};function r(e){var t=a(e);return n(t)}function a(e){var t=o[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}r.keys=function(){return Object.keys(o)},r.resolve=a,e.exports=r,r.id="30c7"},3150:function(e,t,n){"use strict";function o(){var e=document.documentElement,t=e.requestFullScreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||e.msRequestFullScreen;if("undefined"!==typeof t&&t)t.call(e);else if("undefined"!==typeof window.ActiveXObject){var n=new window.ActiveXObject("WScript.Shell");null!==n&&n.SendKeys("{F11}")}}function r(){var e=document.exitFullscreen||document.mozCancelFullScreen||document.webkitExitFullscreen||document.webkitExitFullscreen;if(e)e.call(document);else if("undefined"!==typeof window.ActiveXObject){var t=new window.ActiveXObject("WScript.Shell");null!==t&&t.SendKeys("{F11}")}}n.r(t);var a={fullScreen:!1},i={toggleFullScreen:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.fullScreen=!e.fullScreen,e.fullScreen&&t?o():r()}},s={};t["default"]={namespaced:!0,state:a,mutations:i,getters:s}},3191:function(e,t,n){"use strict";n.r(t);n("96cf");var o=n("3040"),r=n("6b6c");t["default"]={getProjectList:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r["a"].post("/mvp-manager/project/list",t);case 3:if(n=e.sent,o=n.data,!o.response.success){e.next=7;break}return e.abrupt("return",o.data);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0);case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}},e,this,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),removeToTrash:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r["a"].post("/mvp-manager/project/delete",t);case 3:if(n=e.sent,o=n.data,0!==o.data.response.code){e.next=7;break}return e.abrupt("return",!0);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0);case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}},e,this,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),newMindMap:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r["a"].post("/mvp-manager/project/save",t);case 3:if(n=e.sent,o=n.data,200!==o.status||0!==o.data.response.code){e.next=7;break}return e.abrupt("return",!0);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0);case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}},e,this,[[0,9]])}));return function(t){return e.apply(this,arguments)}}()}},"32e0":function(e,t,n){"use strict";n.r(t);var o=n("6bde");function r(e,t,n){var r,a,i;if("object"===Object(o["a"])(t.value)?(r=t.value.selector,a=t.value.vertical,i=t.value.horizontal):r=t.value,r){var s,c,u=e.querySelector(r);if(u)e._dragMouseDown=function(t){t.stopPropagation(),t.preventDefault(),e._recordOpacity=getComputedStyle(e).getPropertyValue("opacity"),e.style.opacity=.8,s=t.clientX-e.offsetLeft,c=t.clientY-e.offsetTop,document.removeEventListener("mousemove",e._dragMouseMove),document.addEventListener("mousemove",e._dragMouseMove),document.removeEventListener("mouseup",e._dragMouseUp),document.addEventListener("mouseup",e._dragMouseUp)},e._checkPosition=function(){var t=u.getBoundingClientRect(),n=e.getBoundingClientRect(),o=a||t.height,r=i||t.width,s=document.body.clientWidth,c=document.body.clientHeight,d=n.left,l=s-n.right,p=n.top,h=c-n.bottom,m=-1*(n.right-t.left-r),f=-1*(t.right-n.left-r),g=-1*(n.bottom-t.top-o),v=-1*(t.bottom-n.top-o);d<f?e.style.left=f+"px":l<m&&(e.style.left=s-r+"px"),p<v?e.style.top=v+"px":h<g&&(e.style.top=c-o+"px")},e._dragMouseMove=function(t){var n=t.clientX-s,o=t.clientY-c;e.style.left=n+"px",e.style.top=o+"px",e.style.right="auto",e.style.bottom="auto",e._checkPosition(),s=t.clientX-e.offsetLeft,c=t.clientY-e.offsetTop},e._dragMouseUp=function(t){e._checkPosition(),e.style.opacity=e._recordOpacity,delete e._recordOpacity,document.removeEventListener("mousemove",e._dragMouseMove),document.removeEventListener("mouseup",e._dragMouseUp)},u.addEventListener("mousedown",e._dragMouseDown),window.addEventListener("resize",e._checkPosition)}}function a(e,t,n){if(t.value){var o=t.value.selector||t.value,r=e.querySelector(o);r&&r.removeEventListener("mousedown",e._dragMouseDown),document.removeEventListener("mousemove",e._dragMouseMove),window.removeEventListener("resize",e._checkPosition),document.removeEventListener("mouseup",e._dragMouseUp),delete e._dragMouseDown,delete e._dragMouseMove,delete e._dragMouseUp,delete e._checkPosition}}t["default"]={bind:r,unbind:a}},"34e5":function(e,t,n){},"365c":function(e,t,n){"use strict";n.r(t);n("a481"),n("ac6a");var o=n("6c5d"),r={};o.keys().forEach(function(e){"./index.js"!==e&&(r[e.replace(/(\.\/|\.js)/g,"")]=o(e).default)}),t["default"]=r},"36b6":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"x-input"},[n("input",{staticClass:"x-input-main",attrs:{type:"text",disabled:e.disabled,readonly:e.readonly,placeholder:e.placeholder,name:e.name,autocomplete:e.autocomplete,spellcheck:e.spellcheck},domProps:{value:e.value},on:{change:e.change,input:e.input,focus:e.focus,blur:e.blur,keyup:e.keyup,keydown:e.keydown,mouseup:e.mouseup}})])},r=[],a=(n("4917"),n("f559"),n("c5f6"),{name:"xInput",model:{prop:"value",event:"update"},props:{value:{type:[String,Number],default:""},type:{type:String,default:"text"},max:{type:Number},min:{type:Number},placeholder:{type:[String,Number],default:""},readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},name:{type:[String,Number],default:""},autocomplete:{type:[String,Number,Boolean]},spellcheck:{type:[String,Boolean]}},methods:{change:function(e){this.$emit("on-change",e.target.value)},input:function(e){var t=this.typePip(e.target.value);e.target.value=t,this.$emit("on-input",t),this.$emit("update",t)},focus:function(e){this.$emit("on-focus",e)},blur:function(e){this.$emit("on-blur",e)},keyup:function(e){this.$emit("on-keyup",e)},keydown:function(e){this.$emit("on-keydown",e)},mouseup:function(e){this.$emit("oon-mouseup",e)},typePip:function(e){switch(this.type){case"number":var t="";e.startsWith("-")&&(t="-");var n=e.match(/[0-9]/g,"");return t+=n?n.join(""):"","number"===typeof this.min&&+t<this.min?this.min:"number"===typeof this.max&&+t>this.max?this.max:t;default:return e}}}}),i=a,s=(n("a918"),n("2877")),c=Object(s["a"])(i,o,r,!1,null,"1bd033a2",null);c.options.__file="xInput.vue";var u=c.exports;t["a"]=u},3720:function(e,t,n){"use strict";n.r(t),t["default"]={inserted:function(e){e.focus()}}},"3a8f":function(e,t,n){},"3bec":function(e,t,n){"use strict";var o,r,a=n("c93e"),i=(n("7f7f"),n("fda0")),s=n("c5bf"),c=n("63c9"),u={name:"schemaComponent",props:{name:{type:String,required:!0},schemaType:{type:String},apiType:{type:String},propsObject:{type:Object,required:!0},schemaKey:{type:String,require:!0}},data:function(){return{AsyncComponent:null}},components:{LoadingComponent:s["a"],ErrorComponent:c["a"]},created:function(){var e=this;console.log(this.name,"~~~~~~~"),this.AsyncComponent=function(){return{component:i["b"][e.name].component,loading:s["a"],error:c["a"],delay:500,timeout:1e4}}},render:function(e){return e("component",{is:this.AsyncComponent,props:Object(a["a"])({},this.propsObject,{schemaKey:this.schemaKey,schemaType:this.schemaType,apiType:this.apiType}),on:{input:this.Input,commit:this.Commit,additional:this.Additional,validator:this.Validator}})},methods:{Input:function(e){this.$emit("input",e)},Commit:function(e){this.$emit("commit",e)},Additional:function(e){this.$emit("additional",e)},Validator:function(e){this.$emit("validator",e)}}},d=u,l=n("2877"),p=Object(l["a"])(d,o,r,!1,null,null,null);p.options.__file="schemaComponent.vue";t["a"]=p.exports},"3d22":function(e,t,n){"use strict";(function(e){n("6762"),n("2fdb"),n("55dd"),n("ac4d"),n("8a81"),n("ac6a"),n("7514"),n("20d6"),n("96cf");var o=n("3040"),r=(n("c5f6"),n("52e7")),a=n("24d2");t["a"]={name:"chooseProject",components:{"my-tree":r["a"]},props:{rootId:{type:String|Number,default:0},value:{type:String|Number,default:0},chooseAble:{type:Boolean,default:!0},size:{type:String,default:"default"},type:{type:Number,default:0},includeRoot:{type:Boolean,default:!0},allowNull:{type:Boolean,default:!1},excludeList:{type:Array,default:function(){return[]}},clearAble:{type:Boolean,default:!1}},computed:{currentProject:function(){return this.value?this.value:this.allowNull?null:this.rootId}},data:function(){return{projectData:[],projectList:[],currentData:{},showTree:!1,showPosition:"bottom"}},created:function(){this.tryGetProject=e.debounce(this.getProjectTree,100)},mounted:function(){this.tryGetProject()},methods:{getProjectTree:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t,n,o,r=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.rootId&&0!==Number(this.rootId)){e.next=2;break}return e.abrupt("return");case 2:return t={id:this.rootId},this.type&&(t.type=this.type),e.next=6,a["default"].getProjectList(t);case 6:n=e.sent,this.projectData=[],n&&(this.projectList=n,this.listToTree(this.projectData,n),!this.includeRoot&&this.projectData.length&&(this.projectData=this.projectData[0].children||[],o=this.projectList.findIndex(function(e){return e.id-r.rootId===0}),-1!==o&&this.projectList.splice(o,1)),this.checkCurrentProject());case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),checkCurrentProject:function(){var e=this,t=this.projectList.find(function(t){return t.id===e.currentProject});this.currentData=t||{id:null}},listToTree:function(e,t){if(t){var n=!0,o=!1,r=void 0;try{for(var a,i=t[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var s=a.value;if(s.parentId){var c=!0,u=!1,d=void 0;try{for(var l,p=t[Symbol.iterator]();!(c=(l=p.next()).done);c=!0){var h=l.value;if(h.id===s.parentId){var m=h.children||[];m.push(s),m.sort(function(e,t){return e.type===t.type?e.order-t.order:e.type-t.type}),this.$set(h,"children",m)}}}catch(e){u=!0,d=e}finally{try{c||null==p.return||p.return()}finally{if(u)throw d}}}else e.push(s)}}catch(e){o=!0,r=e}finally{try{n||null==i.return||i.return()}finally{if(o)throw r}}}},openProjectTree:function(){if(this.chooseAble){this.showTree=!0,this.tryGetProject();var e=this.$refs.chooseButton.getBoundingClientRect(),t=document.body.clientHeight-(e.bottom+5),n=t;this.$refs.popContainer.style.maxHeight=Math.round(n)+"px"}},hideProjectTree:function(){this.showTree=!1},handleNodeClick:function(e,t){var n=t.nodeData;this.excludeList.includes(n.id)?this.$Message.error("禁止选择"):(this.hideProjectTree(),this.chooseAble?this.currentData=n:this.$Message.error("禁止切换"))},clearChoose:function(){this.currentData={id:null}}},watch:{currentData:function(e,t){this.$emit("input",this.currentData.id)},rootId:function(e,t){this.tryGetProject()},currentProject:function(e,t){this.checkCurrentProject()},type:function(e,t){this.tryGetProject()},includeRoot:function(e,t){this.getProjectTree()}}}}).call(this,n("2ef0"))},"3db6":function(e,t,n){},"3dbd":function(e,t,n){"use strict";var o=n("34e5"),r=n.n(o);r.a},"3f5e":function(e,t,n){"use strict";n.r(t),n.d(t,"uploadFile",function(){return r});var o=n("6b6c");function r(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new FormData;return n.append("file",e),n.append("compress",t),o["a"].post("/mvp-manager/file/upload",n,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){return e.data})}},"3fd0":function(e,t,n){"use strict";var o=n("7326"),r=n.n(o);r.a},4:function(e,t){},4067:function(e,t,n){"use strict";n.r(t);n("96cf");var o=n("3040"),r=n("6b6c");t["default"]={getQuestionnaire:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r["a"].get("/mvp-front/questionnaire/"+t);case 3:if(n=e.sent,o=n.data,0!==o.response.code){e.next=9;break}return e.abrupt("return",o.data);case 9:return e.abrupt("return",null);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e["catch"](0),console.log(e.t0),e.abrupt("return",null);case 16:case"end":return e.stop()}},e,this,[[0,12]])}));return function(t){return e.apply(this,arguments)}}(),answer:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r["a"].post("/mvp-front/questionnaire",t);case 3:if(n=e.sent,o=n.data,0!==o.response.code){e.next=9;break}return e.abrupt("return",{status:1,result:o.data});case 9:if(!1!==o.response.success){e.next=13;break}return e.abrupt("return",{status:o.response.code,msg:o.response.msg||"项目出错"});case 13:return console.log(o.response),e.abrupt("return",{status:2,msg:o.response.msg});case 15:e.next=21;break;case 17:return e.prev=17,e.t0=e["catch"](0),console.log(e.t0),e.abrupt("return",null);case 21:case"end":return e.stop()}},e,this,[[0,17]])}));return function(t){return e.apply(this,arguments)}}(),answerBig:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r["a"].post("/mvp-front/bigForm",t);case 3:if(n=e.sent,o=n.data,0!==o.response.code){e.next=9;break}return e.abrupt("return",{status:1,result:o.data});case 9:if(!1!==o.response.success){e.next=13;break}return e.abrupt("return",{status:o.response.code,msg:o.response.msg||"项目出错"});case 13:return console.log(o.response),e.abrupt("return",{status:2,msg:o.response.msg});case 15:e.next=21;break;case 17:return e.prev=17,e.t0=e["catch"](0),console.log(e.t0),e.abrupt("return",null);case 21:case"end":return e.stop()}},e,this,[[0,17]])}));return function(t){return e.apply(this,arguments)}}(),getReport:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r["a"].post("/mvp-front/questionnaire/report",t);case 3:if(n=e.sent,o=n.data,0!==o.response.code&&202!==o.response.code){e.next=9;break}return e.abrupt("return",{status:1,result:o.data});case 9:if(!1!==o.response.success){e.next=13;break}return e.abrupt("return",{status:o.response.code,msg:o.response.msg});case 13:return console.log(o.response),e.abrupt("return",{status:2,msg:o.response.msg});case 15:e.next=21;break;case 17:return e.prev=17,e.t0=e["catch"](0),console.log(e.t0),e.abrupt("return",null);case 21:case"end":return e.stop()}},e,this,[[0,17]])}));return function(t){return e.apply(this,arguments)}}(),getBigReport:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r["a"].post("/mvp-front/bigForm/report",t);case 3:if(n=e.sent,o=n.data,0!==o.response.code&&202!==o.response.code){e.next=9;break}return e.abrupt("return",{status:1,result:o.data});case 9:if(!1!==o.response.success){e.next=13;break}return e.abrupt("return",{status:o.response.code,msg:o.response.msg});case 13:return console.log(o.response),e.abrupt("return",{status:2,msg:o.response.msg});case 15:e.next=21;break;case 17:return e.prev=17,e.t0=e["catch"](0),console.log(e.t0),e.abrupt("return",null);case 21:case"end":return e.stop()}},e,this,[[0,17]])}));return function(t){return e.apply(this,arguments)}}()}},"413a":function(e,t,n){"use strict";n.r(t);n("55dd"),n("7f7f"),n("96cf");var o=n("3040"),r=n("6b6c");t["default"]={getAdditionalDataFilter:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r["a"].post("/mvp-manager/component/getAdditionalDataFilter",{dataFiliterId:t});case 3:if(n=e.sent,o=n.data,0!==o.response.code){e.next=9;break}return e.abrupt("return",o.data);case 9:return e.abrupt("return",null);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e["catch"](0),console.log(e.t0),e.abrupt("return",null);case 16:case"end":return e.stop()}},e,this,[[0,12]])}));return function(t){return e.apply(this,arguments)}}(),getAdditionalDataType:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r["a"].post("/mvp-manager/componentItemAdditionalData/getAdditionalDataType",{dataTypeId:t});case 3:if(n=e.sent,o=n.data,0!==o.response.code){e.next=9;break}return e.abrupt("return",o.data);case 9:return e.abrupt("return",null);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e["catch"](0),console.log(e.t0),e.abrupt("return",null);case 16:case"end":return e.stop()}},e,this,[[0,12]])}));return function(t){return e.apply(this,arguments)}}(),listAdditionalData:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r["a"].post("/mvp-manager/componentItemAdditionalData/listAdditionalData",{additionalDataFilterId:t});case 3:if(n=e.sent,o=n.data,console.log(o),0!==o.response.code){e.next=10;break}return e.abrupt("return",o.data);case 10:if(1!==o.response.code){e.next=14;break}return e.abrupt("return",[]);case 14:return e.abrupt("return",null);case 15:e.next=21;break;case 17:return e.prev=17,e.t0=e["catch"](0),console.log(e.t0),e.abrupt("return",null);case 21:case"end":return e.stop()}},e,this,[[0,17]])}));return function(t){return e.apply(this,arguments)}}(),listAdditionalDataFiliter:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r["a"].post("/mvp-manager/componentItemAdditionalData/listAdditionalDataFiliter",{componentId:t});case 3:if(n=e.sent,o=n.data,0!==o.response.code){e.next=9;break}return e.abrupt("return",o.data);case 9:if(1!==o.response.code){e.next=13;break}return e.abrupt("return",[]);case 13:return e.abrupt("return",null);case 14:e.next=20;break;case 16:return e.prev=16,e.t0=e["catch"](0),console.log(e.t0),e.abrupt("return",null);case 20:case"end":return e.stop()}},e,this,[[0,16]])}));return function(t){return e.apply(this,arguments)}}(),removeAdditionalDataFiliter:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r["a"].post("/mvp-manager/componentItemAdditionalData/removeAdditionalDataFiliter",{dataFiliterId:t});case 3:return n=e.sent,o=n.data,e.abrupt("return",o);case 8:return e.prev=8,e.t0=e["catch"](0),console.log(e.t0),e.abrupt("return",null);case 12:case"end":return e.stop()}},e,this,[[0,8]])}));return function(t){return e.apply(this,arguments)}}(),removeAdditionalDataType:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r["a"].post("/mvp-manager/componentItemAdditionalData/removeAdditionalDataType",{dataTypeId:t});case 3:return n=e.sent,o=n.data,e.abrupt("return",o);case 8:return e.prev=8,e.t0=e["catch"](0),console.log(e.t0),e.abrupt("return",null);case 12:case"end":return e.stop()}},e,this,[[0,8]])}));return function(t){return e.apply(this,arguments)}}(),saveAdditionalData:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n,o,a,i,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.additionalData,o=t.additionalDataFilterId,a=t.componentId,e.prev=1,e.next=4,r["a"].post("/mvp-manager/componentItemAdditionalData/saveAdditionalData",{additionalData:n,additionalDataFilterId:o,componentId:a});case 4:if(i=e.sent,s=i.data,0!==s.response.code){e.next=10;break}return e.abrupt("return",s.data);case 10:return e.abrupt("return",null);case 11:e.next=17;break;case 13:return e.prev=13,e.t0=e["catch"](1),console.log(e.t0),e.abrupt("return",null);case 17:case"end":return e.stop()}},e,this,[[1,13]])}));return function(t){return e.apply(this,arguments)}}(),saveAdditionalDataFilter:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n,o,a,i,s,c,u,d,l,p,h,m,f,g,v;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.componentId,o=t.endTime,a=t.id,i=t.name,s=t.sort,c=t.startTime,u=t.type,d=t.dataSourceId,l=t.havaData,p=t.note,h=t.showName,e.prev=1,0!==a){e.next=10;break}return e.next=5,r["a"].post("/mvp-manager/componentItemAdditionalData/saveAdditionalDataFilter",{componentId:n,endTime:o,name:i,sort:s,startTime:c,type:u,dataSourceId:d,havaData:l,note:p,showName:h});case 5:return m=e.sent,f=m.data,e.abrupt("return",f);case 10:return e.next=12,r["a"].post("/mvp-manager/componentItemAdditionalData/updateAdditionalDataFilter",{id:a,componentId:n,endTime:o,name:i,sort:s,type:u,startTime:c,note:p,showName:h});case 12:return g=e.sent,v=g.data,e.abrupt("return",v);case 15:e.next=21;break;case 17:return e.prev=17,e.t0=e["catch"](1),console.log(e.t0),e.abrupt("return",null);case 21:case"end":return e.stop()}},e,this,[[1,17]])}));return function(t){return e.apply(this,arguments)}}(),saveAddtionalDataType:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n,o,a,i,s,c,u,d,l,p,h,m;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.dataFilterId,o=t.id,a=t.name,i=t.otherData,s=t.sort,c=t.type,u=t.note,d=t.showName,e.prev=1,0!==o){e.next=10;break}return e.next=5,r["a"].post("/mvp-manager/componentItemAdditionalData/saveAddtionalDataType",{dataFilterId:n,name:a,otherData:i,sort:s,type:c,note:u,showName:d});case 5:return l=e.sent,p=l.data,e.abrupt("return",p);case 10:return e.next=12,r["a"].post("/mvp-manager/componentItemAdditionalData/updateAdditionalDataType",{dataFilterId:n,id:o,name:a,otherData:i,sort:s,type:c,note:u,showName:d});case 12:return h=e.sent,m=h.data,e.abrupt("return",m);case 15:e.next=21;break;case 17:return e.prev=17,e.t0=e["catch"](1),console.log(e.t0),e.abrupt("return",null);case 21:case"end":return e.stop()}},e,this,[[1,17]])}));return function(t){return e.apply(this,arguments)}}()}},"424e":function(e,t,n){"use strict";n.r(t),n.d(t,"getDocumentList",function(){return r}),n.d(t,"getDocumentDetail",function(){return a}),n.d(t,"saveDocument",function(){return i}),n.d(t,"deleteDocument",function(){return s});var o=n("6b6c");function r(e){return o["a"].post("/mvp-manager/commonDocument/list",e).then(function(e){return e.data})}function a(e){return o["a"].post("/mvp-manager/commonDocument/detail?id=".concat(e.id)).then(function(e){return e.data})}function i(e){var t=e.id?"/mvp-manager/commonDocument/update":"/mvp-manager/commonDocument/save";return o["a"].put(t,e).then(function(e){return e.data})}function s(e){return o["a"].post("/mvp-manager/commonDocument/delete",e).then(function(e){return e.data})}},4349:function(e,t,n){},"45a2":function(e,t,n){"use strict";n.r(t);n("96cf");var o=n("3040"),r=n("6b6c"),a=n("6ace");t["default"]={getSearchList:function(e){return Object(a["default"])(r["a"].post,"/mvp-manager/node/search-nodes",e)},treeNodeClick:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r["a"].post("/mvp-manager/node/list",t);case 3:if(n=e.sent,o=n.data,0!==o.response.code){e.next=7;break}return e.abrupt("return",o.data);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0);case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}},e,this,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),deleteNodes:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r["a"].post("/mvp-manager/node/delete-nodes",t);case 3:if(n=e.sent,o=n.data,0!==o.response.code){e.next=7;break}return e.abrupt("return",o.nodes);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0);case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}},e,this,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),deleteNodesU:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r["a"].post("/mvp-manager/node/update-nodes",t);case 3:if(n=e.sent,o=n.data,0!==o.response.code){e.next=7;break}return e.abrupt("return",!0);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0);case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}},e,this,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),getProjectTree:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r["a"].post("/mvp-manager/project/list",t);case 3:if(n=e.sent,o=n.data,0!==o.response.code){e.next=7;break}return e.abrupt("return",o.data);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0);case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}},e,this,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),getCommonProjectTree:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r["a"].post("/mvp-manager/project/list",t);case 3:if(n=e.sent,o=n.data,0!==o.response.code){e.next=7;break}return e.abrupt("return",o.data);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0);case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}},e,this,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),addProjectOk:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r["a"].post("/mvp-manager/project/save",t);case 3:if(n=e.sent,o=n.data,0!==o.response.code){e.next=7;break}return e.abrupt("return",!0);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0);case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}},e,this,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),deleteProject:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r["a"].post("/mvp-manager/project/delete",t);case 3:if(n=e.sent,o=n.data,0!==o.response.code){e.next=7;break}return e.abrupt("return",!0);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0);case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}},e,this,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),updateProject:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r["a"].post("/mvp-manager/project/update",t);case 3:if(n=e.sent,o=n.data,0!==o.response.code){e.next=7;break}return e.abrupt("return",!0);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0);case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}},e,this,[[0,9]])}));return function(t){return e.apply(this,arguments)}}()}},4657:function(e,t,n){"use strict";n.r(t);n("a481"),n("ac6a");var o=n("2b0e"),r=n("d783");r.keys().forEach(function(e){"./index.js"!==e&&o["default"].directive(e.replace(/(\.\/|\.js)/g,""),r(e).default)})},4678:function(e,t,n){var o={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(e){var t=a(e);return n(t)}function a(e){var t=o[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}r.keys=function(){return Object.keys(o)},r.resolve=a,e.exports=r,r.id="4678"},"4fbf":function(e,t,n){},"4fe5":function(e,t,n){"use strict";var o=n("974a"),r=n.n(o);r.a},5189:function(e,t,n){"use strict";n.r(t),n.d(t,"saveCategory",function(){return r}),n.d(t,"getCategoryList",function(){return a}),n.d(t,"deleteCategory",function(){return i}),n.d(t,"saveLaw",function(){return s}),n.d(t,"deleteLaw",function(){return c}),n.d(t,"getLawList",function(){return u}),n.d(t,"getLowForceStatus",function(){return d}),n.d(t,"getLowForceLevel",function(){return l}),n.d(t,"getLawDetail",function(){return p}),n.d(t,"saveLawItem",function(){return h}),n.d(t,"getLawItemList",function(){return m}),n.d(t,"getLawItemDetail",function(){return f}),n.d(t,"deleteLawItem",function(){return g});n("ac6a");var o=n("6b6c");function r(e){var t=e.id?"/mvp-manager/lawCategory/updateLawCategory":"/mvp-manager/lawCategory/saveLawCategory";return o["a"].post(t,e).then(function(e){return e.data})}function a(e){return o["a"].post("/mvp-manager/lawCategory/listLawCategory",e).then(function(e){return e.data})}function i(e){return o["a"].post("/mvp-manager/lawCategory/removeLawCategory?id="+e.id).then(function(e){return e.data})}function s(e){var t=e.id?"/mvp-manager/law/updateLaw":"/mvp-manager/law/saveLaw";return o["a"].post(t,e).then(function(e){return e.data})}function c(e){return o["a"].post("/mvp-manager/law/deleteLaw?id="+e.id).then(function(e){return e.data})}function u(e){return o["a"].post("/mvp-manager/law/listLaw",e).then(function(e){return e.data})}function d(){return o["a"].post("/mvp-manager/law/lawFroceStatusInfo").then(function(e){return e.data})}function l(){return o["a"].post("/mvp-manager/law/lawFroceLevelInfo").then(function(e){return e.data})}function p(e){return o["a"].post("/mvp-manager/law/lawDetail?id="+e.id).then(function(e){return e.data})}function h(e){var t=e.id?"/mvp-manager/lawArticles/updateLawArticle":"/mvp-manager/lawArticles/saveLawArticles";return o["a"].post(t,e).then(function(e){return e.data})}function m(e){var t=e.lawId,n=-1===e.parentId?null:e.parentId,r=n?"/mvp-manager/lawArticles/listLawArticles?lawId=".concat(t,"&parentId=").concat(n):"/mvp-manager/lawArticles/listLawArticles?lawId=".concat(t);return o["a"].post(r).then(function(e){var t=e.data;return t.response.success&&(t.data=t.data||[],t.data.forEach(function(e){e.tagInfo=e.tagInfo?e.tagInfo:[]})),t})}function f(e){return o["a"].post("/mvp-manager/lawArticles/detailLawArticles?id="+e.id).then(function(e){return e.data})}function g(e){return o["a"].post("/mvp-manager/lawArticles/deleteLawArticles?id="+e.id).then(function(e){return e.data})}},"52b2":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"shortcut-key-page"},[n("div",{staticClass:"title"},[e._v("快捷键、图标操作简明介绍")]),n("div",{staticClass:"content"},e._l(e.keyInfo,function(t,o,r){return n("div",{key:o,staticClass:"content-item"},[n("div",{staticClass:"content-title"},[e._v(e._s(r+1)+". "+e._s(t.title))]),n("div",{staticClass:"content-list"},[n("div",{staticClass:"content-keys"},e._l(t.keyList,function(t,o){return n("Row",{key:o,staticClass:"content-row",attrs:{type:"flex",align:"middle",justify:"center"}},[n("Col",{staticClass:"content-col left",attrs:{span:10}},[e._v(e._s(t[0]))]),n("Col",{staticClass:"content-col right",attrs:{span:14}},[e._v(e._s(t[1]))])],1)})),n("div",{staticClass:"content-icons"},e._l(t.iconList,function(t,o){return n("Row",{key:o,staticClass:"content-row",attrs:{type:"flex",align:"middle",justify:"center"}},[n("Col",{staticClass:"content-col left",attrs:{span:10}},["$"===t[0][0]?n("div",{domProps:{innerHTML:e._s(t[0].slice(1))}}):n("Icon",{attrs:{type:t[0]}})],1),n("Col",{staticClass:"content-col right",attrs:{span:14}},[e._v(e._s(t[1]))])],1)}))])])}))])},r=[],a={helper:{key:"helper",title:"小助手",keyList:[["Ctrl + Shift + Z","唤醒/隐藏小助手"],["Ctrl + Shift + X","最小化/最大化小助手"],["Ctrl + Shift + A","显示/隐藏小助手资源管理器"],["Ctrl + Shift + S","向右分页"],["Alt + 数字","切换到助手对应tab页"]],iconList:[["ios-help-circle-outline","打开/关闭小助手"]]},nodeEditBoard:{key:"nodeEditBoard",title:"选项配置框",keyList:[["UpArrow","光标焦点向上一个选项移动"],["DownArrow","光标焦点向下一个选项移动"],["LeftArrow","光标焦点向左输入框移动"],["RightArrow","光标焦点向右输入框移动"],["Enter","光标焦点向下一个选项移动，如果没有则新建选项"],["F2","新增选项"]]},nodeTree:{key:"nodeTree",title:"节点树操作",iconList:[["md-add-circle","添加同级问题"],["md-add","添加子问题"],["md-trash","删除问题"],["md-link","移动到共用包或项目"]]},projectTree:{key:"projectTree",title:"项目树操作",iconList:[["md-add-circle","添加同级项目或共用包"],["md-add","添加子级项目或共用包"],["md-trash","删除项目或共用包"]]},page:{key:"page",title:"脑图页面操作",keyList:[["Ctrl + Alt + A / K","打开/关闭项目树、节点树自由宽度模式"]],iconList:[["md-settings","编辑当前项目或共用包基本信息"],["md-code-working","折叠/展开"],["md-play","测试当前项目或共用包做题"],["md-book","查看本项目做题记录"],["md-document","编写报告"],["md-expand","启用/关闭全屏编辑"],["md-search","搜索节点树"]]},reportTree:{key:"reportTree",title:"编写报告",iconList:[["md-add-circle","添加同级报告或章节节点"],["md-add","添加报告或章节节点"],["md-trash","删除报告或章节节点"]],keyList:[["Ctrl + Shift + Enter","增加代码块"],["Ctrl + D","删除代码块"],["Ctrl + S","保存代码块"],["Ctrl + Enter","测试代码块"]]}},i={showTitle:"快捷键",data:function(){return{keyInfo:a}},computed:{},mounted:function(){},methods:{update:function(){}}},s=i,c=(n("610f"),n("2877")),u=Object(c["a"])(s,o,r,!1,null,"0f2722d1",null);u.options.__file="shortcutKeys.vue";t["default"]=u.exports},"52e7":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tree"},e._l(e.treeData,function(t,o){return n("tree-node",{key:o,attrs:{nodeData:t,props:e.props,nodeClass:e.nodeClass,expand:e.expand,expandDefault:e.expandDefault,allowDrag:e.allowDrag,dragInfo:e.dragInfo,draggable:e.draggable,indentLineColor:e.indentLineColor,indentWidth:e.indentWidth}})}))},r=[],a=(n("ac4d"),n("8a81"),n("ac6a"),n("6762"),n("2fdb"),n("c5f6"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tree-node",class:e.nodeClass,on:{dblclick:e.nodeDoubleClick,click:e.nodeClick}},[n("div",{ref:"treeContent",staticClass:"tree-node-content",attrs:{draggable:e.canBeDrag},on:{dragstart:function(t){return t.stopPropagation(),e.dragStart(t)},dragend:function(t){return t.stopPropagation(),e.dragEnd(t)},dragenter:function(t){return t.stopPropagation(),e.dragEnter(t)},dragover:function(t){return t.stopPropagation(),e.dragOver(t)},dragleave:function(t){return t.stopPropagation(),e.dragLeave(t)},drop:function(t){return t.stopPropagation(),e.drop(t)},click:e.contentClick,mouseenter:function(t){e.hover=!0},mouseleave:function(t){e.hover=!1},dbclick:e.contentDoubleClick}},[e.expand?n("div",{staticClass:"expand-button",on:{click:function(t){t.stopPropagation(),e.expanded=!e.expanded}}},[e.nodeData[e.props.children]&&e.nodeData[e.props.children].length?[e.expanded?n("Icon",{attrs:{type:"ios-arrow-dropdown"}}):n("Icon",{attrs:{type:"ios-arrow-dropright"}})]:[n("div",{staticClass:"expand-dot"})]],2):e._e(),n("div",{staticClass:"node-render"},[e.dragHover&&this.dragInfo.before?n("div",{staticClass:"node-drag-helper"},[n("div",{class:{"drag-position":!0,drop:"before"===this.dropPosition},on:{dragenter:function(t){e.dragPosition("before")},dragleave:function(t){e.dragPosition("")}}},[e._v("\n          拖为前置节点\n        ")])]):e._e(),n("node-content",{staticClass:"node-render-content"}),e.dragHover&&(this.dragInfo.after||this.dragInfo.inner)?n("div",{staticClass:"node-drag-helper"},[this.dragInfo.after?n("div",{class:{"drag-position":!0,drop:"after"===this.dropPosition},on:{dragenter:function(t){e.dragPosition("after")},dragleave:function(t){e.dragPosition("")}}},[e._v("\n          拖为后置节点\n        ")]):e._e(),this.dragInfo.inner?n("div",{class:{"drag-position":!0,drop:"inner"===this.dropPosition},on:{dragenter:function(t){e.dragPosition("inner")},dragleave:function(t){e.dragPosition("")}}},[e._v("\n          拖为子节点\n        ")]):e._e()]):e._e()],1)]),e.nodeData[e.props.children]&&e.nodeData[e.props.children].length?n("div",{directives:[{name:"show",rawName:"v-show",value:e.expanded,expression:"expanded"}],class:{"tree-node-children":!0,"children-hide":e.dragging},style:e.childrenStyle},e._l(e.nodeData[e.props.children],function(t,o){return n("tree-node",{key:o,attrs:{nodeData:t,nodeClass:e.nodeClass,allowDrag:e.allowDrag,dragInfo:e.dragInfo,draggable:e.draggable,expand:e.expand,indentLineColor:e.indentLineColor,indentWidth:e.indentWidth,props:e.props}})})):e._e()])}),i=[],s={name:"tree-node",props:{nodeData:{type:Object,required:!0},props:{type:Object,required:!0},nodeClass:{type:[Object,Array,String]},expand:{type:Boolean,default:!0},expandDefault:{type:Boolean,default:!0},allowDrag:Function,dragInfo:Object,draggable:Boolean,indentLineColor:Array,indentWidth:Number},components:{"node-content":{render:function(e){var t=this.$parent,n=t.tree,o=t.nodeData,r=t.parentData;return n.$scopedSlots.default?n.$scopedSlots.default({data:o,parentData:r}):e("div",[o[t.props.title]])}}},computed:{canBeDrag:function(){return this.draggable&&this.allowDrag&&this.allowDrag(this.nodeData)},dragHover:function(){return this===this.dragInfo.dropData},childrenStyle:function(){var e={marginLeft:this.indentWidth+"px"},t=this.indentLineColor.length;if(t){var n=(this.level%t+t-1)%t,o=this.indentLineColor[n];e.borderLeft="1px ".concat(this.hover?"solid":"dotted"," ").concat(o)}return e}},data:function(){return{tree:null,parentData:null,level:1,expanded:this.expandDefault,dragging:!1,dropPosition:"",hover:!1}},watch:{dragHover:function(){this.dragHover||(this.dropPosition="")}},created:function(){var e=this.$parent;e.isTree?(this.tree=e,this.parentData=e.rootData,this.level=1):(this.tree=e.tree,this.level=e.level+1,this.parentData=e.nodeData)},methods:{nodeClick:function(e){this.tree.$emit("node-click",e,this)},nodeDoubleClick:function(e){this.tree.$emit("node-double-click",e,this)},contentClick:function(e){this.tree.$emit("content-click",e,this)},contentDoubleClick:function(e){this.tree.$emit("content-double-click",e,this)},dragStart:function(e){this.hideChildren(),this.tree.$emit("tree-node-drag-start",e,this)},dragEnd:function(e){this.recoverChildren(),this.tree.$emit("tree-node-drag-end",e,this)},dragEnter:function(e){this.tree.$emit("tree-node-drag-enter",e,this,this.$refs.treeContent)},dragOver:function(e){e.preventDefault(),this.tree.$emit("tree-node-drag-over",e,this,this.$refs.treeContent)},dragLeave:function(e){this.tree.$emit("tree-node-drag-leave",e,this,this.$refs.treeContent)},drop:function(e){this.tree.$emit("tree-node-drop",e,this)},hideChildren:function(){this.dragging=!0},recoverChildren:function(){this.dragging=!1},dragPosition:function(e){this.dropPosition=e,this.tree.$emit("tree-node-drag-position",e)}}},c=s,u=(n("54ab"),n("2877")),d=Object(u["a"])(c,a,i,!1,null,"7b06da70",null);d.options.__file="tree-node.vue";var l=d.exports,p={props:{treeData:Array,props:{type:Object,default:function(){return{children:"children",title:"title",id:"id"}}},nodeClass:[Object,Array,String],expand:{type:Boolean,default:!0},expandDefault:{type:Boolean,default:!0},allowDrop:{type:Function,default:function(){return!0}},allowDrag:{type:Function,default:function(){return!0}},draggable:{type:Boolean,default:!1},indentLine:[Array,Boolean],indentLimit:Number,maxIndent:{type:Number,default:20}},components:{"tree-node":l},data:function(){return{isTree:!0,treeWidth:0,observer:null,dragInfo:{dragData:null,dropData:null,position:"",before:!0,after:!0,inner:!0}}},computed:{rootData:function(){var e={isRoot:!0};return e[this.props.children]=this.treeData,e},indentLineColor:function(){var e=[];return"boolean"===typeof this.indentLine&&this.indentLine?e=["red","green","blue"]:Array.isArray(this.indentLine)&&(e=this.indentLine),e},indentWidth:function(){if(!this.indentLimit||this.indentLimit<=0||!this.treeWidth)return this.maxIndent;var e=this.indentLimit<100?this.treeWidth*this.indentLimit/100:this.indentLimit,t=Math.round(Math.min(e/this.level,this.maxIndent));return t},level:function(){return this.getMaxLevel()}},created:function(){this.registerDragHandle()},mounted:function(){this.treeWidth=Math.round(this.$el.getBoundingClientRect().width),this.registerObserver()},beforeDestroy:function(){this.removeObserver(),this.$off("tree-node-drag-start"),this.$off("tree-node-drag-end"),this.$off("tree-node-drag-enter"),this.$off("tree-node-drag-position"),this.$off("tree-node-drag-over"),this.$off("tree-node-drag-leave"),this.$off("tree-node-drop")},methods:{checkAllowDrop:function(){return!!(this.allowDrop&&this.dragInfo.dragData&&this.dragInfo.dropData&&this.dragInfo.position)&&("boolean"===typeof this.allowDrop?this.allowDrop:this.allowDrop(this.dragInfo.dragData,this.dragInfo.dropData,this.dragInfo.position)||!1)},registerDragHandle:function(){var e=this;this.$on("tree-node-drag-start",function(t,n){e.dragInfo.dragData=n,e.$emit("tree-drag-start",t,n)}),this.$on("tree-node-drag-end",function(t,n){e.clearDragInfo(),e.$emit("tree-drag-end",t,n)}),this.$on("tree-node-drag-enter",function(t,n,o){e.setDropNode(n),e.$emit("tree-drag-enter",t,n)}),this.$on("tree-node-drag-over",function(t,n,o){e.$emit("tree-drag-over",t,n)}),this.$on("tree-node-drag-position",function(t){e.dragInfo.position=t,e.$emit("tree-drag-position",event,t)}),this.$on("tree-node-drag-leave",function(t,n,o){e.eventInElement(t,o)||(e.dragInfo.dropData=null,e.$emit("tree-drag-leave",t,n))}),this.$on("tree-node-drop",function(t,n){e.checkAllowDrop()&&e.$emit("tree-drop",e.dragInfo.dragData,e.dragInfo.dropData,e.dragInfo.position),e.clearDragInfo()})},clearDragInfo:function(){this.dragInfo={dragData:null,dropData:null,position:"",before:!0,after:!0,inner:!0}},eventInElement:function(e,t){var n=t.getBoundingClientRect();return n.left<e.clientX&&e.clientX<n.right&&n.top<e.clientY&&e.clientY<n.bottom},setDropNode:function(e){var t=this.dragInfo.dragData;if(t&&t!==e){var n=this.dragInfo.dropData;if(!n||n!==e){this.dragInfo.dropData=e,n=this.dragInfo.dropData;var o=this.props.children,r=!0,a=!0,i=!0;if(n.nodeData[o]&&n.nodeData[o].includes(t.nodeData)&&(i=!1),n.parentData===t.parentData){var s=t.parentData[o].indexOf(t.nodeData),c=n.parentData[o].indexOf(n.nodeData);s===c-1?r=!1:s-1===c&&(a=!1)}"function"===typeof this.allowDrop&&(this.dragInfo.before=r&&this.allowDrop(t,n,"before"),this.dragInfo.after=a&&this.allowDrop(t,n,"after"),this.dragInfo.inner=i&&this.allowDrop(t,n,"inner"))}}},getMaxLevel:function(){var e=0,t=!0,n=!1,o=void 0;try{for(var r,a=this.treeData[Symbol.iterator]();!(t=(r=a.next()).done);t=!0){var i=r.value,s=this.getLevel(i);e=Math.max(e,s)}}catch(e){n=!0,o=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw o}}return e},getLevel:function(e){var t=e[this.props.children]||[];if(!t.length)return 0;var n=0,o=!0,r=!1,a=void 0;try{for(var i,s=t[Symbol.iterator]();!(o=(i=s.next()).done);o=!0){var c=i.value,u=this.getLevel(c);n=Math.max(u,n)}}catch(e){r=!0,a=e}finally{try{o||null==s.return||s.return()}finally{if(r)throw a}}return n+1},registerObserver:function(){var e=this,t=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;this.observer=new t(function(){e.treeWidth=Math.round(e.$el.getBoundingClientRect().width)}),this.observer.observe(document.body,{attributes:!0,subtree:!0})},removeObserver:function(){this.observer&&(this.observer.disconnect(),this.observer.takeRecords(),this.observer=null)}}},h=p,m=Object(u["a"])(h,o,r,!1,null,null,null);m.options.__file="tree.vue";var f=m.exports;t["a"]=f},"539d":function(e,t,n){},"54ab":function(e,t,n){"use strict";var o=n("d8b1"),r=n.n(o);r.a},"566c":function(e,t,n){"use strict";var o=n("1125"),r=n.n(o);r.a},"56d7":function(e,t,n){"use strict";n.r(t);var o=n("6bde"),r=(n("cadf"),n("551c"),n("097d"),n("2b0e")),a=n("6b6c"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view"),n("MessageHandle")],1)},s=[],c=(n("ac6a"),n("96cf"),n("3040")),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},d=[],l=(n("ac4d"),n("8a81"),n("8afe")),p={data:function(){return{freezeList:{},eventFunc:{},eventList:["code-test","pop-helper-show-menu","pop-helper-hide-menu","pop-helper-update-prop","pop-helper-register-component","code-test-pass","code-test-error-card","code-test-end","code-test-focus-error-code"]}},created:function(){var e=this;window.setTargetWindow=function(e){window.__targetWindow=e,e.__targetWindow=window},window.clearTargetWindow=function(){window.__targetWindow&&delete window.__targetWindow.__targetWindow,delete window.__targetWindow},window.forwardBusEvent=function(t,n){var o,r="freeze"+t;e.freezeList[r]=!0,(o=e.$bus).$emit.apply(o,[t].concat(Object(l["a"])(n)))};var t=!0,n=!1,o=void 0;try{for(var r,a=function(){var t=r.value;e.eventFunc[t]=function(){var n="freeze"+t;if(e.freezeList[n])delete e.freezeList[n];else if(window.__targetWindow&&window.__targetWindow.forwardBusEvent){for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];window.__targetWindow.forwardBusEvent(t,r)}},e.$bus.$on(t,e.eventFunc[t])},i=this.eventList[Symbol.iterator]();!(t=(r=i.next()).done);t=!0)a()}catch(e){n=!0,o=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw o}}},beforeDestroy:function(){var e=!0,t=!1,n=void 0;try{for(var o,r=this.eventList[Symbol.iterator]();!(e=(o=r.next()).done);e=!0){var a=o.value;this.$bus.$off(a,this.eventFunc[a]),delete this.eventFunc[a]}}catch(e){t=!0,n=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}delete window.setTargetWindow,delete window.clearTargetWindow},methods:{}},h=p,m=n("2877"),f=Object(m["a"])(h,u,d,!1,null,null,null);f.options.__file="MessageHandle.vue";var g=f.exports,v=g,b={name:"app",components:{MessageHandle:v},created:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return window.Ialert=this.$Message.error,e.next=3,this.initData();case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),mounted:function(){document.addEventListener("compositionstart",this.markInputing),document.addEventListener("compositionend",this.markInputing)},beforeDestroy:function(){document.removeEventListener("compositionstart",this.markInputing),document.removeEventListener("compositionend",this.markInputing)},methods:{initData:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.$store.dispatch("component/init"),this.$store.dispatch("user/getCompanyList")]);case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),markInputing:function(){this.$bus.inputing=!this.$bus.inputing}}},y=b,C=(n("7faf"),Object(m["a"])(y,i,s,!1,null,null,null));C.options.__file="App.vue";var w=C.exports,k=n("8c4f"),_=n("e069"),I=n.n(_),x=n("c276"),j=n("7ded");function D(e,t,n){return T.apply(this,arguments)}function T(){return T=Object(c["a"])(regeneratorRuntime.mark(function e(t,n,o){var r,a,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(console.log("检查localStorage"),r=Object(x["d"])(),a=Object(x["c"])(),a||!r||r.unionid){e.next=10;break}I.a.Message.error("请先登录!"),Object(x["a"])(),Object(x["b"])(),o({name:"Login"}),e.next=24;break;case 10:if(console.log("检查绑定状态"),!r||!r.id||r.unionid){e.next=15;break}o({name:"BindWX"}),e.next=24;break;case 15:if(!r||!r.unionid||r.id){e.next=19;break}o({name:"BindPhone"}),e.next=24;break;case 19:return console.log("检查登录是否过期"),e.next=22,Object(j["checkLogin"])();case 22:i=e.sent,i.response.success?o():(I.a.Message.error("".concat(i.response.msg,"，请重新登录")),Object(x["a"])(),Object(x["b"])(),o({name:"Login"}));case 24:case"end":return e.stop()}},e,this)})),T.apply(this,arguments)}function O(e,t,n){Object(x["c"])()?n({name:"Home"}):n()}var N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Layout",{staticClass:"layout",class:"layout-helper-"+e.helperPosition},[n("Layout",{ref:"pageContent",staticClass:"content",class:["content-helper-"+e.helperPosition,e.dragging||e.dragHover?"dragging-"+e.helperPosition:""]},[e.fullScreen?e._e():n("Header",{staticClass:"layout-header"},[n("keep-alive",[n("PageHeader")],1)],1),n("Content",{staticClass:"layout-content",class:{"full-screen":e.fullScreen}},[n("router-view",{staticClass:"layout-content-view"})],1),e.fullScreen?e._e():n("Footer",{staticClass:"layout-footer"},[n("div",{staticClass:"footer"},[e._v("©2018 - Lvpinhui (Beijing) S&T Co,.Ltd, All rights reserved. "+e._s(e.$version))])])],1),n("div",{ref:"helper",staticClass:"helper",class:["helper-"+e.helperPosition,e.dragging||e.dragHover?"dragging-"+e.helperPosition:""],style:e.size},[n("Helper",{staticClass:"helper-component",on:{"change-position":e.changePosition}})],1),n("PopMenu")],1)},S=[],$=n("7a65"),P=$["a"],L=(n("00bb"),Object(m["a"])(P,N,S,!1,null,"312942c5",null));L.options.__file="Layout.vue";var M=L.exports,R=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"auto-size",rawName:"v-auto-size"}],staticClass:"page-page",class:{"full-screen":e.fullScreen}},[n("layer",{style:{right:"0.5rem",top:"4rem","z-index":"99999999999"},attrs:{title:"节点列表",showFooter:!1},model:{value:e.showNodeTree,callback:function(t){e.showNodeTree=t},expression:"showNodeTree"}},[e.nodeManager?n("nodeEditor",{key:"floatNodeList",ref:"nodeEditor",attrs:{outManager:e.nodeManager,editable:!1}}):e._e()],1),n("div",{staticClass:"online",staticStyle:{color:"#777"}},[e._v(e._s(e.projectOnlines.length?e.projectOnlines.length+"人正在编辑该项目":"您正在编辑该项目")),e._l(e.projectOnlines,function(t,o){return[n("Tooltip",{attrs:{content:t.name,placement:"bottom"}},[n("Avatar",{staticClass:"online-avatar",attrs:{icon:"ios-person",size:"small",src:e.$avatarUrl.replace("avatarID",t.avatar)}})],1)]})],2),n("div",{class:{"full-screen":e.fullScreen,"auto-size":e.autoSize},attrs:{id:"scroll"}},[n("Row",{class:{"full-screen":e.fullScreen},attrs:{id:"page-container"}},[n("div",{staticClass:"project-tree",class:e.autoSize?"auto-size":""},[n("projectTree",{attrs:{projectID:e.rootProjectId,currentProject:e.projectId},on:{nodeClick:e.treeNodeClick}})],1),n("div",{staticClass:"mind-map",class:{"full-screen":e.fullScreen}},[n("div",{staticClass:"tools"},[n("div",{staticClass:"tool-breadcrumb"},[e.nodeBreadcrumb&&e.nodeBreadcrumb.length?e._e():n("div",{staticClass:"title-input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.currentProject.name,expression:"currentProject.name"}],ref:"title",attrs:{type:"text",placeholder:"请输入标题",maxlength:200},domProps:{value:e.currentProject.name},on:{change:function(t){e.titleChanged=!0},keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?(t.stopPropagation(),e.updateTitle(t)):null},blur:e.updateTitle,input:function(t){t.target.composing||e.$set(e.currentProject,"name",t.target.value)}}})]),e.nodeBreadcrumb.length?n("Breadcrumb",{staticClass:"breadcrumb",attrs:{separator:">"}},[n("BreadcrumbItem",{staticClass:"breadcrumb-item",nativeOn:{click:function(t){return e.nodeManager.enterRoot(t)}}},[e._v("首页")]),e._l(e.nodeBreadcrumb,function(t,o){return[n("BreadcrumbItem",{key:o,staticClass:"breadcrumb-item",class:1===t.type?"question":"answer",nativeOn:{click:function(n){e.goNode(t)}}},[e._v(e._s(t.title))])]})],2):e._e()],1),n("div",{staticClass:"tool"},[e._l(e.toolBar,function(t,o){return[n("Tooltip",{key:o,attrs:{placement:"top",transfer:!0}},[n("span",{staticClass:"tool-item",on:{click:function(n){e.toolClick(n,t.$fn)}}},[n("icon",{attrs:{type:t.icon}})],1),n("div",{attrs:{slot:"content"},slot:"content"},[e._v(e._s(t.title))])])]})],2)]),n("div",{staticClass:"node-page"},[e.isSearch?n("div",{staticClass:"search-panel"},[n("Card",{staticClass:"search-card",attrs:{padding:0}},[n("Row",{attrs:{slot:"title","class-name":"search-input",type:"flex"},slot:"title"},[n("Input",{staticClass:"input-box",attrs:{size:"small",placeholder:"请输入关键字",autofocus:""},on:{"on-change":e.debounceInput},model:{value:e.searchInput,callback:function(t){e.searchInput=t},expression:"searchInput"}})],1),e.searchList&&e.searchList.length?n("div",{staticClass:"search-result-panel"},e._l(e.searchList,function(t,o){return n("div",{key:o,staticClass:"search-result-row",on:{click:function(n){e.jumpTo(t)}}},[e._v(e._s(t.title))])})):e._e()],1)],1):e._e(),n("div",{ref:"nodePage",staticClass:"page-content"},[n("nodeEditor",{ref:"nodeEditor",attrs:{projectId:e.projectId,teamId:e.teamId},on:{inited:e.nodeEditorInited,lockNode:e.lockNode,unlockNode:e.unlockNode}})],1)])])])],1)],1)},E=[],B=n("59bb"),V=B["a"],A=(n("dc08"),Object(m["a"])(V,R,E,!1,null,"431b5759",null));A.options.__file="Page.vue";var z=A.exports,U=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"report-tree-page"},[n("div",{staticClass:"report-menu"},[n("div",{staticClass:"return-project"},[n("div",{staticClass:"project-name",on:{click:e.pushToPage}},[e._v(e._s(e.projectInfo.name))]),e._v("的报告")]),n("div",{staticClass:"show-all"},[n("Select",{staticStyle:{width:"150px"},attrs:{size:"small"},model:{value:e.showType,callback:function(t){e.showType=t},expression:"showType"}},[n("Option",{attrs:{value:0}},[e._v("显示当前项目报告")]),n("Option",{attrs:{value:1}},[e._v("显示根项目报告")])],1)],1),n("div",{staticClass:"check-report-test"},[n("checkReport",{staticClass:"check-report-button",attrs:{projectId:e.projectId,projectRootId:e.rootId}})],1)]),n("div",{staticClass:"report-content"},[n("div",{class:{"layout-left":!0,"layout-hide":!(1&e.showLayout),"layout-full-screen":!(2&e.showLayout)}},[n("div",{staticClass:"layout-show",on:{click:function(t){t.stopPropagation(),e.showLayout=1^e.showLayout}}},[1&e.showLayout?n("Icon",{staticClass:"show-Icon icon-button",attrs:{type:"ios-arrow-back",title:"隐藏报告树和章节树"}}):n("Icon",{staticClass:"show-icon",attrs:{title:"展开报告树和章节树",type:"ios-arrow-forward"}})],1),n("div",{directives:[{name:"show",rawName:"v-show",value:1&e.showLayout,expression:"showLayout & 1"}],staticClass:"report"},[n("div",{staticClass:"layout-title"},[e._v("报告树")]),this.reportData.length?n("Tree",{staticClass:"tree",attrs:{allowDrag:e.allowDrag,allowDrop:e.allowDrop,treeData:e.reportData,draggable:!0,indentLine:!0,indentLimit:40},on:{"tree-drop":function(t){e.handleDrop("report",arguments)},"content-click":function(t){e.handleContentClick("report",arguments)}},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.parentData,r=t.data;return n("div",{staticClass:"node-content",class:{choose:e.currentReport===r.id},on:{dblclick:function(t){t.stopPropagation(),e.tryUpdateNode("report",r)}}},[n("div",{directives:[{name:"click-copy",rawName:"v-click-copy"}],staticClass:"node-code",class:r.conditionCheckState?"node-name-tested":"node-name-untested"},[e._v(e._s(r.code))]),n("div",{staticClass:"node-name",attrs:{title:r.title}},[e._v(e._s(r.title))]),n("div",{staticClass:"node-divide"}),n("div",{staticClass:"node-menu-icon"},[n("Icon",{attrs:{type:"md-add-circle",title:"添加同级报告"},on:{click:function(t){t.stopPropagation(),e.tryAddBrother("report",r,o)}}}),n("Icon",{attrs:{type:"md-add",title:"添加子级报告"},on:{click:function(t){t.stopPropagation(),e.tryAddChild("report",r)}}}),n("Icon",{attrs:{type:"md-trash",title:"删除报告"},on:{click:function(t){t.stopPropagation(),e.tryDeleteNode(o,r,"report")}}})],1)])}}])}):n("div",{staticClass:"add-root-button"},[n("Button",{staticClass:"root-button",on:{click:function(t){e.tryAddRootNode("report")}}},[e._v("添加主报告")])],1),e.currentReportData?n("div",{staticClass:"report-condition"},[n("div",{staticClass:"mask"}),n("div",{staticClass:"condition-title"},[e._v("当前报告条件(只读)")]),e.currentReportData?n("div",{staticClass:"show-condition-editor"},[n("Editor",{attrs:{projectId:e.rootId,currentProject:e.projectId,sourceType:e.testType.REPORT_CODE_CONDITION,maxHeight:200,customOptions:{readOnly:!0}},model:{value:e.currentReportData.condition,callback:function(t){e.$set(e.currentReportData,"condition",t)},expression:"currentReportData.condition"}})],1):n("Button",{staticClass:"show-condition-button"})],1):e._e()],1),n("div",{directives:[{name:"show",rawName:"v-show",value:1&e.showLayout,expression:"showLayout & 1"}],staticClass:"chapter"},[n("div",{staticClass:"layout-title"},[e._v("章节树")]),this.chapterData.length?n("Tree",{staticClass:"tree",attrs:{treeData:e.chapterData,draggable:!0,indentLine:!0,indentLimit:40},on:{"tree-drop":function(t){e.handleDrop("chapter",arguments)},"content-click":function(t){e.handleContentClick("chapter",arguments)}},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.parentData,r=t.data;return n("div",{staticClass:"node-content",class:{choose:e.currentChapter===r.id},on:{dblclick:function(t){t.stopPropagation(),e.tryUpdateNode("chapter",r)}}},[n("div",{directives:[{name:"click-copy",rawName:"v-click-copy"}],staticClass:"node-code",class:r.conditionCheckState?"node-name-tested":"node-name-untested"},[e._v(e._s(r.code))]),n("div",{staticClass:"node-name",attrs:{title:r.title}},[e._v(e._s(r.title))]),n("div",{staticClass:"node-divide"}),n("div",{staticClass:"node-menu-icon"},[n("Icon",{attrs:{type:"md-add-circle",title:"添加同级章节"},on:{click:function(t){t.stopPropagation(),e.tryAddBrother("chapter",r,o)}}}),n("Icon",{attrs:{type:"md-add",title:"添加子级章节"},on:{click:function(t){t.stopPropagation(),e.tryAddChild("chapter",r)}}}),n("Icon",{attrs:{type:"md-trash",title:"删除章节"},on:{click:function(t){t.stopPropagation(),e.tryDeleteNode(o,r,"chapter")}}})],1)])}}])}):this.currentReport?n("div",{staticClass:"add-root-button"},[n("Button",{staticClass:"root-button",on:{click:function(t){e.tryAddRootNode("chapter")}}},[e._v("添加章节")])],1):e._e(),e.currentChapterData?n("div",{staticClass:"chapter-condition"},[n("div",{staticClass:"mask"}),n("div",{staticClass:"condition-title"},[e._v("当前章节条件(只读)")]),e.currentReportData?n("div",{staticClass:"show-condition-editor"}):e._e(),n("Editor",{attrs:{projectId:e.rootId,currentProject:e.projectId,sourceType:e.testType.REPORT_OUTLINE_CODE_CONDITION,maxHeight:200},model:{value:e.currentChapterData.condition,callback:function(t){e.$set(e.currentChapterData,"condition",t)},expression:"currentChapterData.condition"}})],1):e._e()],1)]),n("div",{class:{"layout-right":!0,"layout-hide":!(2&e.showLayout),"layout-full-screen":!(1&e.showLayout)}},[n("div",{staticClass:"layout-show",on:{click:function(t){t.stopPropagation(),e.showLayout=2^e.showLayout}}},[2&e.showLayout?n("Icon",{staticClass:"show-Icon icon-button",attrs:{type:"ios-arrow-forward",title:"隐藏代码块"}}):n("Icon",{staticClass:"show-icon",attrs:{title:"展开代码块",type:"ios-arrow-back"}})],1),n("div",{directives:[{name:"show",rawName:"v-show",value:2&e.showLayout,expression:"showLayout & 2"}],staticClass:"layout-title"},[e._v("代码区"),e.codeList.length?n("div",{staticClass:"test-all"},[n("div",{class:e.testPass?"test-pass":"test-not-pass",attrs:{title:e.testPass?"所有代码块已测试通过":"代码未完全通过测试，未通过测试的代码块将不会生效"}}),n("div",{staticClass:"test-button",on:{click:function(t){t.stopPropagation(),e.openTestBord(e.codeList.length-1)}}},[e._v("测试所有代码块")])]):e._e()]),n("div",{directives:[{name:"show",rawName:"v-show",value:2&e.showLayout,expression:"showLayout & 2"}],staticClass:"code-list"},[e.currentChapter?[e._l(e.codeList,function(t,o){return n("div",{key:o,staticClass:"editor",attrs:{id:"code"+o},on:{"!keydown":function(n){e.codeCardKeyDown(n,t,o)}}},[n("div",{staticClass:"code-name"},[t.checkState?n("span",{staticClass:"code-checked",attrs:{title:"该代码块已通过测试"}}):n("span",{staticClass:"code-unchecked",attrs:{title:"该代码块未通过测试，将不会生效"}}),n("span",{staticClass:"code-name-title"},[e._v("编号:")]),n("span",{directives:[{name:"click-copy",rawName:"v-click-copy"}],attrs:{title:"点击可复制"}},[e._v(e._s(t.code))])]),n("Input",{attrs:{type:"textarea",rows:5,placeholder:"逻辑说明"},on:{"on-change":function(n){e.recordDirty(t.id,!1)}},model:{value:t.note,callback:function(n){e.$set(t,"note",n)},expression:"item.note"}}),n("Editor",{ref:"editor",refInFor:!0,staticClass:"code-editor",class:e.errorCodeIDx===o?"error":"",attrs:{sourceType:e.testType.REPORT_BLOCK_CODE,error:e.errorCodeIDx===o,fillAll:!0,projectId:e.rootId,currentProject:e.projectId,updateCodeTest:!1},on:{input:function(n){e.recordDirty(t.id,!1)}},model:{value:t.content,callback:function(n){e.$set(t,"content",n)},expression:"item.content"}}),n("div",{staticClass:"btns"},[n("Button",{staticClass:"button",attrs:{title:"alt+shift+enter"},on:{click:function(n){e.addCodeCard(t)}}},[n("Icon",{staticClass:"icon-button",attrs:{type:"md-add"}})],1),n("Button",{staticClass:"button",attrs:{title:"ctrl+D"},on:{click:function(n){e.tryDeleteCode(t)}}},[n("Icon",{staticClass:"icon-button",attrs:{type:"md-remove"}})],1),n("Button",{staticClass:"button",attrs:{title:"ctrl+S",type:e.dirtyCode.includes(t.id)?"warning":"default"},on:{click:function(t){e.openTestBord(o)}}},[e._v("保存")])],1)],1)}),0===e.codeList.length&&this.currentChapter?n("Button",{staticClass:"root-button",on:{click:function(t){e.addCodeCard(null)}}},[n("Icon",{staticClass:"icon-button",attrs:{type:"md-add"}})],1):e._e()]:e._e()],2)])]),n("Modal",{directives:[{name:"modal-drag",rawName:"v-modal-drag"},{name:"modal-resize",rawName:"v-modal-resize"}],attrs:{title:e.editingNode.title,scrollable:!0,"mask-closable":!1,width:"60",center:"",transfer:!0},model:{value:e.editingNode.show,callback:function(t){e.$set(e.editingNode,"show",t)},expression:"editingNode.show"}},[n("div",{staticClass:"dialog-header",attrs:{slot:"header"},slot:"header"},[e._v(e._s(e.editingNode.title))]),n("div",{staticClass:"dialog-content"},[n("div",{staticClass:"dialog-title"},[n("div",{staticClass:"report-title-set"},[n("div",[e._v("标题")]),n("Input",{ref:"focusInput",staticClass:"dialog-right",on:{"on-change":function(t){e.editingNode.changed=!0},"on-enter":e.editingDone},model:{value:e.editingNode.data.title,callback:function(t){e.$set(e.editingNode.data,"title",t)},expression:"editingNode.data.title"}})],1),e.editingNode.showProjectList?n("div",{staticClass:"report-project-set"},[n("div",[e._v("所属项目")]),n("chooseProject",{style:{width:"10rem"},attrs:{rootId:e.rootId,type:1},model:{value:e.editingNode.data.projectId,callback:function(t){e.$set(e.editingNode.data,"projectId",t)},expression:"editingNode.data.projectId"}})],1):e._e()]),n("div",{staticClass:"dialog-condition"},[n("div",{staticClass:"dialog-editor"},[n("div",{staticClass:"editor-title"},[n("span",[e._v(e._s(("report"===e.editingNode.type?"报告":"章节")+"条件"))])]),e.editingNode.show?n("Editor",{ref:"codeEditor",attrs:{projectId:e.rootId,currentProject:e.projectId,fillAll:!0,sourceType:"report"===e.editingNode.type?e.testType.REPORT_CODE_CONDITION:e.testType.REPORT_OUTLINE_CODE_CONDITION},on:{input:function(t){e.editingNode.changed=!0}},model:{value:e.editingNode.data.condition,callback:function(t){e.$set(e.editingNode.data,"condition",t)},expression:"editingNode.data.condition"}}):e._e()],1)])]),n("span",{attrs:{slot:"footer"},slot:"footer"},[n("Button",{on:{click:e.editingCancle}},[e._v("取 消")]),n("Button",{attrs:{type:"primary"},on:{click:e.editingDone}},[e._v("确 定")])],1)])],1)},q=[],F=n("dc0e"),K=F["a"],H=(n("3dbd"),Object(m["a"])(K,U,q,!1,null,"1bc053a8",null));H.options.__file="ReportTree.vue";var W=H.exports,Q=n("04ce"),G={path:"knowledge",component:function(){return n.e("chunk-613f721b").then(n.bind(null,"034d"))},children:[{path:"",redirect:"document"},{path:"problem",name:"Problem",component:function(){return n.e("chunk-5c0359d5").then(n.bind(null,"eefc"))}},{path:"problemDetail/:type/:id",name:"ProblemDetail",component:function(){return n.e("chunk-f780affc").then(n.bind(null,"ca23"))}},{path:"case",name:"Case",component:function(){return n.e("chunk-74213099").then(n.bind(null,"86bc"))}},{path:"caseDetail/:type/:id",name:"CaseDetail",component:function(){return n.e("chunk-819cb12e").then(n.bind(null,"8a30"))}},{path:"professional",name:"Professional",component:function(){return n.e("chunk-17b2c182").then(n.bind(null,"3c2d"))}},{path:"professionalDetail/:type/:data",name:"ProfessionalDetail",component:function(){return n.e("chunk-53e4db46").then(n.bind(null,"4dc4"))}},{path:"tag",name:"Tag",component:function(){return n.e("chunk-3ef53498").then(n.bind(null,"d95d"))}},{path:"law",name:"Law",component:function(){return n.e("chunk-90553430").then(n.bind(null,"6f7b"))},children:[{path:"lawList/:categoryId",name:"LawList",component:function(){return n.e("chunk-e178ca60").then(n.bind(null,"6700"))}},{path:"lawItem/:lawId/:parentId",name:"LawItem",component:function(){return n.e("chunk-72ac519a").then(n.bind(null,"e272"))}}]},{path:"lawDetail/:type/:id/:category",name:"LawDetail",component:function(){return n.e("chunk-68b07760").then(n.bind(null,"dca8"))}},{path:"areaManage",name:"AreaManage",component:function(){return n.e("chunk-3f75046c").then(n.bind(null,"d609"))}},{path:"document",name:"Document",component:function(){return n.e("chunk-1397ce7d").then(n.bind(null,"10ac"))}},{path:"editDocument/:type/:id",name:"EditDocument",component:function(){return n.e("chunk-063a319c").then(n.bind(null,"3693"))}}]};r["default"].use(k["a"]);var J=new k["a"]({routes:[{path:"/",redirect:"/layout"},{path:"/layout",component:M,beforeEnter:D,children:[{path:"",redirect:"/layout/home"},{path:"home",name:"Home",component:function(){return n.e("chunk-20e65cc9").then(n.bind(null,"bc13"))},meta:{title:"首页"}},{path:"page/:projectId",name:"Page",component:z,meta:{title:"项目"}},{path:"rc",name:"RegisterComponent",component:function(){return n.e("chunk-66650b0e").then(n.bind(null,"3501"))},meta:{title:"组件注册"}},{path:"report",name:"Report",component:W,meta:{title:"报告编辑"}},{path:"accountSetting",name:"AccountSetting",component:function(){return n.e("chunk-b34c5698").then(n.bind(null,"db45"))},meta:{title:"账号设置"}},{path:"/question",name:"Question",component:function(){return n.e("chunk-4563bf28").then(n.bind(null,"90b2"))},meta:{title:"做题测试"}},{path:"/answerRecord",name:"AnswerRecord",component:function(){return n.e("chunk-8b5b7c9a").then(n.bind(null,"b2b9"))},meta:{title:"做题记录"}},{path:"/dataComponent",name:"DataComponent",component:function(){return n.e("chunk-3ef95439").then(n.bind(null,"5603"))},meta:{}},G]},{path:"/helper",name:"Helper",component:function(){return n.e("chunk-53df5140").then(n.bind(null,"76f2"))},meta:{title:"小助手"}},{path:"/bindPhone",name:"BindPhone",component:function(){return n.e("chunk-3b572fce").then(n.bind(null,"7e8d"))},meta:{title:"绑定手机"}},{path:"/bindwx",name:"BindWX",component:function(){return n.e("chunk-5d4c126e").then(n.bind(null,"53e1"))},meta:{title:"绑定微信"}},{path:"/login",name:"Login",component:function(){return n.e("chunk-185f6e20").then(n.bind(null,"013f"))},beforeEnter:O,meta:{title:"登录"}},{path:"/register",name:"Register",component:function(){return n.e("chunk-58546576").then(n.bind(null,"56b4"))},meta:{title:"注册"}},{path:"/publicQuestion",name:"PublicQuestion",component:function(){return n.e("chunk-62b090a9").then(n.bind(null,"8848"))},meta:{title:"问答"}},{path:"/publicQuestionBig",name:"PublicQuestionBig",component:function(){return n.e("chunk-6f0d9e13").then(n.bind(null,"8abc"))},meta:{title:"大表单"}},{path:"*",component:function(){return n.e("chunk-4b2f6eae").then(n.bind(null,"cbaf"))},meta:{title:"错误地址"}}]});J.beforeEach(function(e,t,n){document.title=e.meta.title?e.meta.title+" - ".concat(Q["c"]):Q["c"],n()});var Y=J,Z=n("2f62"),X=n("2a74");r["default"].use(Z["a"]);var ee=!1,te=new Z["a"].Store({modules:X["default"],strict:ee}),ne=n("365c"),oe=n("9483");Object(oe["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},cached:function(){console.log("Content has been cached for offline use.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});n("4657");var re=n("b2d8"),ae=n.n(re),ie=(n("64e1"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"global-dom",rawName:"v-global-dom"}],ref:"layer",staticClass:"layer",class:{moving:e.moveData.isMove,minimum:e.minimum,hide:!e.value},style:e.css,on:{mousemove:e.layerMouseOver}},[n("div",{staticClass:"layer-title",on:{mousedown:function(t){return t.stopPropagation(),e.handleMoveMouseDown(t)}}},[e.showTitle||""+e.title!==""?e._t("title",[e._v("\n      "+e._s(e.title)+"\n    ")]):e._e(),n("div",{staticClass:"layer-tool"},[n("span",{staticClass:"show-btn",on:{click:function(t){t.stopPropagation(),e.minimum=!e.minimum}}},[e.minimum?n("Icon",{attrs:{type:"md-resize"}}):n("Icon",{attrs:{type:"md-remove"}})],1)])],2),n("div",{staticClass:"layer-content",class:{hide:e.minimum}},[e._t("default",[e._v("\n      content\n    ")])],2),!e.minimum&&e.showFooter?n("div",{staticClass:"layer-footer"},[e._t("footer",[e._v("\n      footer\n    ")])],2):e._e()])}),se=[],ce={name:"Layer",props:{value:{type:Boolean,required:!1,default:!0},showTitle:{type:Boolean,required:!1,default:!0},showFooter:{type:Boolean,required:!1,default:!0},title:{type:String,required:!1},css:{type:Object,required:!1}},data:function(){return{moveData:{isMove:!1,layerEl:null,layerHeight:0,layerWidth:0,innerWidth:0,innerHeight:0,maxX:0,maxY:0,difX:0,difY:0},minimum:!1}},methods:{layerMouseOver:function(e){},handleMoveMouseDown:function(e){e.preventDefault(),this.moveData.layerEl=this.$refs.layer,this.moveData.layerWidth=this.moveData.layerEl.clientWidth,this.moveData.layerHeight=this.moveData.layerEl.clientHeight,this.moveData.innerWidth=window.innerWidth,this.moveData.innerHeight=window.innerHeight,this.moveData.difX=e.pageX-this.moveData.layerEl.offsetLeft,this.moveData.difY=e.pageY-this.moveData.layerEl.offsetTop,this.moveData.maxX=this.moveData.innerWidth-this.moveData.layerWidth,this.moveData.maxY=this.moveData.innerHeight-this.moveData.layerHeight,this.moveData.isMove=!0,window.addEventListener("mousemove",this.handleMoveMouseMove),window.addEventListener("mouseup",this.handleMoveMouseUp)},handleMoveMouseMove:function(e){if(this.moveData.isMove){var t=e.pageX-this.moveData.difX,n=e.pageY-this.moveData.difY;t<=0?this.moveData.layerEl.style.left="0px":t>=this.moveData.maxX?this.moveData.layerEl.style.left="".concat(this.moveData.maxX,"px"):this.moveData.layerEl.style.left="".concat(t,"px"),n<=0?this.moveData.layerEl.style.top="0px":n>=this.moveData.maxY?this.moveData.layerEl.style.top="".concat(this.moveData.maxY,"px"):this.moveData.layerEl.style.top="".concat(n,"px")}},handleMoveMouseUp:function(e){this.moveData.isMove=!1,window.removeEventListener("mousemove",this.handleMoveMouseMove),window.removeEventListener("mouseup",this.handleMoveMouseUp)}}},ue=ce,de=(n("0738"),Object(m["a"])(ue,ie,se,!1,null,"86f51334",null));de.options.__file="layer.vue";var le=de.exports,pe=le.install=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.component("layer",le)},he=n("c2c6"),me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"global-dom",rawName:"v-global-dom"}],staticClass:"poptip-wrap",class:{show:e.show},style:e.position},[n("div",{staticClass:"poptip-content"},[e._v(e._s(e.content))])])},fe=[],ge=n("0307"),ve={name:"poptip",directives:{"global-dom":ge["default"]},data:function(){return{content:"",position:{},show:!1}},mounted:function(){console.log(this.position)}},be=ve,ye=(n("d935"),Object(m["a"])(be,me,fe,!1,null,"37022f01",null));ye.options.__file="poptip.vue";var Ce=ye.exports;Ce.install=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.prototype.$poptip=function(){var t=e.extend(Ce),n={};function o(e){a(),e.target.removeEventListener("mouseout",o),n.$el.removeEventListener("mouseout",o)}function r(e,t){var r=t.target.getBoundingClientRect(),a={left:r.left-r.width/2+"px",top:r.top+r.height+4+"px"};t.target.addEventListener("mouseout",o),n.$el.addEventListener("mouseout",o),n.$data.content=e.content,n.$data.position=a,n.$data.show=!0}function a(){n.$data.show=!1,n.$data.content="",n.$data.position.top="-99999px",n.$data.position.left="-99999px"}return n=(new t).$mount(),document.body.appendChild(n.$el),{show:r,hide:a}}()};var we=Ce,ke=n("bc3a"),_e=n.n(ke),Ie=n("c1df"),xe=n.n(Ie),je=n("4328"),De=n.n(je),Te=n("4ae3"),Oe=n.n(Te),Ne=n("0366"),Se=n("8348"),$e=n.n(Se),Pe=n("36b6"),Le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"radio-wrapper",class:{checked:e.currentValue}},[n("label",{staticClass:"radio-box"},[n("span",{staticClass:"radio-icon"}),n("input",{staticStyle:{display:"none"},attrs:{type:"radio",name:e.groupName},domProps:{checked:e.currentValue},on:{change:e.change}}),n("span",{staticClass:"radio-label"},[e._t("default")],2)])])},Me=[];n("7f7f"),n("c5f6");function Re(e,t,n){n="string"===typeof t?[t]:t;var o=e.$parent,r=o.$options.name;while(o&&(!r||n.indexOf(r)<0))o=o.$parent,o&&(r=o.$options.name);return o}function Ee(e,t){return e.$children.reduce(function(e,n){n.$options.name===t&&e.push(n);var o=Ee(n,t);return e.concat(o)},[])}var Be={name:"xRadio",props:{value:{type:[String,Number,Boolean],default:!1},trueValue:{type:[String,Number,Boolean],default:!0},falseValue:{type:[String,Number,Boolean],default:!1},label:{type:[String,Number]},disabled:{type:Boolean,default:!1},name:{type:String}},data:function(){return{currentValue:this.value,group:!1,parent:Re(this,"xRadioGroup"),groupName:this.name}},mounted:function(){this.parent&&(this.group=!0,this.name&&this.name!==this.parent.name?console.warn&&console.warn("[iview] Name does not match xRadio Group name."):this.groupName=this.parent.name),this.group?this.parent.updateValue():this.updateValue()},methods:{change:function(e){if(this.disabled)return!1;var t=e.target.checked;this.currentValue=t;var n=t?this.trueValue:this.falseValue;this.$emit("input",n),this.group?void 0!==this.label&&this.parent.change({value:this.label,checked:this.value}):this.$emit("on-change",n)},updateValue:function(){this.currentValue=this.value===this.trueValue}}},Ve=Be,Ae=(n("4fe5"),Object(m["a"])(Ve,Le,Me,!1,null,"660de220",null));Ae.options.__file="xRadio.vue";var ze=Ae.exports,Ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"x-radio-group",attrs:{name:e.name}},[e._t("default")],2)},qe=[],Fe=n("c64e"),Ke=n.n(Fe),He={name:"xRadioGroup",props:{value:{type:[String,Number],required:!0},name:{type:String,default:Ke()()}},data:function(){return{currentValue:this.value,childrens:[]}},mounted:function(){this.updateValue()},watch:{value:function(){var e=this;this.currentValue!==this.value&&(this.currentValue=this.value,this.$nextTick(function(){e.updateValue()}))}},methods:{updateValue:function(){var e=this;this.childrens=Ee(this,"xRadio"),this.childrens&&this.childrens.forEach(function(t){t.currentValue=e.currentValue===t.label,t.group=!0})},change:function(e){this.currentValue=e.value,this.updateValue(),this.$emit("input",e.value),this.$emit("on-change",e.value)}}},We=He,Qe=(n("c7eb"),Object(m["a"])(We,Ue,qe,!1,null,null,null));Qe.options.__file="xRadioGroup.vue";var Ge=Qe.exports,Je=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"checkbox-wrapper",class:{checked:e.currentValue,disabled:e.disabled}},[n("label",{staticClass:"checkbox-box"},[n("span",{staticClass:"checkbox-icon"}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.model,expression:"model"}],staticStyle:{display:"none"},attrs:{type:"checkbox",disabled:e.disabled,name:e.name},domProps:{checked:e.currentValue,value:e.label,checked:Array.isArray(e.model)?e._i(e.model,e.label)>-1:e.model},on:{change:[function(t){var n=e.model,o=t.target,r=!!o.checked;if(Array.isArray(n)){var a=e.label,i=e._i(n,a);o.checked?i<0&&(e.model=n.concat([a])):i>-1&&(e.model=n.slice(0,i).concat(n.slice(i+1)))}else e.model=r},e.change]}}),n("span",{staticClass:"checkbox-label"},[e._t("default")],2)])])},Ye=[];function Ze(e,t,n){n="string"===typeof t?[t]:t;var o=e.$parent,r=o.$options.name;while(o&&(!r||n.indexOf(r)<0))o=o.$parent,o&&(r=o.$options.name);return o}function Xe(e,t){return e.$children.reduce(function(e,n){n.$options.name===t&&e.push(n);var o=Xe(n,t);return e.concat(o)},[])}var et={name:"xCheckbox",props:{value:{type:[String,Number,Boolean],default:!1},trueValue:{type:[String,Number,Boolean],default:!0},falseValue:{type:[String,Number,Boolean],default:!1},label:{type:[String,Number]},disabled:{type:Boolean,default:!1},name:{type:String}},data:function(){return{model:[],currentValue:this.value,group:!1,parent:Ze(this,"xCheckboxGroup")}},mounted:function(){this.parent=Ze(this,"xCheckboxGroup"),this.parent&&(this.group=!0),this.group?this.parent.updateModel(!0):this.updateModel()},watch:{value:function(e){if(e!==this.trueValue&&e!==this.falseValue)throw new Error("Value should be trueValue or falseValue.");this.updateModel()}},methods:{change:function(e){if(this.disabled)return!1;var t=e.target.checked;this.currentValue=t;var n=t?this.trueValue:this.falseValue;this.$emit("input",n),this.group?this.parent.change(this.model):this.$emit("on-change",n)},updateModel:function(){this.currentValue=this.value===this.trueValue}}},tt=et,nt=(n("3fd0"),Object(m["a"])(tt,Je,Ye,!1,null,"34e6da60",null));nt.options.__file="xCheckbox.vue";var ot=nt.exports,rt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"x-checkbox-group"},[e._t("default")],2)},at=[],it={name:"xCheckboxGroup",props:{value:{type:Array,default:function(){return[]}},name:{type:String,default:Ke()()}},data:function(){return{currentValue:this.value,childrens:[]}},mounted:function(){this.updateModel(!0)},watch:{value:function(){this.updateModel(!0)}},methods:{updateModel:function(e){if(this.childrens=Xe(this,"xCheckbox"),this.childrens){var t=this.value;this.childrens.forEach(function(n){n.model=t,e&&(n.currentValue=t.indexOf(n.label)>=0,n.group=!0)})}},change:function(e){this.currentValue=e,this.updateModel(),this.$emit("input",e),this.$emit("on-change",e)}}},st=it,ct=(n("e612"),Object(m["a"])(st,rt,at,!1,null,null,null));ct.options.__file="xCheckboxGroup.vue";var ut=ct.exports,dt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"fade"}},[e.value?n("div",{staticClass:"x-spin"},[n("div",{staticClass:"spinner"},[n("div",{staticClass:"double-bounce1"}),n("div",{staticClass:"double-bounce2"})])]):e._e()])},lt=[],pt={name:"xSpin",props:{value:{type:Boolean,default:!1}}},ht=pt,mt=(n("fb2c"),Object(m["a"])(ht,dt,lt,!1,null,"28006104",null));mt.options.__file="xSpin.vue";var ft=mt.exports,gt=ft,vt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"global-dom",rawName:"v-global-dom"}],staticClass:"x-modal",class:{show:e.showModal,leave:e.closing}},[n("div",{staticClass:"x-modal-body"},[e.closable?n("div",{staticClass:"x-modal-close",on:{click:e.onCancel}},[n("div",{staticClass:"close-icon"})]):e._e(),n("div",{staticClass:"x-modal-title"},[e._t("title")],2),n("div",{staticClass:"x-modal-content"},[e._t("default")],2),n("div",{staticClass:"x-modal-foot"},[e._t("foot",[n("div",{staticClass:"default-btn"},[n("button",{staticClass:"x-modal-ok-btn",on:{click:e.onOk}},[e._v("确定")])])])],2)])])},bt=[];n("a481"),n("f751");function yt(e){return void 0===e&&(e=document.body),!0===e?document.body:e instanceof window.Node?e:document.querySelector(e)}var Ct={inserted:function(e,t,n){var o=t.value;e.className=e.className?e.className+" v-global-dom":"v-global-dom";var r=e.parentNode;if(r){var a=document.createComment(""),i=!1;!1!==o&&(r.replaceChild(a,e),yt(o).appendChild(e),i=!0),e.__transferDomData||(e.__transferDomData={parentNode:r,home:a,target:yt(o),hasMovedOut:i})}},componentUpdated:function(e,t){var n=t.value,o=e.__transferDomData;if(o){var r=o.parentNode,a=o.home,i=o.hasMovedOut;!i&&n?(r.replaceChild(a,e),yt(n).appendChild(e),e.__transferDomData=Object.assign({},e.__transferDomData,{hasMovedOut:!0,target:yt(n)})):i&&!1===n?(r.replaceChild(e,a),e.__transferDomData=Object.assign({},e.__transferDomData,{hasMovedOut:!1,target:yt(n)})):n&&yt(n).appendChild(e)}},unbind:function(e){e.className=e.className.replace("v-global-dom","");var t=e.__transferDomData;t&&(!0===e.__transferDomData.hasMovedOut&&e.__transferDomData.parentNode&&e.__transferDomData.parentNode.appendChild(e),e.__transferDomData=null)}},wt=Ct,kt={name:"xModal",directives:{"global-dom":wt},props:{value:{type:Boolean,default:!1},async:{type:Boolean,default:!1},closable:{type:Boolean,default:!0}},model:{prop:"value",event:"change"},data:function(){return{showModal:this.value,closing:!1,closeTimer:null}},watch:{value:function(e){console.log("value更新",e),e?this.showModal=!0:this.close()}},methods:{onOk:function(){this.$emit("on-ok"),this.async||this.close()},onCancel:function(){this.close("on-cancel")},close:function(e){var t=this;this.closeTimer||(e&&this.$emit(e),this.$emit("change",!1),this.closing=!0,this.closeTimer=setTimeout(function(){t.closing=!1,t.showModal=!1,clearTimeout(t.closeTimer),t.closeTimer=null},200))}}},_t=kt,It=(n("043d"),Object(m["a"])(_t,vt,bt,!1,null,"19198a9a",null));It.options.__file="xModal.vue";var xt=It.exports,jt=xt,Dt=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"x-select"},[o("div",{staticClass:"select-bar",on:{click:function(t){e.showSelectModal=!0}}},[e._v("\n    "+e._s(e.selected.length?e.selected.map(function(e){return e.label}).join("/"):"")+"\n    "),e.selected.length?e._e():o("span",{staticClass:"placeholder"},[e._v(e._s(e.placeholder))])]),o("xModal",{staticClass:"x-selece-modal",model:{value:e.showSelectModal,callback:function(t){e.showSelectModal=t},expression:"showSelectModal"}},[o("div",{staticClass:"select-title",attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.title))]),o("div",{staticClass:"select-body"},[o("div",{staticClass:"data-box"},[o("ul",{staticClass:"option-list"},e._l(e.optionChildren.default,function(t,r){return o("li",{key:r,staticClass:"option-item",class:{selected:e.hasSelected(t.value)},on:{click:function(n){e.select(0,t)}}},[o("span",{staticClass:"option-text"},[e._v(e._s(t.label))]),t.loading?o("img",{staticClass:"item-loading-img",attrs:{src:n("94a0")}}):e._e()])})),e._l(e.childrenLists,function(t,r){return o("ul",{key:r,staticClass:"option-list"},e._l(t,function(t,a){return o("li",{key:a,staticClass:"option-item",class:{selected:e.hasSelected(t.value)},on:{click:function(n){e.select(r+1,t)}}},[o("span",{staticClass:"option-text"},[e._v(e._s(t.label))]),t.loading?o("img",{staticClass:"item-loading-img",attrs:{src:n("94a0")}}):e._e()])}))})],2)]),o("div",{staticClass:"select-footer",attrs:{slot:"foot"},slot:"foot"},[o("button",{staticClass:"confirm-btn",on:{click:e.onOk}},[e._v("确定")]),o("button",{staticClass:"cancel-btn",on:{click:e.onCancel}},[e._v("返回")])])])],1)},Tt=[],Ot={components:{xModal:xt},props:{value:{type:[String,Number],default:""},title:{type:[String,Number],default:""},placeholder:{type:String,default:"请选择"},data:{type:[Object,Array],default:function(){return[]}},"load-data":{type:Function}},computed:{childrenLists:function(){var e=this,t=[];return this.selected.forEach(function(n){var o=e.optionChildren[n.value];o&&o.length&&t.push(o)}),t}},created:function(){this.optionChildren.default=this.data,console.log(Object(o["a"])(this.fetchData))},data:function(){return{showSelectModal:!1,optionChildren:{},selected:[]}},methods:{onOk:function(e){this.showSelectModal=!1},onCancel:function(e){this.showSelectModal=!1},select:function(e,t){console.log("选择第"+e+"层"),this.selected.splice(e),t&&(this.selected.push(t),t.children&&t.children.length?this.$set(this.optionChildren,t.value,t.children):t.children&&(this.$set(t,"loading",!0),this.fetchData(t))),this.$emit("on-change",this.selected.map(function(e){return e.value}),Object(l["a"])(this.selected))},fetchData:function(e){var t=this;"function"===typeof this.loadData&&this.loadData(e,function(){t.$set(t.optionChildren,e.value,e.children),t.$set(e,"loading",!1)})},hasSelected:function(e){var t=!0,n=!1,o=void 0;try{for(var r,a=this.selected[Symbol.iterator]();!(t=(r=a.next()).done);t=!0){var i=r.value;if(i.value===e)return!0}}catch(e){n=!0,o=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw o}}return!1}}},Nt=Ot,St=(n("9569"),Object(m["a"])(Nt,Dt,Tt,!1,null,"e371eda8",null));St.options.__file="xSelect.vue";var $t=St.exports,Pt=$t,Lt={install:function(e,t){e.component("xInput",Pe["a"]),e.component("xRadio",ze),e.component("xRadioGroup",Ge),e.component("xCheckbox",ot),e.component("xCheckboxGroup",ut),e.component("xSpin",gt),e.component("xModal",jt),e.component("xSelect",Pt)}};n("dcad"),n("0d7a"),n("6ca0"),n("b62e");window.tui={},window.tui.util=Oe.a,window.tui.DatePicker=Ne["DatePicker"],window.tui.Grid=$e.a,r["default"].prototype.$request=a["a"],r["default"].prototype.$moment=xe.a,r["default"].prototype.$axios=_e.a,r["default"].prototype.$api=ne["default"],r["default"].prototype.$monaco=he,r["default"].prototype.$qs=De.a,r["default"].config.productionTip=!1,r["default"].use(I.a),r["default"].use(pe),r["default"].use(we),r["default"].use(ae.a),r["default"].use(Lt),r["default"].prototype.$Message.config({top:100,duration:1.5}),r["default"].prototype.$setTitle=function(e){document.title=e+" - ".concat(Q["c"])},r["default"].prototype.$log=function(e){var t=e||this.$vnode.tag;console.group("调试信息; tag: "+t);for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];for(var a=0;a<o.length;a++){var i=o[a];console.log(i)}console.groupEnd()},r["default"].prototype.$isDev=!1,r["default"].prototype.$version=" V "+n("9224").version,r["default"].prototype.$bus=new r["default"],r["default"].prototype.$avatarUrl="".concat(Q["a"],"/mvp-manager/file/download/avatarID"),r["default"].prototype.isEmptyObject=function(e){for(var t in e)return!1;return!0};var Mt=function e(t){if(null===t)return null;if(Array.isArray(t)){if(0===t.length)return[];for(var n=[],r=0;r<t.length;r++)n.push(e(t[r]));return n}if("object"===Object(o["a"])(t)){var a={};for(var i in t)a[i]=e(t[i]);return a}return t};r["default"].prototype.deepCopy=Mt,I.a.LoadingBar.config({color:"#f49938",height:3}),r["default"].prototype.$confirm=function(e,t){for(var n=arguments.length,o=new Array(n>2?n-2:0),r=2;r<n;r++)o[r-2]=arguments[r];this.$Modal.confirm({render:function(t){return t("div",{domProps:{innerText:e},style:{"word-wrap":"break-word"}})},onOk:function(){t.apply(void 0,o)}})},Y.beforeEach(function(e,t,n){I.a.LoadingBar.start(),n()}),Y.afterEach(function(e,t){I.a.LoadingBar.finish()}),r["default"].component("remote-script",{render:function(e){var t=this;return e("script",{attrs:{type:"text/javascript",src:this.src},on:{load:function(e){t.$emit("load",e)},error:function(e){t.$emit("error",e)},readystatechange:function(e){"complete"===this.readyState&&t.$emit("load",e)}}})},props:{src:{type:String,required:!0}}}),new r["default"]({router:Y,store:te,sockets:{},render:function(e){return e(w)}}).$mount("#app")},"599c":function(e,t,n){"use strict";n.r(t),n.d(t,"getAreaList",function(){return r}),n.d(t,"saveArea",function(){return a});var o=n("6b6c");function r(e){return o["a"].post("/mvp-manager/area/listArea",e).then(function(e){return e.data})}function a(e){return o["a"].post("/mvp-manager/area/saveArea",e).then(function(e){return e.data})}},"59bb":function(e,t,n){"use strict";(function(e){n("96cf");var o=n("3040"),r=n("8afe"),a=(n("ac4d"),n("8a81"),n("ac6a"),n("f400"),n("88d3")),i=n("667b"),s=n("d83b"),c=n("0f66"),u=n("24d2"),d=n("29b7");t["a"]={name:"page-page",components:{board:a["a"],projectTree:i["a"],NodeEditor:s["a"]},data:function(){var e=this;return{projectLoading:!1,projectId:null,teamId:null,rootProjectId:null,isSearch:!1,searchInput:"",keyWords:"",searchList:[],errMessage:"",errMessageShow:!1,toolBar:[{title:"设置",icon:"md-settings",$fn:function(){e.$bus.$emit("show-project-setting")}},{title:"折叠/展开",icon:"md-code-working",$fn:function(){e.$refs.nodeEditor.toggleExpandAll()}},{title:"测试",icon:"md-play",$fn:function(){var t=e.$router.resolve({name:"Question",query:{projectId:e.projectId,rootId:e.rootProjectId,reset:1}}),n=t.href;window.open(n,"_blank")}},{title:"做题记录",icon:"md-book",$fn:function(){e.$router.push({name:"AnswerRecord",query:{rootId:e.rootProjectId,projectId:e.projectId}})}},{title:"开始咨询",icon:"md-analytics",$fn:function(){var t=e.$router.resolve({name:"PublicQuestion",query:{projectId:e.projectId,rootId:e.rootProjectId,reset:1}}),n=t.href;window.open(n,"_blank")}},{title:"大表单",icon:"md-list",$fn:function(){var t=e.$router.resolve({name:"PublicQuestionBig",query:{projectId:e.projectId,rootId:e.rootProjectId,reset:1}}),n=t.href;window.open(n,"_blank")}},{title:"报告",icon:"md-document",$fn:function(){var t=e.$router.resolve({name:"Report",query:{projectId:e.currentProject.id||e.projectId,rootId:e.rootProjectId}}),n=t.href;window.open(n,"_blank")}},{title:"全屏",icon:"md-expand",$fn:this.toggleFullScreen},{title:"搜索",icon:"md-search",$fn:this.toggleSearch}],currentProject:{},searchNodeEl:null,nodeManager:{},searchTarget:null,titleChanged:!1,autoSize:!1,projectOnlines:[]}},directives:{autoSize:{bind:function(e,t,n){e.__autoSizeListen=function(t){console.log(t);var n=e.__vue__;t.ctrlKey&&t.altKey&&("KeyA"===t.code||"KeyK"===t.code)&&n.switchAutoSize()},document.addEventListener("keyup",e.__autoSizeListen)},unbind:function(e,t,n){document.removeEventListener("keyup",e.__autoSizeListen),delete e.__autoSizeListen}}},computed:{nodeBreadcrumb:function(){return this.nodeManager.treeStack?this.nodeManager.treeStack.slice(1):[]},showNodeTree:function(){return this.$store.state.node.showNodeTree},fullScreen:function(){return this.$store.state.layout.fullScreen}},watch:{keyWords:function(e,t){this.errMessageShow=!1,this.getSearchList()},isSearch:function(e,t){!e&&this.searchNodeEl&&(this.searchNodeEl.style.border="none")},projectId:function(e,t){this.$bus.$emit("pop-helper-update-prop","nodeTree",{rootId:this.rootProjectId,currentId:this.projectId}),t&&(this.$bus.$socket.emit("leave",t),this.$bus.$socket.emit("join",this.projectId))}},created:function(){var e=this;this.rootProjectId=this.$route.params.projectId,this.projectId=this.$route.query.projectId||this.$route.params.projectId,this.$bus.$on("get-root-project",function(t){return t(e.rootProjectId)}),this.$bus.$on("show-node-tree",this.showPopNodeTree)},mounted:function(){var e=this;this.$bus.$socket.on("online",function(t){console.log("当前在线："+t.data.payload.clients.length+"人"),console.log("房间信息",t);var n=t.data.payload.users,o=new Map;if(n){var a=!0,i=!1,s=void 0;try{for(var c,u=n[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var d=c.value;o.set(d.id,d)}}catch(e){i=!0,s=e}finally{try{a||null==u.return||u.return()}finally{if(i)throw s}}}e.projectOnlines=Object(r["a"])(o.values())}),this.$bus.$socket.on("lockNode",function(t){console.log("%c锁定节点：".concat(t.data.payload),"color: red; font-weight: bold");var n=e.nodeManager.nodeMap.get(t.data.payload);n&&(n.lock=!0)}),this.$bus.$socket.on("unlockNode",function(t){console.log("%c解锁节点：".concat(t.data.payload),"color: red; font-weight: bold");var n=e.nodeManager.nodeMap.get(t.data.payload);n&&(n.lock=!1)})},beforeDestroy:function(){this.$bus.$off("get-root-project"),this.$bus.$off("show-node-tree",this.showPopNodeTree),this.$bus.$socket.emit("leave",this.projectId)},destroyed:function(){},methods:{lockNode:function(e){this.$bus.$socket.emit("lockNode",{projectID:e.projectId,nodeUUID:e.uuid})},unlockNode:function(e){this.$bus.$socket.emit("unlockNode",{projectID:e.projectId,nodeUUID:e.uuid})},toggleFullScreen:function(){this.$store.commit("layout/toggleFullScreen")},updateTitle:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.titleChanged){e.next=2;break}return e.abrupt("return");case 2:if(!this.currentProject||!this.currentProject.id){e.next=7;break}return e.next=5,u["default"].updateProject(this.currentProject);case 5:t=e.sent,t?(this.$Message.success("标题更新成功"),this.titleChanged=!1):this.$Message.error("标题更新失败");case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),toggleSearch:function(){this.isSearch=!this.isSearch},debounceInput:e.debounce(function(){this.keyWords=this.searchInput},1e3),getSearchList:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.onProjectLoding(),this.searchList=[],""===this.keyWords){e.next=7;break}return e.next=5,Object(c["getSearchList"])({keywords:this.keyWords,projectId:this.rootProjectId});case 5:t=e.sent,t?this.searchList=t:(this.errMessage="未找到匹配的节点",this.errMessageShow=!0);case 7:this.offProjectLoading();case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),jumpTo:function(e){var t=this;e.projectId!==this.projectId&&(this.searchTarget=e,this.$bus.$emit("refresh-project-tree",{projectId:e.projectId})),this.$nextTick(function(){t.searchNodeEl&&(t.searchNodeEl.style.border="none"),t.searchNodeEl=document.querySelector("#node-title-".concat(e.uuid));var n=document.querySelector("#node-".concat(e.id)),o=t.$refs.nodePage;if(n){var r=n.getBoundingClientRect().top-o.getBoundingClientRect().top;r>o.scrollTop&&o.scrollTo({top:r,behavior:"smooth"})}t.searchNodeEl&&(t.searchNodeEl.style.border="solid 2px #ffeb3b",t.searchTarget=null)})},onProjectLoding:function(){this.projectLoading=!0},offProjectLoading:function(){this.projectLoading=!1},treeNodeClick:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.projectId=t.id,this.teamId=t.orgId,this.currentProject=t;case 3:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),toolClick:function(e,t){t.call(this,e)},nodeEditorInited:function(e){this.nodeManager=e.params.nodeManager,this.searchTarget&&this.jumpTo(this.searchTarget),this.$bus.$socket.emit("join",this.projectId)},goNode:function(e){this.$refs.nodeEditor.handleEnterNode(new d["a"]({name:"go-node",event:null,vn:this.$vnode,params:{node:e}}))},switchAutoSize:function(){this.autoSize=!this.autoSize},showPopNodeTree:function(){this.$bus.$emit("pop-helper-update-prop","nodeTree",{rootId:this.rootProjectId,currentId:this.projectId}),this.$bus.$emit("pop-helper-show-menu","nodeTree")}}}}).call(this,n("2ef0"))},"5d0b":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ivu-input-wrapper ivu-input-type"},[n("ul",{staticClass:"ivu-input tag-list"},[e._l(e.value,function(t,o){return n("li",{key:o},[n("Tag",{attrs:{color:"success",closable:!0},on:{"on-close":function(t){e.removeTag(o)}}},[e._v(e._s(t.name))])],1)}),n("Button",{staticStyle:{float:"left"},attrs:{disabled:e.disabled,type:"primary",size:"small",icon:"md-add"},nativeOn:{click:function(t){e.showTagModal=!0,e.getTagList()}}})],2),n("Modal",{staticStyle:{"z-index":"999999999"},attrs:{width:"420",title:"选择标签","mask-closable":!1},on:{"on-ok":e.selectOk,"on-cancel":e.selectCancel},model:{value:e.showTagModal,callback:function(t){e.showTagModal=t},expression:"showTagModal"}},[n("Row",{staticStyle:{"margin-bottom":"0.5rem"}},[n("Input",{nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.getTagList(t):null}},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}},[n("Button",{attrs:{slot:"append",icon:"md-search"},nativeOn:{click:function(t){return e.getTagList(t)}},slot:"append"})],1)],1),n("Table",{ref:"table",attrs:{height:"420",columns:e.columns,data:e.tagData},on:{"on-selection-change":e.selectionChange}})],1)],1)},r=[],a=(n("7514"),n("ac4d"),n("8a81"),n("ac6a"),n("f400"),n("c5f6"),n("d28d")),i={name:"tag-selector",props:{value:{type:Array,required:!0},professionalId:{type:Number|String,required:!1},disabled:{type:Boolean,required:!1,default:!1}},model:{prop:"value",event:"select"},data:function(){return{selected:[],tmpSelect:[],tagData:[],tagMap:new Map,showTagModal:!1,keyword:"",columns:[{type:"selection",width:60,align:"center"},{type:"index",width:60,align:"center"},{title:"标签名称",key:"name"}]}},created:function(){this.getTagList()},watch:{value:function(){this.selected=this.value}},computed:{},methods:{getTagList:function(){var e=this;Object(a["getTagList"])({name:this.keyword||null,professionalId:this.professionalId||null}).then(function(t){if(t.response.success){var n=!0,o=!1,r=void 0;try{for(var a,i=t.data[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var s=a.value;e.tagMap.set(s.id,s)}}catch(e){o=!0,r=e}finally{try{n||null==i.return||i.return()}finally{if(o)throw r}}e.tagData=t.data}else e.$Message.error(t.response.msg)}).catch(function(e){console.error(e)})},selectionChange:function(e){this.tmpSelect=e},removeTag:function(e){this.selected.splice(e,1),this.$emit("on-ok",this.selected)},selectOk:function(){var e=this;if(0!==this.selected.length||0!==this.tmpSelect.length){var t=!0,n=!1,o=void 0;try{for(var r,a=function(){var t=r.value;e.selected.length&&e.selected.find(function(e){return e.id===t.id})||e.selected.push(t)},i=this.tmpSelect[Symbol.iterator]();!(t=(r=i.next()).done);t=!0)a()}catch(e){n=!0,o=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw o}}this.$emit("select",this.selected),this.$refs.table.selectAll(!1)}},selectCancel:function(){this.$refs.table.selectAll(!1)},remakeTags:function(){}}},s=i,c=(n("7aaa"),n("2877")),u=Object(c["a"])(s,o,r,!1,null,"418522c6",null);u.options.__file="tag-selector.vue";var d=u.exports;t["a"]=d},"5f5e":function(e,t,n){"use strict";n.r(t);n("7f7f");var o=window.localStorage.getItem("lawBreadcrumbs");o=o?JSON.parse(o):[];var r={observers:{},breadcrumbs:o,currentLaw:o[1]||{},currentChapter:o.length>2?o[o.length-1]:{}},a={navPush:function(e,t){e.breadcrumbs.push({title:t.title,path:t.path}),window.localStorage.setItem("lawBreadcrumbs",JSON.stringify(e.breadcrumbs))},navReplace:function(e,t){e.breadcrumbs=t,window.localStorage.setItem("lawBreadcrumbs",JSON.stringify(e.breadcrumbs))},navPop:function(e){e.breadcrumbs.pop()},setLaw:function(e,t){e.currentLaw=t},setChapter:function(e,t){e.currentChapter=t},subscribe:function(e,t){e.observers[t.name]=t.handler},unSubscribe:function(e,t){delete e.observers[t]},publish:function(e,t){e.observers[t]&&"function"===typeof e.observers[t]&&e.observers[t].call()}},i={};t["default"]={namespaced:!0,state:r,mutations:a,getters:i}},"610f":function(e,t,n){"use strict";var o=n("539d"),r=n.n(o);r.a},6373:function(e,t,n){},"63c9":function(e,t,n){"use strict";var o,r,a={render:function(e,t){return e("div","载入中失败。")}},i=a,s=n("2877"),c=Object(s["a"])(i,o,r,!1,null,null,null);c.options.__file="error.vue";t["a"]=c.exports},"667b":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"project-tree-page"},[n("div",{staticClass:"tab-title"},[n("div",{staticClass:"tab-item",class:e.treeType===e.typeMap.project?"current-tab":"",on:{click:function(t){e.chooseTreeType(e.typeMap.project,!0)}}},[e._v("\n      项目\n    ")]),n("div",{staticClass:"tab-item",class:e.treeType===e.typeMap.package?"current-tab":"",on:{click:function(t){e.chooseTreeType(e.typeMap.package,!0)}}},[e._v("\n      共用包\n    ")]),n("div",{staticClass:"tab-item",class:e.treeType===e.typeMap.search?"current-tab":"",on:{click:function(t){e.chooseTreeType(e.typeMap.search,!0)}}},[e._v("\n      搜索\n    ")])]),n("div",{staticClass:"contents"},[e.treeType===e.typeMap.project?n("div",{staticClass:"content"},[n("my-tree",{staticClass:"tree",attrs:{allowDrag:e.allowDrag,allowDrop:e.allowDrop,treeData:e.projectData,expandDefault:!1,indentLine:!0,indentLimit:40,draggable:""},on:{"tree-drop":e.handleDrop,"content-click":e.handleContentClick},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.parentData,r=t.data;return n("div",{class:{"node-content":!0,choose:r.id===e.chooseProject.id},on:{dblclick:function(t){e.handleUI("编辑项目",r,e.updateNode,[r])}}},[n("div",{directives:[{name:"click-copy",rawName:"v-click-copy"}],staticClass:"node-code",class:1===r.type?"node-name-project":"node-name-package"},[e._v(e._s(r.code))]),n("div",{staticClass:"node-name",attrs:{title:r.name}},[e._v(e._s(r.name))]),n("div",{staticClass:"node-divide"}),n("div",{staticClass:"node-menu-icon"},[String(r.id)!==String(e.projectID)?n("Icon",{attrs:{type:"md-add-circle",title:"添加同级项目"},on:{click:function(t){e.handleUI("添加项目",null,e.addBrother,[o,r])}}}):e._e(),n("Icon",{attrs:{type:"md-add",title:"添加子级项目"},on:{click:function(t){e.handleUI("添加子项目",null,e.addChild,[r])}}}),String(r.id)!==String(e.projectID)?n("Icon",{attrs:{type:"md-trash",title:"删除项目"},on:{click:function(t){e.tryDeleteNode(o,r)}}}):e._e()],1)])}}])})],1):e.treeType===e.typeMap.package?n("div",{staticClass:"content"},[e.packageData[0].children&&e.packageData[0].children.length?n("my-tree",{staticClass:"tree",attrs:{allowDrag:e.allowDrag,allowDrop:e.allowDrop,treeData:e.packageData[0].children,expandDefault:!1,indentLine:!0,indentLimit:40,draggable:""},on:{"content-click":e.handleContentClick,"tree-drop":e.handleDrop},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.parentData,r=t.data;return n("div",{class:{"node-content":!0,choose:r.id===e.chooseProject.id},on:{dblclick:function(t){e.handleUI("编辑共用包",r,e.updateNode,[r])}}},[n("div",{directives:[{name:"click-copy",rawName:"v-click-copy"}],staticClass:"node-code",class:1===r.type?"node-name-project":"node-name-package"},[e._v("\n            "+e._s(r.code)+"\n          ")]),n("div",{staticClass:"node-name",attrs:{title:r.name}},[e._v(e._s(r.name))]),n("div",{staticClass:"node-divide"}),n("div",{staticClass:"node-menu-icon"},[String(r.id)!==String(e.projectID)?n("Icon",{attrs:{type:"md-add-circle",title:"添加同级共用包"},on:{click:function(t){e.handleUI("添加共用包",null,e.addBrother,[o,r])}}}):e._e(),n("Icon",{attrs:{type:"md-add",title:"添加子级共用包"},on:{click:function(t){e.handleUI("添加子共用包",null,e.addChild,[r])}}}),String(r.id)!==String(e.projectID)?n("Icon",{attrs:{type:"md-trash",title:"删除共用包"},on:{click:function(t){e.tryDeleteNode(o,r)}}}):e._e()],1)])}}])}):n("div",{staticClass:"add-package"},[n("Button",{staticClass:"button",attrs:{type:"success"},on:{click:function(t){t.stopPropagation(),e.handleUI("添加共用包",null,e.addChild,[e.packageData[0]])}}},[e._v("\n          添加共用包\n        ")])],1)],1):n("div",{staticClass:"content"},[n("div",{staticClass:"search-tab tab-content"},[n("div",{staticClass:"md-search"},[n("i",{staticClass:"fas fa-search"}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.searchWord,expression:"searchWord"}],staticClass:"input-search",attrs:{type:"text",placeholder:"请输入项目或者共用包名称"},domProps:{value:e.searchWord},on:{input:function(t){t.target.composing||(e.searchWord=t.target.value)}}})]),n("div",{staticClass:"search-result"},[this.searchResult.length?e._l(this.searchResult,function(t,o){return n("div",{key:o,staticClass:"result-item",class:t.id===e.chooseProject.id?"choose":"",on:{click:function(n){n.stopPropagation(),e.clickSearchResult(t)}}},[n("div",{staticClass:"result-abstract"},[e._v("\n                "+e._s(t.name)+"\n              ")]),n("Tooltip",{staticClass:"result-jump",attrs:{transfer:!0,content:"跳转",placement:"right"}},[n("Icon",{staticClass:"jump",attrs:{type:"md-reply"},on:{click:function(n){n.stopPropagation(),e.turnToProject(t)}}})],1)],1)}):""!==this.searchWord?n("div",[e._v("\n            "+e._s(e.searchNotice)+"\n          ")]):e._e()],2)])])]),n("Modal",{attrs:{title:e.editingNode.title,"mask-closable":!1,width:"30%"},model:{value:e.editingNode.show,callback:function(t){e.$set(e.editingNode,"show",t)},expression:"editingNode.show"}},[n("div",{attrs:{slot:"header"},slot:"header"},[e._v("项目设置")]),n("div",{on:{keyup:function(t){return("button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter"))&&t.ctrlKey?e.handleCallBack(t):null}}},[n("span",[e._v("名称")]),n("Input",{ref:"focusInput",staticStyle:{"margin-bottom":"10px"},model:{value:e.editingNode.data.name,callback:function(t){e.$set(e.editingNode.data,"name",t)},expression:"editingNode.data.name"}}),n("span",[e._v("显示名称")]),n("Input",{staticStyle:{"margin-bottom":"10px"},model:{value:e.editingNode.data.showName,callback:function(t){e.$set(e.editingNode.data,"showName",t)},expression:"editingNode.data.showName"}}),n("span",[e._v("英文名称")]),n("Input",{staticStyle:{"margin-bottom":"10px"},model:{value:e.editingNode.data.enName,callback:function(t){e.$set(e.editingNode.data,"enName",t)},expression:"editingNode.data.enName"}}),n("span",[e._v("项目描述")]),n("Input",{staticStyle:{"margin-bottom":"10px"},attrs:{type:"textarea",autosize:{minRows:4}},model:{value:e.editingNode.data.remarks,callback:function(t){e.$set(e.editingNode.data,"remarks",t)},expression:"editingNode.data.remarks"}})],1),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("Button",{on:{click:function(t){return t.stopPropagation(),e.clearHandleInfo(t)}}},[e._v("取消")]),n("Button",{attrs:{type:"primary"},on:{click:function(t){return t.stopPropagation(),e.handleCallBack(t)}}},[e._v("保存")])],1)]),n("Modal",{attrs:{title:"删除",width:"30%"},on:{"on-ok":e.deleteProject,"on-cancel":e.clearDeleteNodeInfo},model:{value:e.showDeleteNotice,callback:function(t){e.showDeleteNotice=t},expression:"showDeleteNotice"}},[n("span",[e._v("确定删除"+e._s(this.deleteNodeInfo.data?this.deleteNodeInfo.data.name:"")+"吗")])])],1)},r=[],a=n("f077"),i=a["a"],s=(n("95d4"),n("2877")),c=Object(s["a"])(i,o,r,!1,null,"2b098bd9",null);c.options.__file="project-tree.vue";var u=c.exports;t["a"]=u},"687a":function(e,t,n){"use strict";var o=n("9a1d"),r=n.n(o);r.a},"69f6":function(e,t,n){"use strict";n.r(t),n.d(t,"Paths",function(){return o});var o={addProject:"/mvp-manager/project/save",projectList:"/mvp-manager/project/list",deleteProject:"/mvp-manager/project/delete",updateProject:"/mvp-manager/project/update",projectDetail:"/mvp-manager/project/detail",setProject:"/mvp-manager/node/setProject",userLogin:"/mvp-manager/login",userLogout:"/mvp-manager/logout",userList:"/mvp-manager/user/list",getTeamList:"/mvp-manager/org/list",deleteTeam:"/mvp-manager/org/delete",updateTeam:"/mvp-manager/org/save",teamDetail:"/mvp-manager/org/detail",teamMemChange:"/mvp-manager/org/addDelUsers",getCompanyList:"/mvp-manager/company/list",companyMemList:"/mvp-manager/company/listUser",companyMemChange:"/mvp-manager/company/addDelUsers",getNodeList:"/mvp-manager/node/list",addNode:"/mvp-manager/node/save",updateNode:"/mvp-manager/node/update",updateNodes:"/mvp-manager/node/update-nodes",deleteNodes:"/mvp-manager/node/delete-nodes",getSearchList:"/mvp-manager/node/search-nodes",registerComponent:"/mvp-manager/component/save",getComponentList:"/mvp-manager/component/list",deleteComponent:"/mvp-manager/component/delete",saveCompontentItemConfigData:"/mvp-manager/component/saveCompontentItemConfigData",getReportList:"/mvp-manager/reportCode/listReportCode",getChapter:"/mvp-manager/reportCode/listReportCodeOutline",getCodeList:"/mvp-manager/reportCode/listReportCodeBlock",addReport:"/mvp-manager/reportCode/saveReportCode",addChapter:"/mvp-manager/reportCode/saveReportCodeOutline",addCodeCard:"/mvp-manager/reportCode/saveReportCodeBlock",updateReport:"/mvp-manager/reportCode/udpateReportCode",updateChapter:"/mvp-manager/reportCode/udpateReportCodeOutline",updateCodeCard:"/mvp-manager/reportCode/udpateReportCodeBlock",deleteReport:"/mvp-manager/reportCode/deleteReportCode",deleteChapter:"/mvp-manager/reportCode/deleteReportCodeOutline",deleteCodeList:"/mvp-manager/reportCode/deleteReportCodeBlock",testCode:"/mvp-manager/test/code-testing",getJsonSchema:"/mvp-manager/test/component-info",getQuestionnaire:"/mvp-front/questionnaire/",answer:"/mvp-front/questionnaire/answer"}},"6ace":function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return r});n("96cf");var o=n("3040");n("cadf"),n("551c"),n("097d");function r(e,t,n,o){return a.apply(this,arguments)}function a(){return a=Object(o["a"])(regeneratorRuntime.mark(function e(t,n,o,r){var a,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t(n,o);case 3:if(a=e.sent,i=a.data,!i.response.success){e.next=7;break}return e.abrupt("return",i.data||r||i.response);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0);case 12:return e.abrupt("return","boolean"===typeof r?!r:null);case 13:case"end":return e.stop()}},e,this,[[0,9]])})),a.apply(this,arguments)}},"6af0":function(e,t,n){"use strict";n.r(t);var o={showNodeTree:!1},r={showNodeTree:function(e){e.showNodeTree=!0},hideNodeTree:function(e){e.showNodeTree=!1}},a={};t["default"]={namespaced:!0,state:o,mutations:r,getters:a}},"6b40":function(e,t,n){},"6b6c":function(e,t,n){"use strict";n("cadf"),n("551c"),n("097d");var o=n("bc3a"),r=n.n(o),a=n("c276"),i=n("04ce"),s=n("e069"),c=n.n(s),u=n("c64e"),d=n.n(u);function l(e){return c.a.LoadingBar.start(),e.headers.common.token=Object(a["c"])(),e}function p(e){return 777!==e.data.response.code&&999!==e.data.response.code||(window.localStorage.removeItem("token"),window.localStorage.removeItem("userInfo"),window.location.href=window.location.origin+"/#/login"),417===e.data.response.code&&c.a.Message.error(e.data.response.msg),e&&e.data.response&&e.data.response.success,c.a.LoadingBar.finish(),e}function h(e){return console.error(e),c.a.LoadingBar.error(),Promise.reject(e)}var m=window.localStorage.xAccessToken;m||(m=d()(),window.localStorage.xAccessToken=m);var f={baseURL:i["a"],headers:{common:{"x-access-token":m,token:Object(a["c"])()}}},g=r.a.create(f);g.interceptors.request.use(l),g.interceptors.response.use(p,h),t["a"]=g},"6c5d":function(e,t,n){var o={"./accountSetting.js":"8176","./area.js":"599c","./case.js":"d4f4","./common.js":"2934","./company.js":"fcac","./component.js":"aa15","./componentItemAdditionalData.js":"413a","./document.js":"424e","./file.js":"3f5e","./home.js":"3191","./index.js":"365c","./invite.js":"b05c","./knowledge.js":"db6a","./law.js":"5189","./login.js":"7ded","./message.js":"c443","./networkDisk.js":"fc5a","./node.js":"0f66","./org.js":"24fd","./page.js":"45a2","./path.js":"69f6","./problem.js":"9d9a","./professional.js":"e668","./project.js":"24d2","./question.js":"2ac8","./questionOpen.js":"4067","./register.js":"e0a5","./report.js":"1c31","./sms.js":"b61d","./tag.js":"d28d","./user.js":"c24f","./userRegister.js":"b51f","./util.js":"6ace","./validate.js":"8d8b","./weixin.js":"7e70"};function r(e){var t=a(e);return n(t)}function a(e){var t=o[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}r.keys=function(){return Object.keys(o)},r.resolve=a,e.exports=r,r.id="6c5d"},"6dd5":function(e,t,n){},"6e47":function(e,t,n){},"6e48":function(e,t,n){"use strict";var o=n("9238"),r=n.n(o);r.a},7027:function(e,t,n){"use strict";var o=n("961a"),r=n.n(o);r.a},7195:function(e,t,n){"use strict";(function(e){n("20d6"),n("7f7f"),n("7514"),n("96cf");var o=n("3040"),r=n("8afe"),a=(n("6762"),n("2fdb"),n("ac4d"),n("8a81"),n("ac6a"),n("4917"),n("a481"),n("c5f6"),n("1c31")),i=n("3bec"),s=n("07b3"),c=n("033f"),u=n("339e"),d=n.n(u);t["a"]={name:"code-test",showTitle:"代码测试",data:function(){return{variable:{$v:[],$q:[]},testingDatas:[],jsonSchema:[],conditions:[],testResult:[],chooseTabs:"first",converter:null,timerIndex:0,errorCodeIdx:-1,lockTab:!1,readyGetJsonSchema:e.debounce(this.getJsonSchema,500),suspendTest:0}},props:{sourceId:{type:[String,Number],default:0},sourceType:{type:[String,Number],default:0},codeList:{type:Array,default:function(){return[]}},projectId:{type:[String,Number],default:""},showErrorButton:{type:Boolean,default:!1}},components:{schemaComponent:i["a"],Additional:s["a"],MultiNest:c["a"]},created:function(){this.converter||(this.converter=new d.a.Converter({literalMidWordUnderscores:!0})),this.$bus.$on("code-test",this.readyTestCode)},destroyed:function(){this.$bus.$off("code-test",this.readyTestCode)},mounted:function(){this.projectId&&this.readyTestCode()},methods:{removeAnnotation:function(e){var t=/("([^\\\"]*(\\.)?)*")|('([^\\\']*(\\.)?)*')|(\/{2,}.*?(\r|\n))|(\/\*(\n|.)*?\*\/)/g,n=e.replace(t,function(e){return/^\/{2,}/.test(e)||/^\/\*/.test(e)?"":e});return n},analysisCode:function(e){e=this.removeAnnotation(e);var t=/\$(qp?[\d_a-zA-Z]+)([^->\d_])/gi,n=/\$(vp?[\d_a-zA-Z]+)|\$(qp?[\d_]+)(->\w+)/gi,o=(e?e.match(t):null)||[],r=(e?e.match(n):null)||[],a={$q:[],$v:[]},i=!0,s=!1,c=void 0;try{for(var u,d=o[Symbol.iterator]();!(i=(u=d.next()).done);i=!0){var l=u.value,p=/\$qp?[\d_]+/gi,h=p.exec(l);while(h)a.$q.push(h[0].slice(1)),h=p.exec(l)}}catch(e){s=!0,c=e}finally{try{i||null==d.return||d.return()}finally{if(s)throw c}}var m=!0,f=!1,g=void 0;try{for(var v,b=r[Symbol.iterator]();!(m=(v=b.next()).done);m=!0){var y=v.value,C=/\$[qv]p?[\d_]+/gi,w=C.exec(y);while(w)a.$v.push(w[0].slice(1)),w=C.exec(y)}}catch(e){f=!0,g=e}finally{try{m||null==b.return||b.return()}finally{if(f)throw g}}return a},getVariableList:function(){var e;this.variable={$q:[],$v:[]};var t=!0,n=!1,o=void 0;try{for(var a,i=this.codeList[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var s,c,u=a.value;e=this.analysisCode(u),(s=this.variable.$q).push.apply(s,Object(r["a"])(e.$q)),(c=this.variable.$v).push.apply(c,Object(r["a"])(e.$v))}}catch(e){n=!0,o=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw o}}var d=function(e,t){return e.includes(t)||e.push(t),e};this.variable.$q=this.variable.$q.reduce(d,[]),this.variable.$v=this.variable.$v.reduce(d,[])},getJsonSchema:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t,n,o,i=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]&&i[0],this.getVariableList(),this.variable.$v.length||this.variable.$q.length){e.next=5;break}return this.suspendTest&&(this.testCode(),this.suspendTest=0),e.abrupt("return");case 5:return e.next=7,a["default"].getJsonSchema({variablesNames:Object(r["a"])(this.variable.$v),conditionNames:Object(r["a"])(this.variable.$q),projectId:this.projectId,sourceId:this.sourceId,sourceType:this.sourceType});case 7:n=e.sent,n?(this.jsonSchema=n.jsonSchemaResponses?[n.jsonSchemaResponses]:[],this.conditions=n.conditionVariableBaseInfo||{},o=n.testingDatas,this.initTestDatas(o,t)):this.$Message.error("获取变量数据错误"),this.suspendTest&&(this.testCode(),this.suspendTest=0);case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),initTestDatas:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={conditions:{},variables:[]};if(this.jsonSchema.length){var o=!0,r=!1,a=void 0;try{for(var i,s=this.jsonSchema[0][Symbol.iterator]();!(o=(i=s.next()).done);o=!0){var c=i.value,u={datas:[],name:c.variableName};n.variables.push(u)}}catch(e){r=!0,a=e}finally{try{o||null==s.return||s.return()}finally{if(r)throw a}}}for(var d in this.conditions)n.conditions[d]=!1;if(this.testingDatas.splice(0,this.testingDatas.length,n),!t&&e&&e.length)for(var l in e){this.testingDatas[l]||this.addTestCase(l-1);var p=e[l],h=this.jsonSchema[l],m=this.testingDatas[l],f=m.conditions;for(var g in f)f[g]=p.conditions[g]||!1;if(h){var v=m.variables,b=!0,y=!1,C=void 0;try{for(var w,k=function(){var e=w.value,t=p.variables.find(function(t){return t.name===e.name});if(!t)return"continue";var n=!0,o=!1,r=void 0;try{for(var a,i=function(){var t=a.value,n=h.find(function(e){return e.schema.properties.hasOwnProperty(t.schemaKey)});if(n){var o="";o=1===t.value.length?"string"===typeof t.value[0]?t.value[0]:JSON.stringify(t.value[0]):JSON.stringify(t.value),n.schema.properties[t.schemaKey].value=o;var r=e.datas.find(function(e){return e.schemaKey===t.schemaKey});r?r.value=t.value:e.datas.push({schemaKey:t.schemaKey,value:t.value})}},s=t.datas[Symbol.iterator]();!(n=(a=s.next()).done);n=!0)i()}catch(e){o=!0,r=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw r}}},_=v[Symbol.iterator]();!(b=(w=_.next()).done);b=!0)k()}catch(e){y=!0,C=e}finally{try{b||null==_.return||_.return()}finally{if(y)throw C}}}}},readyTestCode:function(){this.readyGetJsonSchema(),this.suspendTest=1},testCode:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t,n,o,r,i,s,c,u,d,l,p,h,m,f,g;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.suspendTest=0,this.codeList.length){e.next=3;break}return e.abrupt("return");case 3:return t={codes:this.codeList,testingCases:this.testingDatas,projectId:this.projectId,sourceId:this.sourceId,sourceType:this.sourceType},e.next=6,a["default"].testCode(t);case 6:if(n=e.sent,n.response.success&&(o=n.data),this.errorCodeIdx=-1,o&&1===o.length&&(r=o[0],r.result.response.success||(this.errorCodeIdx=r.result.data.order)),!o){e.next=35;break}for(i=[],s=!0,c=!1,u=void 0,e.prev=15,d=o[Symbol.iterator]();!(s=(l=d.next()).done);s=!0){if(p=l.value,h=(p.result.data?p.result.data.result:null)||p.result.response.msg||"",-1===this.errorCodeIdx)try{h=this.converter.makeHtml(h)}catch(e){console.log(e)}if(m={result:h},p.conditions)for(f in p.conditions)m[f]=p.conditions[f];if(p.datas)for(g in p.datas)m[g]=p.datas[g];i.push(m)}e.next=23;break;case 19:e.prev=19,e.t0=e["catch"](15),c=!0,u=e.t0;case 23:e.prev=23,e.prev=24,s||null==d.return||d.return();case 26:if(e.prev=26,!c){e.next=29;break}throw u;case 29:return e.finish(26);case 30:return e.finish(23);case 31:this.testResult=i,this.lockTab||(this.chooseTabs="second"),e.next=37;break;case 35:this.testResult=[{result:n.response.msg}],this.lockTab?this.$Message.error("测试请求未成功，详情请查看测试结果"):this.chooseTabs="second";case 37:o&&-1===this.errorCodeIdx?this.$bus.$emit("code-test-pass",this.sourceType):this.$bus.$emit("code-test-error-card",this.errorCodeIdx,this.sourceType),this.$bus.$emit("code-test-end",this.sourceType);case 39:case"end":return e.stop()}},e,this,[[15,19,23,31],[24,,26,30]])}));return function(){return e.apply(this,arguments)}}(),addTestCase:function(t){if(this.testingDatas.length){var n=e.cloneDeep(this.testingDatas[t]);this.testingDatas.splice(t+1,0,n);var o=e.cloneDeep(this.jsonSchema[t]);o&&this.jsonSchema.splice(t+1,0,o)}else this.initTestDatas()},deleteTestCase:function(e){this.testingDatas.splice(e,1),this.jsonSchema.splice(e,1)},Input:function(e,t,n,o,r,a){if(e.value){var i={schemaKey:e.schemaKey,value:Array.isArray(e.value)?e.value:[e.value]},s=this.testingDatas[n].variables,c=s.find(function(e){return e.name===t});if(c){var u=c.datas.findIndex(function(t){return t.schemaKey===e.schemaKey});-1===u?c.datas.push(i):c.datas.splice(u,1,i)}this.$Message.success("input");var d=this.jsonSchema[n][o].schema.properties[r].properties[i.value[0]];if(console.log(d,"answerSChema"),d.additionalKeys){this.$Message.success("addtional");var l=this.jsonSchema[n][o].schema.properties[d.additionalKeys[0]];l.additionalShow=!0}}},changeCondition:function(e,t,n){this.testingDatas[t].conditions[n]=e},focusErrorCode:function(){this.$bus.$emit("code-test-focus-error-code")}},watch:{jsonSchema:function(t,n){if(this.jsonSchema.length){var o=this.jsonSchema[0].map(function(e){return e.variableName}),r=[];this.testingDatas[0].variables.forEach(function(e){o.includes(e.name)||r.push(e.name)});var a=!0,i=!1,s=void 0;try{for(var c,u=this.testingDatas[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var d=c.value,l=[],p=!0,h=!1,m=void 0;try{for(var f,g=d.variables[Symbol.iterator]();!(p=(f=g.next()).done);p=!0){var v=f.value;r.includes(v.name)||l.push(v)}}catch(e){h=!0,m=e}finally{try{p||null==g.return||g.return()}finally{if(h)throw m}}d.variables=l;var b=e.cloneDeep(o),y=!0,C=!1,w=void 0;try{for(var k,_=d.variables[Symbol.iterator]();!(y=(k=_.next()).done);y=!0){var I=k.value,x=b.indexOf(I.name);-1!==x&&b.splice(x,1)}}catch(e){C=!0,w=e}finally{try{y||null==_.return||_.return()}finally{if(C)throw w}}var j=!0,D=!1,T=void 0;try{for(var O,N=b[Symbol.iterator]();!(j=(O=N.next()).done);j=!0){var S=O.value,$={datas:[],name:S};d.variables.push($)}}catch(e){D=!0,T=e}finally{try{j||null==N.return||N.return()}finally{if(D)throw T}}}}catch(e){i=!0,s=e}finally{try{a||null==u.return||u.return()}finally{if(i)throw s}}}else this.testingDatas.forEach(function(e){e.variables=[]})}}}}).call(this,n("2ef0"))},7326:function(e,t,n){},"738c":function(e,t,n){"use strict";n.r(t),t["default"]={namespaced:!0,state:{codeList:[],projectId:0,show:!1,soruceId:0,sourceType:0},mutations:{showTestBoard:function(e){e.show=!0},hideTestboard:function(e){e.show=!1,this.clearState(e)},setState:function(e,t){for(var n in t)e.hasOwnProperty(n)&&(e.key=t[n])},clearState:function(e){e.codeList=[],e.projectId=0,e.show=!1,e.sourceId=0,e.sourceType=0}}}},7682:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"bind-key",rawName:"v-bind-key"},{name:"drag-resize",rawName:"v-drag-resize"},{name:"drag",rawName:"v-drag",value:{selector:".header",horizonctal:100},expression:"{\n    selector: '.header',\n    horizonctal: 100\n  }"}],ref:"menuContent",class:{"pop-container":!0,"pop-container-hide":!e.show,silence:e.silence}},[n("div",{staticClass:"header",on:{dblclick:function(t){return t.stopPropagation(),e.silenceHelper(t)}}},[n("div",{staticClass:"title"},[e._v("小助手")]),n("div",{staticClass:"fill"}),n("div",{staticClass:"header-menu"},[e.silence?n("div",{staticClass:"header-max",attrs:{title:"放大"},on:{click:function(t){return t.stopPropagation(),e.silenceHelper(t)}}},[n("div",{staticClass:"max-box"})]):n("Icon",{staticClass:"header-hide",attrs:{title:"最小化",type:"ios-remove"},on:{click:function(t){return t.stopPropagation(),e.silenceHelper(t)}}}),n("Icon",{staticClass:"close",attrs:{type:"ios-close"},on:{click:function(t){return t.stopPropagation(),e.close(t)}}})],1)]),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.silence,expression:"!silence"}],staticClass:"content"},[n("div",{class:{"resource-manager":!0,"resource-manager-hide":!e.showResource}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.showResource,expression:"showResource"}],staticClass:"resource-list"},e._l(e.componentInfo,function(t,o){return n("div",{key:o,class:{resource:!0,"current-menu":e.currentMenuList[e.activePage]===o},on:{click:function(t){t.stopPropagation(),e.showMenu(o,{auto:!1})}}},[e._v("\n          "+e._s(t.title)+"\n        ")])})),n("div",{staticClass:"resource-show",on:{click:function(t){return t.stopPropagation(),e.switchShowResource(t)}}},[e.showResource?n("Icon",{staticClass:"show-icon",attrs:{type:"ios-arrow-back",title:"隐藏"}}):n("Icon",{staticClass:"show-icon",attrs:{title:"展开",type:"ios-arrow-forward"}})],1)]),n("div",{class:{"content-board":!0,"content-board-resource-show":e.showResource}},[e._l(e.pageList,function(t,o){return t.length&&e.show?[n("div",{key:o+"-page",class:2===e.pageNum?"double-page":"single-page",on:{click:function(t){e.changeActivePage(o)}}},[e.currentMenuList[o]?n("div",{staticClass:"tabs",on:{drop:function(t){e.handleDrop(o)},dragover:e.handleDragOver}},[e._l(e.pageList[o],function(t,r){return n("div",{key:r,class:{"tab-item":!0,"current-menu":o-e.activePage===0&&e.currentMenuList[o]===t},attrs:{draggable:""},on:{click:function(n){e.showMenu(t,{auto:!1,page:o})},dragstart:function(n){e.handleDragStart(o,t)},dragover:function(n){e.handleDragOverTab(o,t)},dragleave:e.handleDragLeave,dragend:e.handleDragEnd}},[n("span",{staticClass:"tab-content"},[e._v("\n              "+e._s(r+1)+" "+e._s(e.componentInfo[t].title)+"\n              ")]),n("Icon",{staticClass:"close",attrs:{type:"ios-close",title:"关闭"},on:{click:function(n){n.stopPropagation(),e.hideMenu(t,o)}}})],1)}),n("div",{staticClass:"placeholder"}),n("div",{staticClass:"refresh",attrs:{title:"刷新内容"},on:{click:function(t){t.stopPropagation(),e.refreshContent(o)}}},[n("Icon",{attrs:{type:"ios-refresh"}})],1),1===e.pageNum&&e.pageList[e.activePage].length>1?n("div",{staticClass:"devide-page-button",attrs:{title:"向右分页Ctrl+Shift+S"},on:{click:function(t){t.stopPropagation(),e.splitPage()}}},[n("div",{staticClass:"devide-page-box"}),n("div",{staticClass:"devide-page-box"})]):e._e(),e.pageNum>1?n("div",{staticClass:"close-page",attrs:{title:"关闭当前分页"},on:{click:function(t){t.stopPropagation(),e.closePage(o)}}},[n("Icon",{staticClass:"close-icon",attrs:{type:"ios-close"}})],1):e._e()],2):e._e(),e.currentMenuList[o]&&e.hideContent!==o?n("div",{staticClass:"contents"},[n(e.componentInfo[e.currentMenuList[o]].component,e._b({tag:"component",staticClass:"componet"},"component",e.componentInfo[e.currentMenuList[o]].props,!1))],1):e._e()])]:e._e()})],2)])])},r=[],a=n("0660"),i=a["a"],s=(n("9987"),n("2877")),c=Object(s["a"])(i,o,r,!1,null,"20deabd8",null);c.options.__file="PopMenu.vue";t["a"]=c.exports},"76cd":function(e,t,n){"use strict";n.r(t);var o={pageContentTmp:[]},r={},a={},i={setPageContentTmp:function(e,t){console.log("!!!!!!!"),console.log(t),e.pageContentTmp.push(t)}};t["default"]={namespaced:!0,state:o,getters:r,actions:a,mutations:i}},7802:function(e,t,n){"use strict";var o=n("6dd5"),r=n.n(o);r.a},"783f":function(e,t,n){"use strict";var o=n("0740"),r=n.n(o);r.a},"78d4":function(e,t,n){"use strict";n.r(t);n("ac4d"),n("8a81"),n("ac6a"),n("20d6");var o=n("8afe"),r=(n("96cf"),n("3040")),a=(n("55dd"),n("2b0e")),i=n("c443"),s=6048e5,c=!1,u=function(e){e.sort(function(e,t){return e.msgCreateTime>t.msgCreateTime?-1:e.msgCreateTime===t.msgCreateTime?0:1});for(var t=e.length-1;t>0;t--)e[t].msgId===e[t-1].msgId&&e.splice(t,1)},d={messageList:[],newTime:0,previousTime:0},l={refreshNewRecord:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n,o,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!c){e.next=3;break}return a["default"].prototype.$Message.info("正在加载消息，请稍候"),e.abrupt("return");case 3:if(!t.state.previousTime||t.state.newTime){e.next=5;break}return e.abrupt("return");case 5:return n=(new Date).getTime(),o=t.state.newTime||n-s,c=!0,e.next=10,i["default"].getMessageList({msgCreateTime_Start:String(o),msgCreateTime_End:String(n)});case 10:r=e.sent,c=!1,t.commit("refreshNewRecord",{list:r,endTime:n});case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),refreshPreviousRecord:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n,o,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!c){e.next=3;break}return a["default"].prototype.$Message.info("正在加载消息，请稍候"),e.abrupt("return");case 3:if(!t.state.newTime||t.state.previousTime){e.next=5;break}return e.abrupt("return");case 5:return n=t.state.previousTime||(new Date).getTime(),o=n-s,c=!0,e.next=10,i["default"].getMessageList({msgCreateTime_Start:String(o),msgCreateTime_End:String(n)});case 10:r=e.sent,c=!1,t.commit("refreshPreviousRecord",{list:r,startTime:o});case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),removeMessage:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t,n){var o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i["default"].remmoveMessage({id:n});case 2:o=e.sent,o?(t.commit("removeMessage",n),a["default"].prototype.$Message.success("刪除成功")):a["default"].prototype.$Message.success("刪除失败");case 4:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),readMessage:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t,n){var o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i["default"].readMessage(n);case 2:o=e.sent,o&&t.commit("readMessage",n);case 4:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},p={refreshNewRecord:function(e,t){var n,r=t.list,a=t.endTime;r&&((n=e.messageList).unshift.apply(n,Object(o["a"])(r)),e.newTime||e.previousTime||(e.previousTime=a-s),e.newTime=a,u(e.messageList))},refreshPreviousRecord:function(e,t){var n,r=t.list,a=t.startTime;r&&((n=e.messageList).push.apply(n,Object(o["a"])(r)),e.newTime||e.previousTime||(e.newTime=a+s),e.previousTime=a,u(e.messageList))},removeMessage:function(e,t){var n=e.messageList.findIndex(function(e){return String(e.id)===String(t)});-1!==n&&e.messageList.splice(n,1)},readMessage:function(e,t){var n=!0,o=!1,r=void 0;try{for(var a,i=e.messageList[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var s=a.value;s.msgStatus=1}}catch(e){o=!0,r=e}finally{try{n||null==i.return||i.return()}finally{if(o)throw r}}}};t["default"]={namespaced:!0,actions:l,mutations:p,state:d}},"7a0d":function(e,t,n){"use strict";var o=n("cc23"),r=n.n(o);r.a},"7a65":function(e,t,n){"use strict";(function(e){n("96cf");var o=n("3040"),r=n("dc58"),a=n("7682"),i=n("993c"),s=n("04ce"),c=n("8055"),u=n.n(c);t["a"]={components:{Header:r["a"],PopMenu:a["a"],Helper:i["a"]},computed:{fullScreen:function(){return this.$store.state.layout.fullScreen}},data:function(){return{helperPosition:"bottom",size:{width:"300px",height:"300px"},dragging:!1,dragHover:!1,throttleMouseMove:e.throttle(this.checkMouseMove,200)}},created:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.initSocket();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),mounted:function(){this.changePosition("bottom"),document.addEventListener("mousemove",this.throttleMouseMove),document.addEventListener("mousedown",this.checkMouseDown),document.addEventListener("mouseup",this.clearDragging),document.addEventListener("mouseleave",this.clearDragging)},beforeDestroy:function(){document.removeEventListener("mousemove",this.throttleMouseMove),document.removeEventListener("mousedown",this.checkMouseDown),document.removeEventListener("mouseup",this.clearDragging),document.removeEventListener("mouseleave",this.clearDragging),"function"===typeof this.$bus.$socket.close&&this.$bus.$socket.close()},methods:{initSocket:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$bus.$socket&&"function"===typeof this.$bus.$socket.close&&this.$bus.$socket.close(),this.$bus.$socket=u()(s["d"],{query:{userInfo:JSON.stringify(this.$store.state.user.userInfo)},transports:["websocket"]}),this.$bus.$socket.on("connect",function(){console.log("%csocket 连接成功!","color: green; font-weight: bold")}),this.$bus.$socket.on("disconnect",function(){console.log("%csocket 断开连接!","color: red; font-weight: bold")}),this.$bus.$socket.on("message",function(e){console.log("%c服务器消息：%c".concat(e.data.payload),"color: blue; font-weight: bold","font-weight: bold")});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),changePosition:function(e){this.helperPosition=e,"bottom"===this.helperPosition?this.size={minHeight:this.storageGetItem("minHeight")||"300px"}:this.size={minWidth:this.storageGetItem("minWidth")||"300px"}},checkMouseMove:function(e){if(this.dragging)if("bottom"===this.helperPosition){var t=document.body.clientHeight-e.clientY;this.size={minHeight:t+"px"},this.storageSetItem("minHeight",t+"px")}else{var n="left"===this.helperPosition?e.clientX:document.body.clientWidth-e.clientX;this.size={minWidth:n+"px"},this.storageSetItem("minWidth",n+"px")}else{var o=this.checkMousePosition(e);this.dragHover=!!o}},checkMousePosition:function(e){var t=10,n=this.$refs.pageContent.$el.getBoundingClientRect();if("bottom"===this.helperPosition){var o=n.bottom-t,r=n.bottom+t;if(e.clientY>=o&&e.clientY<=r)return"bottom"}else if("left"===this.helperPosition){var a=n.left-t,i=n.left+t;if(e.clientX>=a&&e.clientX<=i)return"left"}else if("right"===this.helperPosition){var s=n.right-t,c=n.right+t;if(e.clientX>=s&&e.clientX<=c)return"right"}return null},checkMouseDown:function(e){this.dragHover&&(this.dragging=!0,console.log("checkMouseDown"))},clearDragging:function(){this.dragging&&(this.dragging=!1,this.dragHover=!1)},storageSetItem:function(e,t){var n=localStorage.getItem("helperInfo"),o=n?JSON.parse(n):{};o[e]=JSON.stringify(t);var r=JSON.stringify(o);window.localStorage.setItem("helperInfo",r)},storageGetItem:function(e){var t=window.localStorage.getItem("helperInfo");if(!t)return null;var n=JSON.parse(t),o=n[e]?JSON.parse(n[e]):null;return o}}}}).call(this,n("2ef0"))},"7aaa":function(e,t,n){"use strict";var o=n("9143"),r=n.n(o);r.a},"7ded":function(e,t,n){"use strict";n.r(t),n.d(t,"LoginParamsModel",function(){return s}),n.d(t,"requestLogin",function(){return c}),n.d(t,"requestLogout",function(){return u}),n.d(t,"getSettingInfo",function(){return d}),n.d(t,"checkLogin",function(){return l}),n.d(t,"getQRCode",function(){return p}),n.d(t,"getWxCode",function(){return h});var o=n("c665"),r=n("6b6c"),a=n("bc3a"),i=n.n(a),s=function e(t,n,r){Object(o["a"])(this,e),this.loginAccount=t,2===r?this.loginPassword=n:1===r&&(this.smsVcode=n),this.loginType=r};function c(e){return r["a"].post("/mvp-manager/login",e).then(function(e){return e.data})}function u(){return r["a"].post("/mvp-manager/logout").then(function(e){return e.data})}function d(e){return r["a"].post("/mvp-manager/setting/info").then(function(e){if(!e.data.response.success)throw new Error(e.data.response.msg);return e.data})}function l(e){return r["a"].post("/mvp-manager/checkLogin",e).then(function(e){return e.data})}function p(){return i.a.get("http://newsystem.laway.cn/weixinLogin/img?appid=wxad042b7ea343d689&redirect_uri="+encodeURI("https://ceshi.lvpin100.com/login/weixin"),{timeout:6e4}).then(function(e){return e.data})}function h(e){return i.a.get("http://newsystem.laway.cn/weixinLogin/check?uuid="+e.uuid+(e.last?"&last="+e.last:""),{timeout:6e4}).then(function(e){return e.data})}},"7e70":function(e,t,n){"use strict";n.r(t),n.d(t,"wxLogin",function(){return a}),n.d(t,"bindWx",function(){return i});var o=n("c93e"),r=(n("cadf"),n("551c"),n("097d"),n("6b6c"));function a(e){return r["a"].post("/mvp-manager/login",Object(o["a"])({},e,{loginType:3})).then(function(e){return e.data})}function i(e){return r["a"].post("/mvp-manager/bind",e).then(function(e){return e.data})}},"7f78":function(e,t,n){"use strict";var o=n("3db6"),r=n.n(o);r.a},"7faf":function(e,t,n){"use strict";var o=n("0af1"),r=n.n(o);r.a},"7fd7":function(e,t,n){},8176:function(e,t,n){"use strict";n.r(t),n.d(t,"saveAccountInfo",function(){return r}),n.d(t,"savePhone",function(){return a}),n.d(t,"saveEmail",function(){return i});n("cadf"),n("551c"),n("097d");var o=n("6b6c");function r(e){return o["a"].post("/mvp-manager/user/edit",e).then(function(e){return e.data})}function a(e){return o["a"].post("/mvp-manager/user/editPhone",e).then(function(e){return e.data})}function i(e){return o["a"].post("/mvp-manager/user/editEmail",e).then(function(e){return e.data})}},"831c":function(e,t,n){"use strict";n("c5f6");var o,r,a=n("fda0"),i=n("c5bf"),s=n("63c9"),c={name:"configComponent",props:{componentDefaultData:{type:Object,required:!1},componentDefaultDataId:{type:String,required:!1},componentData:{type:Object,required:!1},componentInfoData:{type:Object,required:!1},componentInfoDataInx:{type:Number,required:!1},cType:{type:Number,required:!0},itemId:{type:Number,required:!1,default:0},useItem:{type:Boolean,required:!1,default:!1},componentType:{type:Number,require:!1,default:1},aType:{type:Boolean,require:!1,default:!1},componentId:{type:String}},data:function(){return{AsyncComponent:null,componentInfo:null}},components:{LoadingComponent:i["a"],ErrorComponent:s["a"]},watch:{componentDefaultData:function(e){console.log("强制刷新组件"),this.initData()}},created:function(){this.initData()},render:function(e){return e("component",{is:this.AsyncComponent,props:{cType:this.aType?3:this.useItem?2===this.componentType?2:1:1===this.cType&&2===this.componentInfo.type?2:1,configs:this.useItem?this.componentInfo.configs:this.componentInfo.items[0].children&&this.componentInfo.items[0].children.length?this.componentInfo.items[0].children[this.itemId+1].configs:this.componentInfo.items[this.itemId].configs},on:{update:this.Update,input:this.Input}})},methods:{initData:function(){var e=this;if(this.useItem){for(var t in this.componentInfoData?this.componentInfo=this.deepCopy(this.componentData):!this.componentData||this.componentDefaultData&&this.componentDefaultData.uuid!==this.componentData.uuid?(console.log(this.componentDefaultData),this.componentInfo=this.deepCopy(this.componentDefaultData)):this.componentInfo=this.deepCopy(this.componentData),console.log("this.componentInfo"),console.log(this.componentInfo),this.componentInfo.configs)"inputType"===this.componentInfo.configs[t]["code"]?(this.componentInfo.configs[t]["configData"]["configData"]=parseInt(this.componentInfo.configs[t]["configData"]["configData"]),this.componentInfo.configs[t]["defaultValue"]=parseInt(this.componentInfo.configs[t]["defaultValue"])):"convert"===this.componentInfo.configs[t]["code"]?(this.componentInfo.configs[t]["configData"]["configData"]=JSON.parse(this.componentInfo.configs[t]["configData"]["configData"]),this.componentInfo.configs[t]["defaultValue"]=JSON.parse(this.componentInfo.configs[t]["defaultValue"])):"readonly"===this.componentInfo.configs[t]["code"]&&(this.componentInfo.configs[t]["configData"]["configData"]=JSON.parse(this.componentInfo.configs[t]["configData"]["configData"]),this.componentInfo.configs[t]["defaultValue"]=JSON.parse(this.componentInfo.configs[t]["defaultValue"]));this.AsyncComponent=function(){return{component:a["b"][e.componentInfo.uuid].configComponent,loading:i["a"],error:s["a"],delay:500,timeout:1e4}}}else{for(var n in this.componentData&&this.componentDefaultData.items[0].componentId===this.componentData.items[0].componentId?this.componentInfo=this.deepCopy(this.componentData):this.componentInfo=this.deepCopy(this.componentDefaultData),this.componentInfo.items[0].configs)"inputType"===this.componentInfo.items[0].configs[n]["code"]?((this.componentInfo.items[0].configs[n]["configData"]["configData"]||0===this.componentInfo.items[0].configs[n]["configData"]["configData"]||"0"===this.componentInfo.items[0].configs[n]["configData"]["configData"])&&(this.componentInfo.items[0].configs[n]["configData"]["configData"]=parseInt(this.componentInfo.items[0].configs[n]["configData"]["configData"])),(this.componentInfo.items[0].configs[n]["defaultValue"]||0===this.componentInfo.items[0].configs[n]["defaultValue"]||"0"===this.componentInfo.items[0].configs[n]["defaultValue"])&&(this.componentInfo.items[0].configs[n]["defaultValue"]=parseInt(this.componentInfo.items[0].configs[n]["defaultValue"]))):"convert"===this.componentInfo.items[0].configs[n]["code"]?(this.componentInfo.items[0].configs[n]["configData"]["configData"]=JSON.parse(this.componentInfo.items[0].configs[n]["configData"]["configData"]),this.componentInfo.items[0].configs[n]["defaultValue"]=JSON.parse(this.componentInfo.items[0].configs[n]["defaultValue"])):"readonly"===this.componentInfo.items[0].configs[n]["code"]?(this.componentInfo.items[0].configs[n]["configData"]["configData"]=JSON.parse(this.componentInfo.items[0].configs[n]["configData"]["configData"]),this.componentInfo.items[0].configs[n]["defaultValue"]=JSON.parse(this.componentInfo.items[0].configs[n]["defaultValue"])):"maxLength"===this.componentInfo.items[0].configs[n]["code"]?((this.componentInfo.items[0].configs[n]["configData"]["configData"]||0===this.componentInfo.items[0].configs[n]["configData"]["configData"]||"0"===this.componentInfo.items[0].configs[n]["configData"]["configData"])&&(this.componentInfo.items[0].configs[n]["configData"]["configData"]=parseInt(this.componentInfo.items[0].configs[n]["configData"]["configData"])),(this.componentInfo.items[0].configs[n]["defaultValue"]||0===this.componentInfo.items[0].configs[n]["defaultValue"]||"0"===this.componentInfo.items[0].configs[n]["defaultValue"])&&(this.componentInfo.items[0].configs[n]["defaultValue"]=parseInt(this.componentInfo.items[0].configs[n]["defaultValue"]))):"minLength"===this.componentInfo.items[0].configs[n]["code"]?((this.componentInfo.items[0].configs[n]["configData"]["configData"]||0===this.componentInfo.items[0].configs[n]["configData"]["configData"]||"0"===this.componentInfo.items[0].configs[n]["configData"]["configData"])&&(this.componentInfo.items[0].configs[n]["configData"]["configData"]=parseInt(this.componentInfo.items[0].configs[n]["configData"]["configData"])),(this.componentInfo.items[0].configs[n]["defaultValue"]||0===this.componentInfo.items[0].configs[n]["defaultValue"]||"0"===this.componentInfo.items[0].configs[n]["defaultValue"])&&(this.componentInfo.items[0].configs[n]["defaultValue"]=parseInt(this.componentInfo.items[0].configs[n]["defaultValue"]))):"rows"===this.componentInfo.items[0].configs[n]["code"]?((this.componentInfo.items[0].configs[n]["configData"]["configData"]||0===this.componentInfo.items[0].configs[n]["configData"]["configData"]||"0"===this.componentInfo.items[0].configs[n]["configData"]["configData"])&&(this.componentInfo.items[0].configs[n]["configData"]["configData"]=parseInt(this.componentInfo.items[0].configs[n]["configData"]["configData"])),(this.componentInfo.items[0].configs[n]["defaultValue"]||0===this.componentInfo.items[0].configs[n]["defaultValue"]||"0"===this.componentInfo.items[0].configs[n]["defaultValue"])&&(this.componentInfo.items[0].configs[n]["defaultValue"]=parseInt(this.componentInfo.items[0].configs[n]["defaultValue"]))):"seleteType"===this.componentInfo.items[0].configs[n]["code"]?((this.componentInfo.items[0].configs[n]["configData"]["configData"]||0===this.componentInfo.items[0].configs[n]["configData"]["configData"]||"0"===this.componentInfo.items[0].configs[n]["configData"]["configData"])&&(this.componentInfo.items[0].configs[n]["configData"]["configData"]=parseInt(this.componentInfo.items[0].configs[n]["configData"]["configData"])),(this.componentInfo.items[0].configs[n]["defaultValue"]||0===this.componentInfo.items[0].configs[n]["defaultValue"]||"0"===this.componentInfo.items[0].configs[n]["defaultValue"])&&(this.componentInfo.items[0].configs[n]["defaultValue"]=parseInt(this.componentInfo.items[0].configs[n]["defaultValue"]))):"seleteChild"===this.componentInfo.items[0].configs[n]["code"]&&(this.componentInfo.items[0].configs[n]["configData"]["configData"]=JSON.parse(this.componentInfo.items[0].configs[n]["configData"]["configData"]),this.componentInfo.items[0].configs[n]["defaultValue"]=JSON.parse(this.componentInfo.items[0].configs[n]["defaultValue"]));this.AsyncComponent=function(){return{component:a["b"][e.componentInfo.items[e.itemId].uuid].configComponent,loading:i["a"],error:s["a"],delay:500,timeout:1e4}}}},Input:function(e){this.useItem?this.componentInfoData?(this.componentInfo=this.componentInfoData,this.componentInfo.items[this.componentInfoDataInx].configs=e.value):(this.componentInfo.useItem=!0,this.componentInfo.configs=e.value):this.componentInfo.items[0].children&&this.componentInfo.items[0].children.length?this.componentInfo.items[0].children[this.itemId+1].configs=e.value:this.componentInfo.items[this.itemId].configs=e.value,this.$emit("updateComponentData",this.componentInfo)},Update:function(){this.$emit("updateConfig",!0)}}},u=c,d=n("2877"),l=Object(d["a"])(u,o,r,!1,null,null,null);l.options.__file="configComponent.vue";t["a"]=l.exports},"84b3":function(e,t,n){"use strict";var o=n("e6bc"),r=n.n(o);r.a},"88d3":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"board",staticClass:"node-edit-board"},[e.node?n("div",{staticClass:"node-editor"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.node.title,expression:"node.title"}]},[n("div",{directives:[{name:"show",rawName:"v-show",value:"edit"===e.tabs,expression:"tabs === 'edit'"}]},[n("Form",{ref:"formNodeEdit",attrs:{"label-width":180,model:e.node,rules:e.ruleValidate}},[n("Row",{staticClass:"edit-item",attrs:{gutter:16}},[n("Col",{attrs:{span:"16"}},["common"!==e.selectType?n("Form-item",{attrs:{label:"问题下的输入提示"}},[n("Input",{staticStyle:{width:"100%"},model:{value:e.node.tip,callback:function(t){e.$set(e.node,"tip",t)},expression:"node.tip"}})],1):e._e()],1),n("Col",{attrs:{span:"16"}},[n("Form-item",{attrs:{label:"关联标签"}},[n("tagSelector",{model:{value:e.node.tagInfo,callback:function(t){e.$set(e.node,"tagInfo",t)},expression:"node.tagInfo"}})],1)],1),n("Col",{attrs:{span:"8"}},[n("Form-item",{attrs:{label:"自定义代码",prop:"customVar"}},[n("Input",{staticStyle:{width:"100%"},model:{value:e.node.customVar,callback:function(t){e.$set(e.node,"customVar",t)},expression:"node.customVar"}})],1)],1)],1),n("Row",{staticClass:"edit-item",attrs:{gutter:16}},[n("Col",{attrs:{span:"16"}},[n("Form-item",{attrs:{label:"输入方式"}},[n("ButtonGroup",[n("Button",{class:"judge"===e.selectType?"editing":"",on:{click:function(t){e.clickTypeButton("judge")}}},[e._v("判断")]),n("Button",{class:"singleSelect"===e.selectType?"editing":"",on:{click:function(t){e.clickTypeButton("singleSelect")}}},[e._v("单选")]),n("Button",{class:"multiSelect"===e.selectType?"editing":"",on:{click:function(t){e.clickTypeButton("multiSelect")}}},[e._v("多选")]),n("Button",{class:"multiInput"===e.selectType?"editing":"",on:{click:function(t){e.clickTypeButton("multiInput")}}},[e._v("多填")]),n("Button",{class:"common"===e.selectType?"editing":"",on:{click:function(t){e.clickTypeButton("common")}}},[e._v("项目或共用包")]),n("Button",{class:"other"===e.selectType?"editing":"",on:{click:function(t){e.clickTypeButton("other")}}},[e._v("单填")])],1),n("Button",{staticStyle:{"margin-left":"10px"},attrs:{type:"default",shape:"circle",icon:"md-add"},on:{click:function(t){e.addCustomComponent()}}},[e._v("添加自定义组件")])],1)],1),n("Col",{attrs:{span:"4"}},[e._l(e.componentAllList,function(t,o){return t.id===e.node.componentId&&"common"!==e.selectType?[n("div",{directives:[{name:"show",rawName:"v-show",value:"multiInput"!==e.selectType||"other"===e.selectType&&"00000000-0000-0000-0000-000000000024"!==t.uuid,expression:"selectType !== 'multiInput' || (selectType === 'other' && com.uuid !== '00000000-0000-0000-0000-000000000024')"}],key:o},[e._v("\n                必填 "),n("i-switch",{model:{value:e.node.mustFlag,callback:function(t){e.$set(e.node,"mustFlag",t)},expression:"node.mustFlag"}})],1)]:e._e()})],2),n("Col",{attrs:{span:"4"}},[e.parentIsOption?n("div",[e._v("\n              追加 "),n("i-switch",{model:{value:e.node.additional,callback:function(t){e.$set(e.node,"additional",t)},expression:"node.additional"}})],1):e._e()])],1),"common"===e.selectType?n("Row",[n("Form-item",{attrs:{props:"common",label:""}},[n("Col",{attrs:{span:"12"}},[n("Tabs",{attrs:{value:e.node.crossState?"t":"f",animated:!1},on:{"on-click":function(t){e.changeCommonTab(t,e.node)}}},[n("TabPane",{attrs:{label:"当前项目",name:"f"}},[n("Col",{attrs:{span:"24"}},[n("Form-item",{attrs:{props:"common",label:"项目或共用包"}},[n("chooseProject",{style:{width:"15rem"},attrs:{allowNull:!0,excludeList:[e.node.projectId],clearAble:!0,rootId:e.rootProject},model:{value:e.node.nestProjectId,callback:function(t){e.$set(e.node,"nestProjectId",t)},expression:"node.nestProjectId"}})],1)],1),n("Col",{attrs:{span:"24"}},[n("Form-item",{attrs:{props:"common",label:"每次调用都重复做题"}},[n("i-switch",{attrs:{disabled:!e.node.nestProjectId},model:{value:e.node.repeatFlag,callback:function(t){e.$set(e.node,"repeatFlag",t)},expression:"node.repeatFlag"}})],1)],1),n("Col",{attrs:{span:"24"}},[n("Form-item",{attrs:{props:"common",label:"使用标题为前缀"}},[n("i-switch",{attrs:{disabled:!e.node.nestProjectId},model:{value:e.node.nestProjectTitle,callback:function(t){e.$set(e.node,"nestProjectTitle",t)},expression:"node.nestProjectTitle"}})],1)],1)],1),n("TabPane",{attrs:{label:"跨项目",name:"t"}},[n("Form-item",{attrs:{props:"common",label:"共用包英文名"}},[n("Input",{staticStyle:{width:"200px"},model:{value:e.node.crossProjectEnName,callback:function(t){e.$set(e.node,"crossProjectEnName",t)},expression:"node.crossProjectEnName"}})],1)],1)],1)],1)],1)],1):e._e(),"other"===e.selectType?n("Row",[n("Col",{attrs:{span:"24"}},[n("Form-item",{attrs:{label:"输入方式"}},[n("selectComponent",{attrs:{filterable:!0,size:"default",transfer:!1,selectUUID:e.node,id:"otherSelectComponent"},on:{"on-change":e.inputSelectChange,addOption:e.addCustomComponent},model:{value:e.node.componentId,callback:function(t){e.$set(e.node,"componentId",t)},expression:"node.componentId"}},[e._l(e.componentList,function(t){return!t.otherConfig||t.otherConfig&&-1===t.otherConfig.indexOf("cuShow")&&-1===t.otherConfig.indexOf("display")?n("Option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.name))]):e._e()}),e._l(e.customComponentList,function(t){return!t.otherConfig||t.otherConfig&&-1===t.otherConfig.indexOf("cuShow")&&-1===t.otherConfig.indexOf("display")?n("Option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.name))]):e._e()})],2)],1)],1)],1):e._e(),e.showOptions?[n("div",{ref:"optionTable",staticClass:"options-table"},[n("Row",{staticClass:"options-title",attrs:{gutter:16}},[n("Col",{attrs:{span:"2"}},[e._v("序号")]),n("Col",{attrs:{span:"5"}},[e._v("选项标题")]),n("Col",{attrs:{span:"multiSelect"===e.selectType||"multiInput"===e.selectType?"5":"6"}},[e._v("选择或填写提示")]),"judge"===e.selectType||"singleSelect"===e.selectType||"multiSelect"===e.selectType?n("Col",{attrs:{span:"4"}},[e._v("选项类型")]):e._e(),n("Col",{directives:[{name:"show",rawName:"v-show",value:e.showSelectType,expression:"showSelectType"}],attrs:{span:"5"}},[e._v("输入方式")]),"multiSelect"===e.selectType?n("Col",{attrs:{span:"1"}},[e._v("唯一")]):e._e(),n("Col",{attrs:{span:"1"}},[e._v("必填")]),n("Col",{attrs:{span:"3"}},[e._v("自定义代码")]),"judge"!==e.selectType?n("Col",{attrs:{span:"3"}},[e._v("操作")]):e._e()],1),n("draggable",{attrs:{options:{handle:".index",dragClass:"dragging"}},on:{start:function(t){e.dragging=!0},end:function(t){e.dragging=!1}},model:{value:e.node.children,callback:function(t){e.$set(e.node,"children",t)},expression:"node.children"}},e._l(e.node.children,function(t,o){return("judge"!==e.selectType||o<2)&&2===t.type?n("Row",{key:o,staticClass:"options-item",attrs:{gutter:10}},[n("Col",{staticClass:"index",attrs:{span:"2"}},[e._v("#"+e._s(o+1)+" "+e._s(t.code?"("+t.code+")":""))]),n("Col",{attrs:{span:"5"}},[n("Input",{class:"focus__"+o+"__1",attrs:{placeholder:"请输入标题",type:"text"},on:{"on-keyup":function(t){e.checkKeyUp(t,o,1)}},model:{value:t.title,callback:function(n){e.$set(t,"title",n)},expression:"option.title"}})],1),n("Col",{attrs:{span:"multiSelect"===e.selectType||"multiInput"===e.selectType?"5":"6"}},[n("Input",{class:"focus__"+o+"__2",attrs:{placeholder:"选项描述",type:"text"},on:{"on-keyup":function(t){e.checkKeyUp(t,o,2)}},model:{value:t.tip,callback:function(n){e.$set(t,"tip",n)},expression:"option.tip"}})],1),n("Col",{directives:[{name:"show",rawName:"v-show",value:"judge"===e.selectType||"singleSelect"===e.selectType||"multiSelect"===e.selectType,expression:"selectType === 'judge' || selectType === 'singleSelect' || selectType === 'multiSelect'"}],staticStyle:{"text-align":"left"},attrs:{span:"4"}},[n("Select",{attrs:{filterable:!0,size:"default",transfer:!1,clearable:"",placeholder:"默认（选项）"},on:{"on-change":function(n){e.changeComponentType(n,t,o)}},model:{value:t.point,callback:function(n){e.$set(t,"point",n)},expression:"option.point"}},e._l(e.componentAllList,function(t,o){return"00000000-0000-0000-0000-000000000011"===t.uuid||"00000000-0000-0000-0000-000000000015"===t.uuid||"00000000-0000-0000-0000-000000000017"===t.uuid||"00000000-0000-0000-0000-000000000001"===t.uuid?n("Option",{key:o,attrs:{value:t.id}},[e._v(e._s(t.name))]):e._e()}))],1),n("Col",{staticStyle:{"text-align":"left"},attrs:{span:"5"}},[e.showSelectType?n("selectComponent",{attrs:{filterable:!0,size:"default",transfer:!1,id:"optionSelectComponent-"+o,selectUUID:t},on:{"on-change":function(n){e.inputSelectChange(n,t)},addOption:e.addCustomComponent},model:{value:t.componentId,callback:function(n){e.$set(t,"componentId",n)},expression:"option.componentId"}},[e._l(e.componentList,function(t){return!t.otherConfig||t.otherConfig&&-1===t.otherConfig.indexOf("cuShow")&&-1===t.otherConfig.indexOf("display")?n("Option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.name))]):e._e()}),e._l(e.customComponentList,function(t){return!t.otherConfig||t.otherConfig&&-1===t.otherConfig.indexOf("cuShow")&&-1===t.otherConfig.indexOf("display")?n("Option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.name))]):e._e()})],2):e._e()],1),"multiSelect"===e.selectType?n("Col",{attrs:{span:"1"}},[n("Checkbox",{on:{"on-change":function(n){e.onlyChange(e.node.children,t)}},model:{value:t.unique,callback:function(n){e.$set(t,"unique",n)},expression:"option.unique"}})],1):e._e(),n("Col",{attrs:{span:"1"}},[n("Checkbox",{attrs:{disabled:"multiInput"!==e.selectType&&!new Boolean(t.point).valueOf()},model:{value:t.mustFlag,callback:function(n){e.$set(t,"mustFlag",n)},expression:"option.mustFlag"}})],1),n("Col",{attrs:{span:"3"}},[n("Input",{class:"focus__"+o+"__3",attrs:{placeholder:"请输入",type:"text"},on:{"on-keyup":function(t){e.checkKeyUp(t,o,3)}},model:{value:t.customVar,callback:function(n){e.$set(t,"customVar",n)},expression:"option.customVar"}})],1),"judge"!==e.selectType?n("Col",{attrs:{span:"3"}},[n("Button",{on:{click:function(n){e.deleteOption(t,o)}}},[e._v("删除")])],1):e._e()],1):e._e()}))],1),"judge"!==e.selectType?n("Button",{staticStyle:{"margin-top":"10px",float:"left"},attrs:{type:"primary",shape:"circle",icon:"md-add"},on:{click:e.addOption}},[e._v("添加选项 (F2)")]):e._e()]:e._e()],2)],1),n("div",{directives:[{name:"show",rawName:"v-show",value:"config"===e.tabs,expression:"tabs === 'config'"}]},[n("Row",[n("Col",{attrs:{span:"24"}},[n("Row",{staticClass:"edit-item",attrs:{gutter:16}},[n("Col",{attrs:{span:"2"}},[e._v("输入提示")]),n("Col",{attrs:{span:"22"}},[e._v(e._s(e.node.tip))])],1),n("Row",{staticClass:"edit-item",attrs:{gutter:16}},[n("Col",{attrs:{span:"2"}},[e._v("输入方式")]),e._l(e.componentAllList,function(t,o){return t.id===e.node.componentId?[n("Col",{key:o,attrs:{span:"10"}},[e._v(e._s(("00000000-0000-0000-0000-000000000024"===t.uuid?"小报告":e.inputType)||" "))])]:e._e()}),n("Col",{attrs:{span:"2"}},[e._v("追加题")]),n("Col",{attrs:{span:"10"}},[e._v(" "+e._s(e.node.additional?"是":"否")+"\n            ")])],2),n("Row",{staticClass:"edit-item",attrs:{gutter:16}},[n("Col",{attrs:{span:"2"}},[e._v("问题操作")]),n("Col",{attrs:{span:"22"}},[n("ButtonGroup",[e._l(e.componentAllList,function(t,o){return t.id===e.node.componentId?[n("Button",{key:"a"+o,on:{click:function(t){e.tabTo("edit",!0)}}},[e._v("编辑选项")]),n("Button",{key:"b"+o,on:{click:function(t){e.tabTo("note")}}},[e._v("编辑说明")]),n("Button",{key:"c"+o,attrs:{type:e.checkCode(e.node.showCondition)?"success":"default"},on:{click:function(t){e.controlQuestion("显示逻辑","showCondition")}}},[e._v("显示逻辑")]),n("Button",{key:"d"+o,attrs:{type:e.checkCode(e.node.translationCondition)?"success":"default"},on:{click:function(t){e.controlQuestion("翻译逻辑","translationCondition")}}},[e._v("翻译逻辑")]),n("Button",{key:"e"+o,attrs:{type:e.checkCode(e.node.jumpCondition)?"success":"default",disabled:"00000000-0000-0000-0000-000000000024"===t.uuid},on:{click:function(t){e.controlQuestion("结束条件","jumpCondition")}}},[e._v("结束条件")]),n("Button",{key:"f"+o,attrs:{type:e.checkCode(e.node.automateCondition)?"success":"default",disabled:"00000000-0000-0000-0000-000000000024"===t.uuid},on:{click:function(t){e.controlQuestion("自动填写","automateCondition")}}},[e._v("自动填写")]),n("Button",{key:"g"+o,attrs:{type:e.checkCode(e.node.permissionCondition)?"success":"default",disabled:"00000000-0000-0000-0000-000000000024"===t.uuid},on:{click:function(t){e.controlQuestion("权限配置","permissionCondition")}}},[e._v("权限配置")]),n("Button",{key:"h"+o,attrs:{type:e.checkCode(e.node.validateCondition)?"success":"default",disabled:"00000000-0000-0000-0000-000000000024"===t.uuid},on:{click:function(t){e.controlQuestion("验证逻辑","validateCondition")}}},[e._v("验证逻辑")]),"00000000-0000-0000-0000-000000000024"!==t.uuid?n("Button",{key:"j"+o,attrs:{disabled:!("other"===e.selectType||"singleSelect"===e.selectType||"judge"===e.selectType||"multiSelect"===e.selectType)},on:{click:function(t){e.controlQuestion("输入方式","componentInputType",e.node)}}},[e._v("输入方式")]):e._e(),"00000000-0000-0000-0000-000000000024"===t.uuid?n("Button",{key:"k"+o,on:{click:function(t){e.controlQuestion("小报告内容","componentInputType",e.node)}}},[e._v("小报告内容")]):e._e(),"multiSelect"===e.selectType?n("Button",{key:"l"+o,on:{click:function(t){e.controlQuestion("排异条件","rejectionCondition")}}},[e._v("排异条件")]):e._e()]:e._e()})],2)],1)],1)],1),"common"!==e.selectType&&"other"!==e.selectType?n("Col",{staticClass:"view-table-area edit-item-control-area options-table",attrs:{span:"24"}},[n("Row",{staticClass:"options-title",attrs:{gutter:16}},[n("Col",{attrs:{span:"2"}},[e._v("序号/代码")]),n("Col",{attrs:{span:"multiSelect"===e.selectType?"6":"7"}},[e._v("选项标题")]),n("Col",{attrs:{span:"3"}},[e._v("选项描述")]),n("Col",{attrs:{span:"3"}},[e._v("输入方式")]),"multiSelect"===e.selectType?n("Col",{attrs:{span:"1"}},[e._v("唯一")]):e._e(),n("Col",{attrs:{span:"1"}},[e._v("必填")]),n("Col",{attrs:{span:"2"}},[e._v("自定义代码")]),n("Col",{attrs:{span:"6"}},[e._v("操作")])],1),e._l(e.viewTableData,function(t,o){return t.code&&("judge"!==e.selectType||o<2)&&1!==t.type?n("Row",{key:o,staticClass:"options-item",attrs:{gutter:10}},[n("Col",{attrs:{span:"2"}},[e._v("#"+e._s(o+1)+" "+e._s(t.code?"("+t.code+")":""))]),n("Col",{staticStyle:{"text-align":"left"},attrs:{span:"multiSelect"===e.selectType?"6":"7"}},[e._v("\n            "+e._s(t.title||" ")+"\n            ")]),n("Col",{attrs:{span:"3"}},[e._v("\n            "+e._s(t.tip||" ")+"\n            ")]),n("Col",{attrs:{span:"3"}},[n("span",{staticStyle:{cursor:"pointer","user-select":"none"},on:{click:function(n){e.editComponentByComponentId(t.componentId)}}},[e._v(e._s(e.getComponentNameByComponentId(t.componentId)||" "))])]),"multiSelect"===e.selectType?n("Col",{attrs:{span:"1"}},[e._v("\n            "+e._s(t.unique?"是":"否")+"\n            ")]):e._e(),n("Col",{attrs:{span:"1"}},[e._v("\n            "+e._s(t.mustFlag?"是":"否")+"\n            ")]),n("Col",{attrs:{span:"2"}},[e._v("\n            "+e._s(t.customVar||" ")+"\n            ")]),n("Col",{staticStyle:{"text-align":"left"},attrs:{span:"6"}},[e._l(e.controls,function(o,r){return[n("Button",{key:r,staticClass:"table-control",attrs:{type:e.checkCode(t[o.key])?"success":"default",disabled:!("componentInputType"!==o.key||"componentInputType"===o.key&&"multiInput"===e.selectType)||!("validateCondition"!==o.key||"validateCondition"===o.key&&"multiInput"===e.selectType)},on:{click:function(n){e.controlQuestion(o.title,o.key,t)}}},[e._v(e._s(o.title))])]}),"multiSelect"===e.selectType?[n("Button",{staticClass:"table-control",attrs:{type:e.checkCode(t.rejectionCondition)?"success":"default"},on:{click:function(n){e.controlQuestion("排异条件","rejectionCondition",t)}}},[e._v("排异条件")])]:e._e()],2)],1):e._e()}),e.viewTableData.length<1?n("Row",{staticClass:"options-item"},[e._v("\n            暂无数据\n          ")]):e._e()],2):e._e()],1)],1),n("div",{directives:[{name:"show",rawName:"v-show",value:"note"===e.tabs,expression:"tabs === 'note'"}]},[n("h2",[e._v("说明")]),n("p",{staticStyle:{"margin-bottom":"10px"}},[e._v("为什么添加该节点?具体做些什么事情？")]),n("Input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:10},placeholder:"请输入说明..."},model:{value:e.node.remark,callback:function(t){e.$set(e.node,"remark",t)},expression:"node.remark"}})],1)]),n("Modal",{directives:[{name:"modal-drag",rawName:"v-modal-drag"},{name:"modal-resize",rawName:"v-modal-resize"}],attrs:{"mask-closable":!1,width:"980",dragable:!0},model:{value:e.control.show,callback:function(t){e.$set(e.control,"show",t)},expression:"control.show"}},[n("p",{attrs:{slot:"header"},slot:"header"},[e._v("\n        "+e._s(e.control.title)+"\n      ")]),e.control.node?n("Row",{staticClass:"edit-item",staticStyle:{cursor:"pointer"},attrs:{gutter:16},on:{click:function(t){e.save(e.control)}}},[n("Col",{attrs:{span:"2"}},[e._v("标题")]),n("Col",{attrs:{span:"10"}},[n("span",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.control.node.code))]),e._v(" "+e._s(e.control.node.title))]),n("Col",{attrs:{span:"2"}},[e._v("自定义代码")]),n("Col",{attrs:{span:"10"}},[e._v(e._s(e.control.node.customVar))])],1):e._e(),n("Row",{staticStyle:{"margin-top":"10px"},attrs:{gutter:16}},[n("Col",{attrs:{span:"24"}},[n("Input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:10},placeholder:"请输入代码说明..."},model:{value:e.control.contentNote,callback:function(t){e.$set(e.control,"contentNote",t)},expression:"control.contentNote"}})],1),n("Col",{ref:"controlEditorArea",staticStyle:{"margin-top":"10px"},attrs:{span:"24"}},[e.ControlEditorLoaded?e._e():n("Spin",{attrs:{size:"large",fix:""}}),e.showControlEditor?n("Editor",{ref:"controlEditor",attrs:{sourceType:1,projectId:e.rootProject},on:{editorMounted:e.ControlEditorMounted},model:{value:e.control.content,callback:function(t){e.$set(e.control,"content",t)},expression:"control.content"}}):e._e()],1)],1),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("Button",{staticClass:"btn-main",on:{click:function(t){e.save(e.control)}}},[e._v("保存")])],1)],1)],1):e._e(),n("Modal",{attrs:{"mask-closable":!1,loading:!0,closable:!0,draggable:!1,width:"85%"},on:{"on-cancel":e.ComponentInputTypeCancel},model:{value:e.showComponentInputType,callback:function(t){e.showComponentInputType=t},expression:"showComponentInputType"}},[n("p",{attrs:{slot:"header"},slot:"header"},[e._v("\n      输入方式配置\n    ")]),e.showComponentEditor?["00000000-0000-0000-0000-000000000012"===e.ComponentInputTypeNode.componentInfo.items[0].uuid?e._l(e.ComponentInputTypeNode.componentInfo.items,function(t,o){return n("div",{key:o},[o>0?[n("h2",[e._v(e._s(t.name))]),n("configComponent",{key:o,attrs:{componentData:e.ComponentInputTypeNode.componentInfo.items[o],componentInfoData:e.ComponentInputTypeNode.componentInfo,componentInfoDataInx:o,cType:1,aType:!0,useItem:!0},on:{updateComponentData:function(t){e.updateComponentData(t,e.ComponentInputTypeNode)}}})]:e._e()],2)}):2!==e.ComponentInputTypeNode.componentInfo.type||"00000000-0000-0000-0000-000000000005"!==e.ComponentInputTypeNode.componentInfo.items[0].uuid&&"00000000-0000-0000-0000-000000000007"!==e.ComponentInputTypeNode.componentInfo.items[0].uuid&&"00000000-0000-0000-0000-000000000013"!==e.ComponentInputTypeNode.componentInfo.items[0].uuid?n("configComponent",{attrs:{componentDefaultData:e.ComponentInputTypeNode.componentInfo,componentData:e.ComponentInputTypeNode.componentInfo,cType:1},on:{updateComponentData:function(t){e.updateComponentData(t,e.ComponentInputTypeNode)}}}):e._l(e.ComponentInputTypeNode.componentInfo.items,function(t,o){return n("div",{key:o},[o>0?[n("h2",[e._v(e._s(t.name))]),n("configComponent",{key:o,attrs:{componentData:e.ComponentInputTypeNode.componentInfo.items[o],componentInfoData:e.ComponentInputTypeNode.componentInfo,componentInfoDataInx:o,cType:1,aType:!0,useItem:!0},on:{updateComponentData:function(t){e.updateComponentData(t,e.ComponentInputTypeNode)}}})]:e._e()],2)})]:n("Spin",{attrs:{size:"large",fix:""}}),n("div",{staticClass:"config-modal-footer",attrs:{slot:"footer"},slot:"footer"},[n("Row",{attrs:{type:"flex",justify:"end"}},[n("Button",{attrs:{type:"primary"},on:{click:e.ComponentInputTypeOk}},[e._v("\n          保存\n        ")])],1)],1)],2),n("customComponentEdit",{attrs:{editItem:e.editItem,judgeComponent:e.judgeComponent,org:e.currentCompany,team:"3-"+e.projectId,nowSelectUUID:e.nowSelectUUID},on:{updateList:e.updateCustomComponentList,selectNewId:e.selectNewId},model:{value:e.showCustomComponent,callback:function(t){e.showCustomComponent=t},expression:"showCustomComponent"}})],1)},r=[],a=n("a322"),i=(n("7f7f"),n("ac4d"),n("8a81"),n("ac6a"),n("a481"),n("96cf"),n("3040")),s=n("8afe"),c=(n("c5f6"),n("a0f0")),u=n("2934"),d=n("29b7"),l=n("831c"),p=n("8b88"),h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"click-outside",rawName:"v-click-outside.capture",value:e.onClickOutside,expression:"onClickOutside",modifiers:{capture:!0}},{name:"click-outside",rawName:"v-click-outside:mousedown.capture",value:e.onClickOutside,expression:"onClickOutside",arg:"mousedown",modifiers:{capture:!0}}],class:e.classes},[n("div",{ref:"reference",class:e.selectionCls,attrs:{tabindex:e.selectTabindex},on:{blur:e.toggleHeaderFocus,focus:e.toggleHeaderFocus,click:e.toggleMenu,keydown:[function(t){return"button"in t||!e._k(t.keyCode,"esc",27,t.key,"Escape")?e.handleKeydown(t):null},function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleKeydown(t):null},function(t){return"button"in t||!e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?(t.preventDefault(),e.handleKeydown(t)):null},function(t){return"button"in t||!e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?(t.preventDefault(),e.handleKeydown(t)):null},function(t){return"button"in t||!e._k(t.keyCode,"tab",9,t.key,"Tab")?e.handleKeydown(t):null},function(t){return"button"in t||!e._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete"])?e.handleKeydown(t):null}],mouseenter:function(t){e.hasMouseHoverHead=!0},mouseleave:function(t){e.hasMouseHoverHead=!1}}},[e._t("input",[n("input",{attrs:{type:"hidden",name:e.name},domProps:{value:e.publicValue}}),n("select-head",{attrs:{filterable:e.filterable,multiple:e.multiple,values:e.values,clearable:e.canBeCleared,disabled:e.disabled,remote:e.remote,"input-element-id":e.elementId,"initial-label":e.initialLabel,placeholder:e.placeholder,"query-prop":e.query},on:{"on-query-change":e.onQueryChange,"on-input-focus":function(t){e.isFocused=!0},"on-input-blur":function(t){e.isFocused=!1},"on-clear":e.clearSingleSelect}})])],2),n("transition",{attrs:{name:"transition-drop"}},[n("Drop",{directives:[{name:"show",rawName:"v-show",value:e.dropVisible,expression:"dropVisible"},{name:"transfer-dom",rawName:"v-transfer-dom"}],ref:"dropdown",class:e.dropdownCls,attrs:{placement:e.placement,"data-transfer":e.transfer}},[n("ul",{directives:[{name:"show",rawName:"v-show",value:e.showNotFoundLabel,expression:"showNotFoundLabel"}],class:[e.prefixCls+"-not-found"]},[n("li",[e._v(e._s(e.localeNotFoundText))])]),n("ul",{class:e.prefixCls+"-dropdown-list"},[!e.remote||e.remote&&!e.loading?n("functional-options",{attrs:{options:e.selectOptions,"slot-update-hook":e.updateSlotOptions,"slot-options":e.slotOptions}}):e._e()],1),n("ul",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],class:[e.prefixCls+"-loading"]},[e._v(e._s(e.localeLoadingText))]),n("div",{staticClass:"add-option",on:{click:e.addOption}},[e._v("添加自定义组件")])])],1)],1)},m=[],f=(n("20d6"),n("6762"),n("2fdb"),n("fca0"),n("7514"),n("9393")),g=(n("28a5"),n("c93e")),v=(n("4917"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ivu-select-dropdown",class:e.className,style:e.styles},[e._t("default")],2)}),b=[],y=n("2b0e"),C=(n("6b54"),y["default"].prototype.$isServer);function w(e,t){for(var n=0;n<t.length;n++)if(e===t[n])return!0;return!1}!C&&(window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver);var k=/([\:\-\_]+(.))/g,_=/^moz([A-Z])/;function I(e){return e.replace(k,function(e,t,n,o){return o?n.toUpperCase():n}).replace(_,"Moz$1")}function x(e,t){if(!e||!t)return null;t=I(t),"float"===t&&(t="cssFloat");try{var n=document.defaultView.getComputedStyle(e,"");return e.style[t]||n?n[t]:null}catch(n){return e.style[t]}}function j(e,t,n){n="string"===typeof t?[t]:t;var o=e.$parent,r=o.$options.name;while(o&&(!r||n.indexOf(r)<0))o=o.$parent,o&&(r=o.$options.name);return o}var D=y["default"].prototype.$isServer,T=D?function(){}:n("d2e4"),O={name:"Drop",props:{placement:{type:String,default:"bottom-start"},className:{type:String}},data:function(){return{popper:null,width:"",popperStatus:!1}},computed:{styles:function(){var e={};return this.width&&(e.width="".concat(this.width,"px")),e}},methods:{update:function(){var e=this;D||(this.popper?this.$nextTick(function(){e.popper.update(),e.popperStatus=!0}):this.$nextTick(function(){e.popper=new T(e.$parent.$refs.reference,e.$el,{placement:e.placement,modifiers:{computeStyle:{gpuAcceleration:!1},preventOverflow:{boundariesElement:"window"}},onCreate:function(){e.resetTransformOrigin(),e.$nextTick(e.popper.update())},onUpdate:function(){e.resetTransformOrigin()}})}),"iSelect"===this.$parent.$options.name&&(this.width=parseInt(x(this.$parent.$el,"width"))))},destroy:function(){var e=this;this.popper&&setTimeout(function(){e.popper&&!e.popperStatus&&(e.popper.destroy(),e.popper=null),e.popperStatus=!1},300)},resetTransformOrigin:function(){if(this.popper){var e=this.popper.popper.getAttribute("x-placement"),t=e.split("-")[0],n=e.split("-")[1],o="left"===e||"right"===e;o||(this.popper.popper.style.transformOrigin="bottom"===t||"top"!==t&&"start"===n?"center top":"center bottom")}}},created:function(){this.$on("on-update-popper",this.update),this.$on("on-destroy-popper",this.destroy)},beforeDestroy:function(){this.popper&&this.popper.destroy()}},N=O,S=n("2877"),$=Object(S["a"])(N,v,b,!1,null,null,null);$.options.__file="dropdown.vue";var P=$.exports,L=n("785b");n("f751");function M(e){return void 0===e&&(e=document.body),!0===e?document.body:e instanceof window.Node?e:document.querySelector(e)}var R={inserted:function(e,t,n){var o=t.value;if(e.dataset&&"true"!==e.dataset.transfer)return!1;e.className=e.className?e.className+" v-transfer-dom":"v-transfer-dom";var r=e.parentNode;if(r){var a=document.createComment(""),i=!1;!1!==o&&(r.replaceChild(a,e),M(o).appendChild(e),i=!0),e.__transferDomData||(e.__transferDomData={parentNode:r,home:a,target:M(o),hasMovedOut:i})}},componentUpdated:function(e,t){var n=t.value;if(e.dataset&&"true"!==e.dataset.transfer)return!1;var o=e.__transferDomData;if(o){var r=o.parentNode,a=o.home,i=o.hasMovedOut;!i&&n?(r.replaceChild(a,e),M(n).appendChild(e),e.__transferDomData=Object.assign({},e.__transferDomData,{hasMovedOut:!0,target:M(n)})):i&&!1===n?(r.replaceChild(e,a),e.__transferDomData=Object.assign({},e.__transferDomData,{hasMovedOut:!1,target:M(n)})):n&&M(n).appendChild(e)}},unbind:function(e){if(e.dataset&&"true"!==e.dataset.transfer)return!1;e.className=e.className.replace("v-transfer-dom","");var t=e.__transferDomData;t&&(!0===e.__transferDomData.hasMovedOut&&e.__transferDomData.parentNode&&e.__transferDomData.parentNode.appendChild(e),e.__transferDomData=null)}},E=R;function B(e,t,n){this.$children.forEach(function(o){var r=o.$options.name;r===e?o.$emit.apply(o,[t].concat(n)):B.apply(o,[e,t].concat([n]))})}var V={methods:{dispatch:function(e,t,n){var o=this.$parent||this.$root,r=o.$options.name;while(o&&(!r||r!==e))o=o.$parent,o&&(r=o.$options.name);o&&o.$emit.apply(o,[t].concat(n))},broadcast:function(e,t,n){B.call(this,e,t,n)}}},A=y["default"].prototype.$isServer,z=function(e){A||"undefined"!==typeof window.iview&&("langs"in iview||(iview.langs={}),iview.langs[e.i.locale]=e)},U={i:{locale:"zh-CN",select:{placeholder:"请选择",noMatch:"无匹配数据",loading:"加载中"},table:{noDataText:"暂无数据",noFilteredDataText:"暂无筛选结果",confirmFilter:"筛选",resetFilter:"重置",clearFilter:"全部"},datepicker:{selectDate:"选择日期",selectTime:"选择时间",startTime:"开始时间",endTime:"结束时间",clear:"清空",ok:"确定",datePanelLabel:"[yyyy年] [m月]",month:"月",month1:"1 月",month2:"2 月",month3:"3 月",month4:"4 月",month5:"5 月",month6:"6 月",month7:"7 月",month8:"8 月",month9:"9 月",month10:"10 月",month11:"11 月",month12:"12 月",year:"年",weekStartDay:"0",weeks:{sun:"日",mon:"一",tue:"二",wed:"三",thu:"四",fri:"五",sat:"六"},months:{m1:"1月",m2:"2月",m3:"3月",m4:"4月",m5:"5月",m6:"6月",m7:"7月",m8:"8月",m9:"9月",m10:"10月",m11:"11月",m12:"12月"}},transfer:{titles:{source:"源列表",target:"目的列表"},filterPlaceholder:"请输入搜索内容",notFoundText:"列表为空"},modal:{okText:"确定",cancelText:"取消"},poptip:{okText:"确定",cancelText:"取消"},page:{prev:"上一页",next:"下一页",total:"共",item:"条",items:"条",prev5:"向前 5 页",next5:"向后 5 页",page:"条/页",goto:"跳至",p:"页"},rate:{star:"星",stars:"星"},tree:{emptyText:"暂无数据"}}};z(U);var q=U,F=n("58dc"),K=n("6bde"),H=/(%|)\{([0-9a-zA-Z_]+)\}/g,W=function(){function e(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function t(t){for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];return 1===o.length&&"object"===Object(K["a"])(o[0])&&(o=o[0]),o&&o.hasOwnProperty||(o={}),t.replace(H,function(n,r,a,i){var s;return"{"===t[i-1]&&"}"===t[i+n.length]?a:(s=e(o,a)?o[a]:null,null===s||void 0===s?"":s)})}return t},Q=W(y["default"]),G=q,J=!1,Y=function(){var e=Object.getPrototypeOf(this||y["default"]).$t;if("function"===typeof e&&y["default"].locale)return J||(J=!0,y["default"].locale(y["default"].config.lang,Object(F["a"])(G,y["default"].locale(y["default"].config.lang)||{},{clone:!0}))),e.apply(this,arguments)},Z=function(e,t){var n=Y.apply(this,arguments);if(null!==n&&void 0!==n)return n;for(var o=e.split("."),r=G,a=0,i=o.length;a<i;a++){var s=o[a];if(n=r[s],a===i-1)return Q(n,t);if(!n)return"";r=n}return""},X={methods:{t:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Z.apply(this,t)}}},ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{on:{click:e.onHeaderClick}},[e._l(e.selectedMultiple,function(t){return n("div",{key:t,staticClass:"ivu-tag ivu-tag-checked"},[n("span",{staticClass:"ivu-tag-text"},[e._v(e._s(t.label))]),n("Icon",{attrs:{type:"md-close"},nativeOn:{click:function(n){n.stopPropagation(),e.removeTag(t)}}})],1)}),n("span",{directives:[{name:"show",rawName:"v-show",value:e.singleDisplayValue,expression:"singleDisplayValue"}],class:e.singleDisplayClasses},[e._v(e._s(e.singleDisplayValue))]),e.filterable?n("input",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"}],ref:"input",class:[e.prefixCls+"-input"],style:e.inputStyle,attrs:{id:e.inputElementId,type:"text",disabled:e.disabled,placeholder:e.showPlaceholder?e.localePlaceholder:"",autocomplete:"off",spellcheck:"false"},domProps:{value:e.query},on:{keydown:[e.resetInputState,function(t){return"button"in t||!e._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete"])?e.handleInputDelete(t):null}],focus:e.onInputFocus,blur:e.onInputFocus,input:function(t){t.target.composing||(e.query=t.target.value)}}}):e._e(),e.resetSelect?n("Icon",{class:[e.prefixCls+"-arrow"],attrs:{type:"md-close-circle"},nativeOn:{click:function(t){return t.stopPropagation(),e.onClear(t)}}}):e._e(),e.resetSelect||e.remote||e.disabled?e._e():n("Icon",{class:[e.prefixCls+"-arrow"],attrs:{type:"md-arrow-down"}})],2)},te=[],ne="ivu-select",oe={name:"iSelectHead",mixins:[V,X],props:{disabled:{type:Boolean,default:!1},filterable:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},remote:{type:Boolean,default:!1},initialLabel:{type:[String,Number,Array]},values:{type:Array,default:function(){return[]}},clearable:{type:[Function,Boolean],default:!1},inputElementId:{type:String},placeholder:{type:String},queryProp:{type:String,default:""}},data:function(){return{prefixCls:ne,query:"",inputLength:20,remoteInitialLabel:this.initialLabel,preventRemoteCall:!1}},computed:{singleDisplayClasses:function(){var e,t=this.filterable,n=this.multiple,o=this.showPlaceholder;return[(e={},Object(a["a"])(e,ne+"-placeholder",o&&!t),Object(a["a"])(e,ne+"-selected-value",!o&&!n&&!t),e)]},singleDisplayValue:function(){return this.multiple&&this.values.length>0||this.filterable?"":"".concat(this.selectedSingle)||this.localePlaceholder},showPlaceholder:function(){var e=!1;if(this.multiple)!this.values.length>0&&(e=!0);else{var t=this.values[0];"undefined"!==typeof t&&""!==String(t).trim()||(e=!this.remoteInitialLabel)}return e},resetSelect:function(){return!this.showPlaceholder&&this.clearable},inputStyle:function(){var e={};return this.multiple&&(this.showPlaceholder?e.width="100%":e.width="".concat(this.inputLength,"px")),e},localePlaceholder:function(){return void 0===this.placeholder?this.t("i.select.placeholder"):this.placeholder},selectedSingle:function(){var e=this.values[0];return e?e.label:this.remoteInitialLabel||""},selectedMultiple:function(){return this.multiple?this.values:[]}},methods:{onInputFocus:function(e){this.$emit("focus"===e.type?"on-input-focus":"on-input-blur")},removeTag:function(e){if(this.disabled)return!1;this.dispatch("iSelect","on-select-selected",e)},resetInputState:function(){this.inputLength=12*this.$refs.input.value.length+20},handleInputDelete:function(){this.multiple&&this.selectedMultiple.length&&""===this.query&&this.removeTag(this.selectedMultiple[this.selectedMultiple.length-1])},onHeaderClick:function(e){this.filterable&&e.target===this.$el&&this.$refs.input.focus()},onClear:function(){this.$emit("on-clear")}},watch:{values:function(e){var t=this,n=Object(f["a"])(e,1),o=n[0];if(this.filterable){if(this.preventRemoteCall=!0,this.multiple)return this.query="",void(this.preventRemoteCall=!1);this.query="undefined"===typeof o||""===o||null===o?"":o.label,this.$nextTick(function(){t.preventRemoteCall=!1})}},query:function(e){this.preventRemoteCall?this.preventRemoteCall=!1:this.$emit("on-query-change",e)},queryProp:function(e){e!==this.query&&(this.query=e)}}},re=oe,ae=Object(S["a"])(re,ee,te,!1,null,null,null);ae.options.__file="select-head.vue";var ie,se,ce=ae.exports,ue=function(){return[]},de={props:{options:{type:Array,default:ue},slotOptions:{type:Array,default:ue},slotUpdateHook:{type:Function,default:function(){}}},functional:!0,render:function(e,t){var n=t.props,o=t.parent;return n.slotOptions!==o.$slots.default&&n.slotUpdateHook(),n.options}},le=de,pe=Object(S["a"])(le,ie,se,!1,null,null,null);pe.options.__file="functional-options.vue";var he=pe.exports,me="ivu-select",fe=/^i-option$|^Option$/i,ge=/option-?group/i,ve=function e(t,n){var o=n(t);if(o)return t;for(var r=0,a=t.$children.length;r<a;r++){var i=t.$children[r];if(o=e(i,n),o)return o}},be=function e(t){var n=t.componentOptions;if(n&&n.tag.match(fe))return[t];if(!t.children&&(!n||!n.children))return[];var o=Object(s["a"])(t.children||[]).concat(Object(s["a"])(n&&n.children||[])),r=o.reduce(function(t,n){return Object(s["a"])(t).concat(Object(s["a"])(e(n)))},[]).filter(Boolean);return r.length>0?r:[]},ye=function(e){return e.reduce(function(e,t){return e.concat(be(t))},[])},Ce=function(e,t,n){return Object(g["a"])({},e,{componentOptions:Object(g["a"])({},e.componentOptions,{propsData:Object(g["a"])({},e.componentOptions.propsData,Object(a["a"])({},t,n))})})},we=function(e,t){var n=t.split(".");return n.reduce(function(e,t){return e&&e[t]||null},e)},ke=function(e){if(e.componentOptions.propsData.label)return e.componentOptions.propsData.label;var t=(e.componentOptions.children||[]).reduce(function(e,t){return e+(t.text||"")},""),n=we(e,"data.domProps.innerHTML");return t||("string"===typeof n?n:"")},_e=300,Ie={name:"iSelect",mixins:[V,X],components:{FunctionalOptions:he,Drop:P,SelectHead:ce},directives:{clickOutside:L["directive"],TransferDom:E},props:{value:{type:[String,Number,Array],default:""},label:{type:[String,Number,Array],default:""},multiple:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},placeholder:{type:String},filterable:{type:Boolean,default:!1},filterMethod:{type:Function},remoteMethod:{type:Function},loading:{type:Boolean,default:!1},selectUUID:{type:Object,required:!1},loadingText:{type:String},size:{validator:function(e){return w(e,["small","large","default"])},default:function(){return""===this.$IVIEW.size?"default":this.$IVIEW.size}},labelInValue:{type:Boolean,default:!1},notFoundText:{type:String},placement:{validator:function(e){return w(e,["top","bottom"])},default:"bottom"},transfer:{type:Boolean,default:function(){return""!==this.$IVIEW.transfer&&this.$IVIEW.transfer}},autoComplete:{type:Boolean,default:!1},name:{type:String},elementId:{type:String}},mounted:function(){var e=this;this.$on("on-select-selected",this.onOptionClick),!this.remote&&this.selectOptions.length>0&&(this.values=this.getInitialValue().map(function(t){return"number"===typeof t||t?e.getOptionData(t):null}).filter(Boolean)),this.checkUpdateStatus()},data:function(){return{prefixCls:me,values:[],dropDownWidth:0,visible:!1,focusIndex:-1,isFocused:!1,query:"",initialLabel:this.label,hasMouseHoverHead:!1,slotOptions:this.$slots.default,caretPosition:-1,lastRemoteQuery:"",unchangedQuery:!0,hasExpectedValue:!1,preventRemoteCall:!1}},computed:{classes:function(){var e;return["".concat(me),(e={},Object(a["a"])(e,"".concat(me,"-visible"),this.visible),Object(a["a"])(e,"".concat(me,"-disabled"),this.disabled),Object(a["a"])(e,"".concat(me,"-multiple"),this.multiple),Object(a["a"])(e,"".concat(me,"-single"),!this.multiple),Object(a["a"])(e,"".concat(me,"-show-clear"),this.showCloseIcon),Object(a["a"])(e,"".concat(me,"-").concat(this.size),!!this.size),e)]},dropdownCls:function(){var e;return e={},Object(a["a"])(e,me+"-dropdown-transfer",this.transfer),Object(a["a"])(e,me+"-multiple",this.multiple&&this.transfer),Object(a["a"])(e,"ivu-auto-complete",this.autoComplete),e},selectionCls:function(){var e;return e={},Object(a["a"])(e,"".concat(me,"-selection"),!this.autoComplete),Object(a["a"])(e,"".concat(me,"-selection-focused"),this.isFocused),e},queryStringMatchesSelectedOption:function(){var e=this.values[0];if(!e)return!1;var t=[this.query,e.label].map(function(e){return(e||"").trim()}),n=Object(f["a"])(t,2),o=n[0],r=n[1];return!this.multiple&&this.unchangedQuery&&o===r},localeNotFoundText:function(){return"undefined"===typeof this.notFoundText?this.t("i.select.noMatch"):this.notFoundText},localeLoadingText:function(){return"undefined"===typeof this.loadingText?this.t("i.select.loading"):this.loadingText},transitionName:function(){return"bottom"===this.placement?"slide-up":"slide-down"},dropVisible:function(){var e=!0,t=!this.selectOptions||0===this.selectOptions.length;return!this.loading&&this.remote&&""===this.query&&t&&(e=!1),this.autoComplete&&t&&(e=!1),this.visible&&e},showNotFoundLabel:function(){var e=this.loading,t=this.remote,n=this.selectOptions;return n&&0===n.length&&(!t||t&&!e)},publicValue:function(){return this.labelInValue?this.multiple?this.values:this.values[0]:this.multiple?this.values.map(function(e){return e.value}):(this.values[0]||{}).value},canBeCleared:function(){var e=this.hasMouseHoverHead||this.active,t=!this.multiple&&this.clearable;return e&&t&&this.reset},selectOptions:function(){var e=this,t=[],n=this.slotOptions||[],o=-1,r=this.focusIndex,a=this.values.filter(Boolean).map(function(e){var t=e.value;return t});if(this.autoComplete){var i=function e(t,n){return Object(g["a"])({},t,{children:(t.children||[]).map(n).map(function(t){return e(t,n)})})},s=ye(n),c=s[r];return n.map(function(t){return t===c||we(t,"componentOptions.propsData.value")===e.value?Ce(t,"isFocused",!0):i(t,function(e){return e!==c?e:Ce(e,"isFocused",!0)})})}var u=n.some(function(t){return e.query===t.key}),d=!0,l=!1,p=void 0;try{for(var h,m=n[Symbol.iterator]();!(d=(h=m.next()).done);d=!0){var f=h.value,v=f.componentOptions;if(v)if(v.tag.match(ge)){var b=v.children;this.filterable&&(b=b.filter(function(t){var n=t.componentOptions;return e.validateOption(n)})),v.children=b.map(function(t){return o+=1,e.processOption(t,a,o===r)}),v.children.length>0&&t.push(Object(g["a"])({},f))}else{if(!u){var y=this.filterable?this.validateOption(v):f;if(!y)continue}o+=1,t.push(this.processOption(f,a,o===r))}}}catch(e){l=!0,p=e}finally{try{d||null==m.return||m.return()}finally{if(l)throw p}}return t},flatOptions:function(){return ye(this.selectOptions)},selectTabindex:function(){return this.disabled||this.filterable?-1:0},remote:function(){return"function"===typeof this.remoteMethod}},methods:{addOption:function(){this.$emit("addOption",this.selectUUID)},setQuery:function(e){e?this.onQueryChange(e):null===e&&(this.onQueryChange(""),this.values=[])},clearSingleSelect:function(){this.$emit("on-clear"),this.hideMenu(),this.clearable&&this.reset()},getOptionData:function(e){var t=this.flatOptions.find(function(t){var n=t.componentOptions;return n.propsData.value===e});if(!t)return null;var n=ke(t);return{value:e,label:n}},getInitialValue:function(){var e=this.multiple,t=this.remote,n=this.value,o=Array.isArray(n)?n:[n];if(e||"undefined"!==typeof o[0]&&(""!==String(o[0]).trim()||Number.isFinite(o[0]))||(o=[]),t&&!e&&n){var r=this.getOptionData(n);this.query=r?r.label:String(n)}return o.filter(function(e){return Boolean(e)||0===e})},processOption:function(e,t,n){if(!e.componentOptions)return e;var o=e.componentOptions.propsData.value,r=e.componentOptions.propsData.disabled,a=t.includes(o),i=Object(g["a"])({},e.componentOptions.propsData,{selected:a,isFocused:n,disabled:"undefined"!==typeof r&&!1!==r});return Object(g["a"])({},e,{componentOptions:Object(g["a"])({},e.componentOptions,{propsData:i})})},validateOption:function(e){var t=e.children,n=e.elm,o=e.propsData;if(this.queryStringMatchesSelectedOption)return!0;var r=o.value,a=o.label||"",i=n&&n.textContent||(t||[]).reduce(function(e,t){var n=t.elm?t.elm.textContent:t.text;return"".concat(e," ").concat(n)},"")||"",s=JSON.stringify([r,a,i]),c=this.query.toLowerCase().trim();return s.toLowerCase().includes(c)},toggleMenu:function(e,t){if(this.disabled)return!1;this.visible="undefined"!==typeof t?t:!this.visible,this.visible&&(this.dropDownWidth=this.$el.getBoundingClientRect().width,this.broadcast("Drop","on-update-popper"))},hideMenu:function(){var e=this;this.toggleMenu(null,!1),setTimeout(function(){e.unchangedQuery=!0},_e)},onClickOutside:function(e){var t=this;if(this.visible){if("mousedown"===e.type)return void e.preventDefault();if(this.transfer){var n=this.$refs.dropdown.$el;if(n===e.target||n.contains(e.target))return}if(this.filterable){var o=this.$el.querySelector('input[type="text"]');this.caretPosition=o.selectionStart,this.$nextTick(function(){var e=-1===t.caretPosition?o.value.length:t.caretPosition;o.setSelectionRange(e,e)})}this.autoComplete||e.stopPropagation(),e.preventDefault(),this.hideMenu(),this.isFocused=!0}else this.caretPosition=-1,this.isFocused=!1},reset:function(){this.query="",this.focusIndex=-1,this.unchangedQuery=!0,this.values=[]},handleKeydown:function(e){if("Backspace"!==e.key)if(this.visible){if(e.preventDefault(),"Tab"===e.key&&e.stopPropagation(),"Escape"===e.key&&(e.stopPropagation(),this.hideMenu()),"ArrowUp"===e.key&&this.navigateOptions(-1),"ArrowDown"===e.key&&this.navigateOptions(1),"Enter"===e.key){if(-1===this.focusIndex)return this.hideMenu();var t=this.flatOptions[this.focusIndex],n=this.getOptionData(t.componentOptions.propsData.value);this.onOptionClick(n)}}else{var o=["ArrowUp","ArrowDown"];o.includes(e.key)&&this.toggleMenu(null,!0)}},navigateOptions:function(e){var t=this.flatOptions.length-1,n=this.focusIndex+e;if(n<0&&(n=t),n>t&&(n=0),e>0){for(var o=-1,r=0;r<this.flatOptions.length;r++){var a=!this.flatOptions[r].componentOptions.propsData.disabled;if(a&&(o=r),o>=n)break}n=o}else{for(var i=this.flatOptions.length,s=t;s>=0;s--){var c=!this.flatOptions[s].componentOptions.propsData.disabled;if(c&&(i=s),i<=n)break}n=i}this.focusIndex=n},onOptionClick:function(e){if(this.multiple){this.remote?this.lastRemoteQuery=this.lastRemoteQuery||this.query:this.lastRemoteQuery="";var t=this.values.find(function(t){var n=t.value;return n===e.value});this.values=t?this.values.filter(function(t){var n=t.value;return n!==e.value}):this.values.concat(e),this.isFocused=!0}else this.query=String(e.label).trim(),this.values=[e],this.lastRemoteQuery="",this.hideMenu();if(this.focusIndex=this.flatOptions.findIndex(function(t){return!(!t||!t.componentOptions)&&t.componentOptions.propsData.value===e.value}),this.filterable){var n=this.$el.querySelector('input[type="text"]');this.autoComplete||this.$nextTick(function(){return n.focus()})}this.broadcast("Drop","on-update-popper")},onQueryChange:function(e){e.length>0&&e!==this.query&&(this.visible=!0),this.query=e,this.unchangedQuery=this.visible},toggleHeaderFocus:function(e){var t=e.type;this.disabled||(this.isFocused="focus"===t)},updateSlotOptions:function(){this.slotOptions=this.$slots.default},checkUpdateStatus:function(){this.getInitialValue().length>0&&0===this.selectOptions.length&&(this.hasExpectedValue=!0)}},watch:{value:function(e){var t=this,n=this.getInitialValue,o=this.getOptionData,r=this.publicValue;this.checkUpdateStatus(),""===e?this.values=[]:JSON.stringify(e)!==JSON.stringify(r)&&this.$nextTick(function(){t.values=n().map(o).filter(Boolean)})},values:function(e,t){var n=JSON.stringify(e),o=JSON.stringify(t),r=this.publicValue&&this.labelInValue?this.multiple?this.publicValue.map(function(e){var t=e.value;return t}):this.publicValue.value:this.publicValue,a=n!==o&&r!==this.value;a&&(this.$emit("input",r),this.$emit("on-change",this.publicValue),this.dispatch("FormItem","on-form-change",this.publicValue))},query:function(e){var t=this;this.$emit("on-query-change",e);var n=this.remoteMethod,o=this.lastRemoteQuery,r=""!==e&&(e!==o||!o),a=n&&r&&!this.preventRemoteCall;if(this.preventRemoteCall=!1,a){this.focusIndex=-1;var i=this.remoteMethod(e);this.initialLabel="",i&&i.then&&i.then(function(e){e&&(t.options=e)})}""!==e&&this.remote&&(this.lastRemoteQuery=e)},loading:function(e){!1===e&&this.updateSlotOptions()},isFocused:function(e){var t=this.filterable?this.$el.querySelector('input[type="text"]'):this.$el;t[this.isFocused?"focus":"blur"]();var n=Object(f["a"])(this.values,1),o=n[0];if(o&&this.filterable&&!this.multiple&&!e){var r=String(o.label||o.value).trim();r&&this.query!==r&&(this.preventRemoteCall=!0,this.query=r)}},focusIndex:function(e){if(!(e<0||this.autoComplete)){var t=this.flatOptions[e].componentOptions.propsData.value,n=ve(this,function(e){var n=e.$options;return"select-item"===n.componentName&&n.propsData.value===t}),o=n.$el.getBoundingClientRect().bottom-this.$refs.dropdown.$el.getBoundingClientRect().bottom,r=n.$el.getBoundingClientRect().top-this.$refs.dropdown.$el.getBoundingClientRect().top;o>0&&(this.$refs.dropdown.$el.scrollTop+=o),r<0&&(this.$refs.dropdown.$el.scrollTop+=r)}},dropVisible:function(e){this.broadcast("Drop",e?"on-update-popper":"on-destroy-popper")},selectOptions:function(){this.hasExpectedValue&&this.selectOptions.length>0&&(0===this.values.length&&(this.values=this.getInitialValue()),this.values=this.values.map(this.getOptionData).filter(Boolean),this.hasExpectedValue=!1),this.slotOptions&&0===this.slotOptions.length&&(this.query="")},visible:function(e){this.$emit("on-open-change",e)}}},xe=Ie,je=(n("7f78"),Object(S["a"])(xe,h,m,!1,null,null,null));je.options.__file="select.vue";var De=je.exports,Te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{class:e.classes,on:{click:function(t){return t.stopPropagation(),e.select(t)},touchend:function(t){return t.stopPropagation(),e.select(t)},mousedown:function(e){e.preventDefault()},touchstart:function(e){e.preventDefault()}}},[e._t("default",[e._v(e._s(e.showLabel))])],2)},Oe=[],Ne="ivu-select-item",Se={name:"iOption",componentName:"select-item",mixins:[V],props:{value:{type:[String,Number],required:!0},label:{type:[String,Number]},disabled:{type:Boolean,default:!1},selected:{type:Boolean,default:!1},isFocused:{type:Boolean,default:!1}},data:function(){return{searchLabel:"",autoComplete:!1}},computed:{classes:function(){var e;return["".concat(Ne),(e={},Object(a["a"])(e,"".concat(Ne,"-disabled"),this.disabled),Object(a["a"])(e,"".concat(Ne,"-selected"),this.selected&&!this.autoComplete),Object(a["a"])(e,"".concat(Ne,"-focus"),this.isFocused),e)]},showLabel:function(){return this.label?this.label:this.value},optionLabel:function(){return this.label||this.$el&&this.$el.textContent}},methods:{select:function(){if(this.disabled)return!1;this.dispatch("iSelect","on-select-selected",{value:this.value,label:this.optionLabel}),this.$emit("on-select-selected",{value:this.value,label:this.optionLabel})}},mounted:function(){var e=j(this,"iSelect");e&&(this.autoComplete=e.autoComplete)}},$e=Se,Pe=Object(S["a"])($e,Te,Oe,!1,null,null,null);Pe.options.__file="option.vue";Pe.exports;var Le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{directives:[{name:"show",rawName:"v-show",value:!e.hidden,expression:"!hidden"}],class:[e.prefixCls+"-wrap"]},[n("div",{class:[e.prefixCls+"-title"]},[e._v(e._s(e.label))]),n("ul",[n("li",{ref:"options",class:[e.prefixCls]},[e._t("default")],2)])])},Me=[],Re="ivu-select-group",Ee={name:"OptionGroup",props:{label:{type:String,default:""}},data:function(){return{prefixCls:Re,hidden:!1}},methods:{queryChange:function(){var e=this;this.$nextTick(function(){for(var t=e.$refs.options.querySelectorAll(".ivu-select-item"),n=!1,o=0;o<t.length;o++)if("none"!==t[o].style.display){n=!0;break}e.hidden=!n})}},mounted:function(){var e=this;this.$on("on-query-change",function(){return e.queryChange(),!0})}},Be=Ee,Ve=Object(S["a"])(Be,Le,Me,!1,null,null,null);Ve.options.__file="option-group.vue";Ve.exports;var Ae=De,ze=n("1516"),Ue=n.n(ze),qe=n("db54"),Fe=n("5d0b"),Ke=n("aa15"),He={name:"node-edit-board",components:{Editor:c["a"],configComponent:l["a"],chooseProject:p["a"],draggable:Ue.a,customComponentEdit:qe["a"],selectComponent:Ae,tagSelector:Fe["a"]},props:{value:Boolean,node:Object,nodeManager:Object,isFirst:{type:Boolean,required:!1,default:!1},docID:{type:String|Number},projectId:String},watch:{"node.nestProjectId":function(){this.node.nestProjectId||(this.node.nestProjectTitle=!1,this.node.repeatFlag=!1)}},computed:{inputType:function(){switch(this.selectType){case"singleSelect":return"单选";case"multiSelect":return"多选";case"multiInput":return"多填";case"judge":return"判断";case"common":return"共用包";default:return"其它"}},componentList:function(){return this.$store.state.component.list},customComponentList:function(){return this.$store.state.component.cList},componentAllList:function(){return Object(s["a"])(this.$store.state.component.list).concat(Object(s["a"])(this.$store.state.component.cList))},componentQuestion:function(){return this.$store.state.component.question},componentOptions:function(){return this.$store.state.component.options},parentIsOption:function(){var e=this.nodeManager.nodeMap.get(this.node.parentUuid);return!!e&&2===+e.type},currentCompany:function(){return this.$store.state.user.currentCompany}},data:function(){var e=function(e,t,n){var o=/^[a-zA-Z\$_][a-zA-Z\d_]*$/;o.test(t)?n():n(new Error("变量名需以字母、$或_开头"))};return{tabs:"edit",rootProject:0,columnsEditList:[],showModule:!0,codeDraft:"",codeType:"common",showEditor:!1,showComponentEditor:!1,showControlEditor:!1,EditorLoaded:!1,ControlEditorLoaded:!1,updateTimer:null,selectType:"judge",count:[0,1,2],viewTableData:[],showRejectionConditionEditor:!1,control:{show:!1,title:"显示逻辑",key:"showCondition",content:"",contentNote:"",node:{}},controls:[{title:"显示逻辑",key:"showCondition"},{title:"翻译逻辑",key:"translationCondition"},{title:"结束条件",key:"jumpCondition"},{title:"权限配置",key:"permissionCondition"},{title:"验证逻辑",key:"validateCondition"},{title:"输入方式",key:"componentInputType"}],move:{show:!1,node:{},action:3,moveAndCreateCommonNode:!1,new:null,exists:null,existsList:[],children:null,childrenList:[]},ruleValidate:{customVar:[{validator:e,trigger:"change"}],title:[{required:!0,message:"标题不能为空",trigger:"change"}]},showSelectType:!1,showOptions:!1,existsCommonList:[],showCustomComponent:!1,dragging:!1,showComponentInputType:!1,ComponentInputTypeNode:null,nowSelectUUID:null,addnum:10,dataItem:null,editItem:null,tabsClose:!1,judgeComponent:null}},created:function(){var e=this;this.initData(),this.$bus.$emit("get-root-project",function(t){e.rootProject=t})},beforeDestroy:function(){},mounted:function(){var e=this;document.body.onkeydown=function(t){113===t.keyCode&&e.addOption&&e.addOption()},document.getElementById("nodeTitle")&&document.getElementById("nodeTitle").childNodes[6]&&document.getElementById("nodeTitle").childNodes[6].focus()},methods:{changeCommonTab:function(e,t){t.crossState="t"===e},onlyChange:function(e,t){var n=t.unique;for(var o in e)e[o].unique=!1;t.unique=n},editCustomComponent:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(Ke["getCompontent"])(t.id);case 2:this.editItem=e.sent,this.showCustomComponent=!0;case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),changeComponentType:function(e,t,n){},checkCode:function(e){return!!e&&""!==e.replace(/<\?/g,"").replace(/\?>/g,"").replace(/\s/g,"")},getComponentNameByComponentId:function(e){var t=!0,n=!1,o=void 0;try{for(var r,a=this.componentAllList[Symbol.iterator]();!(t=(r=a.next()).done);t=!0){var i=r.value;if(i.id===e)return i.name}}catch(e){n=!0,o=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw o}}return null},editComponentByComponentId:function(e){this.$Message.info("很遗憾，暂不允许通过此处直接编辑组件。请进入自定义组件列表进行操作。")},selectNewId:function(e){var t=e.componentId,n=e.selectUUID;n&&(n.componentId=t)},addCustomComponent:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.editItem=null,e.next=3,Object(Ke["getCompontent"])(this.componentQuestion["judge"].id);case 3:this.judgeComponent=e.sent,this.nowSelectUUID=t,this.showCustomComponent=!0;case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),ComponentInputTypeOk:function(){this.showComponentEditor=!1,this.showComponentInputType=!1,this.ComponentInputTypeNode.newComponentData&&(this.ComponentInputTypeNode.componentInfo=this.ComponentInputTypeNode.newComponentData),this.$emit("saveComponentInfo",[{id:this.node.id,componentId:this.node.componentId,componentInfo:this.node.componentInfo}])},ComponentInputTypeCancel:function(){this.showComponentEditor=!1,this.showComponentInputType=!1},updateComponentData:function(e,t){this.newComponentData=e,this.$set(t,"newComponentData",this.newComponentData)},updateCustomComponentList:function(){this.$emit("updateCustomComponentList")},moveSave:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this.move,console.log(t),e.next=4,u["default"].setProject.call(this,{nodeId:t.node.id,action:t.action,projectCode:1===t.action?t.exists:t.children,sharePackageName:t.new});case 4:n=e.sent,t.show=!1,console.log(n);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),controlQuestion:function(e,t){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.node;if("componentInputType"===t)return this.ComponentInputTypeNode=o,console.log(this.ComponentInputTypeNode),this.showComponentInputType=!0,void setTimeout(function(){n.showComponentEditor=!0},1e3);console.log(o),this.control.title=e,this.control.node=o,this.control.key=t,this.control.content=o[t]&&""!==o[t].replace(/\s+/g,"")?o[t]:"<?\n\n?>\n",this.control.contentNote=o[t+"Note"],this.control.show=!0,this.showControlEditor=!0},save:function(e){var t;e.node[e.key]=e.content,e.node[e.key+"Note"]=e.contentNote,e.show=!1,this.$emit("saveCode",(t={id:e.node.id,conditionType:e.key},Object(a["a"])(t,e.key,e.content),Object(a["a"])(t,e.key+"Note",e.contentNote),t))},addOption:function(e,t){var n=this.componentOptions.input.id;this.node.componentId===this.componentQuestion["singleSelect"].id?n=this.componentOptions["singleSelect-option"].id:this.node.componentId===this.componentQuestion["multiSelect"].id?n=this.componentOptions["multiSelect-option"].id:this.node.componentId===this.componentQuestion["judge"].id&&(n=this.componentOptions["judge-option"].id),this.$emit("addOption",new d["a"]({name:"addOption",event:e,vn:this.$vnode,params:{node:this.node,componentId:n}}))},deleteOption:function(e,t,n){this.node.children&&this.$emit("deleteOption",new d["a"]({name:"deleteOption",event:n,vn:this.$vnode,params:{node:this.node.children.splice(t,1)[0]}}))},editorMounted:function(){this.EditorLoaded=!0},ControlEditorMounted:function(){this.ControlEditorLoaded=!0},tabTo:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.tabs=e,this.tabsClose=t,"config"===e?(n&&this.$emit("saveToGetCode",!1,!0),this.viewTableData=this.node.children):"edit"===e&&this.initOptions()},initOptions:function(){var e=4-this.node.children.length;if(e>0){var t=this.componentOptions.input.id;this.node.componentId===this.componentQuestion["singleSelect"].id?t=this.componentOptions["singleSelect-option"].id:this.node.componentId===this.componentQuestion["multiSelect"].id?t=this.componentOptions["multiSelect-option"].id:this.node.componentId===this.componentQuestion["judge"].id&&(t=this.componentOptions["judge-option"].id);for(var n=0;n<e;n++)this.$emit("addOption",new d["a"]({name:"addOption",event:null,vn:this.$vnode,params:{node:this.node,componentId:t}}))}},clickTypeButton:function(e,t){switch(this.selectType=e,"common"!==e&&(this.node.nestProjectId=null,this.node.crossState=!1),e){case"judge":for(var n in this.node.componentId=this.componentQuestion[e].id,this.node.children)this.node.children[n].componentId=this.componentOptions["judge-option"].id;this.showSelectType=!1,this.showOptions=!0;break;case"singleSelect":for(var o in this.node.componentId=this.componentQuestion[e].id,this.node.children)this.node.children[o].componentId=this.componentOptions["singleSelect-option"].id;this.showSelectType=!1,this.showOptions=!0;break;case"multiSelect":for(var r in this.node.componentId=this.componentQuestion[e].id,this.node.children)this.node.children[r].componentId=this.componentOptions["multiSelect-option"].id;this.showSelectType=!1,this.showOptions=!0,this.showEditor=!0;break;case"multiInput":for(var a in this.node.componentId=this.componentQuestion[e].id,this.node.children)null!==this.node.children[a].componentId&&""!==this.node.children[a].componentId&&this.node.children[a].componentId!==this.componentOptions["judge-option"].id&&this.node.children[a].componentId!==this.componentOptions["singleSelect-option"].id&&this.node.children[a].componentId!==this.componentOptions["multiSelect-option"].id||(this.node.children[a].componentId=this.componentOptions.input.id);this.showSelectType=!0,this.showOptions=!0;break;case"common":this.showSelectType=!1,this.showOptions=!1;break;case"other":this.showSelectType=!1,this.showOptions=!1,null!==this.node.componentId&&""!==this.node.componentId&&this.node.componentId!==this.componentQuestion["multiSelect"].id&&this.node.componentId!==this.componentQuestion["singleSelect"].id&&this.node.componentId!==this.componentQuestion["judge"].id&&this.node.componentId!==this.componentQuestion["multiInput"].id||(this.node.componentId=this.componentOptions.input.id);break}},inputSelectChange:function(e){arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.node},clickButton:function(e){this.codeType=e.type},chooseMenu:function(e){this.choose=e},initData:function(){if(this.node.nestProjectId)return this.selectType="common",void this.clickTypeButton(this.selectType);if(null===this.node.componentId)return this.node.componentId=this.componentQuestion["judge"].id,this.selectType="judge",void this.clickTypeButton(this.selectType);this.tabTo("config",!1,!1);var e=this.node.componentId,t=!1;for(var n in this.componentQuestion)if(this.componentQuestion[n]&&this.componentQuestion[n].id===e){this.selectType=n,t=!0;break}t||(this.selectType="other"),this.clickTypeButton(this.selectType,!0)},handleAdd:function(){this.count.length?this.count.push(this.count[this.count.length-1]+1):this.count.push(0)},handleClose2:function(e,t){var n=this.count.indexOf(t);this.count&&this.count.splice(n,1)},updateChild:function(e,t,n){var o=this;if(!this.isFirst){t&&(t[n]=e?1:0),this.updateTimer&&(clearTimeout(this.updateTimer),this.updateTimer=null);var r=[this.node];this.updateTimer=setTimeout(function(){o.$emit("update",{name:"update",data:{nodes:r}}),console.log("更新了节点")},600)}},checkKeyUp:function(e,t,n){var o=this;if(!this.$bus.inputing&&e.ctrlKey){var r="";switch(e.key){case"ArrowUp":r="focus__"+(t-1)+"__"+n;break;case"ArrowDown":r="focus__"+(t+1)+"__"+n;break;case"ArrowLeft":r="focus__"+t+"__"+(n-1);break;case"ArrowRight":r="focus__"+t+"__"+(n+1);break;case"Enter":r="focus__"+(t+1)+"__1";break}if(r){var a=this.$refs.optionTable.querySelector("."+r);a||"Enter"!==e.key||this.addOption(e),this.$nextTick(function(){a=o.$refs.optionTable.querySelector("."+r),a&&a.__vue__.focus()})}}}}},We=He,Qe=(n("7a0d"),Object(S["a"])(We,o,r,!1,null,null,null));Qe.options.__file="node-edit-board.vue";var Ge=Qe.exports;t["a"]=Ge},"88f9":function(e,t,n){"use strict";n.r(t);n("6762"),n("2fdb"),n("28a5"),n("96cf");var o=n("3040"),r=n("aa15"),a={list:[],cList:[],question:{singleSelect:null,multiSelect:null,judge:null,multiInput:null,tree:null},options:{"singleSelect-option":null,"multiSelect-option":null,"judge-option":null,input:null}},i={},s={init:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,Object(r["getSimpleList"])({type:1});case 3:if(o=e.sent,!o){e.next=9;break}n("setList",o),console.log("组件载入完毕"),e.next=10;break;case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),customComponentList:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t,n){var o,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return o=t.commit,e.next=3,Object(r["getSimpleList"])({type:2,relationComponentAOList:n});case 3:if(a=e.sent,!a){e.next=8;break}o("setCustomComponentList",a),e.next=9;break;case 8:return e.abrupt("return",!1);case 9:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},c={setList:function(e,t){for(var n in t)if(1===t[n].type&&t[n].otherConfig){var o=t[n].otherConfig.split(";");o.includes("singleSelect")?e.question["singleSelect"]=t[n]:o.includes("multiSelect")?e.question["multiSelect"]=t[n]:o.includes("judge")?e.question["judge"]=t[n]:o.includes("multiInput")?e.question["multiInput"]=t[n]:o.includes("tree")?e.question["tree"]=t[n]:o.includes("singleSelect-option")?e.options["singleSelect-option"]=t[n]:o.includes("multiSelect-option")?e.options["multiSelect-option"]=t[n]:o.includes("judge-option")?e.options["judge-option"]=t[n]:o.includes("input")&&(e.options["input"]=t[n])}e.list=t},setCustomComponentList:function(e,t){e.cList=t},addList:function(e,t){e.list.push(t)}};t["default"]={namespaced:!0,state:a,getters:i,actions:s,mutations:c}},"8a74":function(e,t,n){},"8ad5":function(e,t,n){},"8b88":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.hideProjectTree,expression:"hideProjectTree"}],staticClass:"project-tree",on:{mouseleave:e.hideProjectTree}},[n("div",{ref:"chooseButton",staticClass:"choose-button",on:{mouseenter:e.openProjectTree}},[n("Button",{staticClass:"button",attrs:{size:e.size,title:e.currentData.name}},[e.currentData.code?n("span",{staticClass:"node-name",class:1===e.currentData.type?"node-name-project":"node-name-package"},[e._v("\n        "+e._s(e.currentData.code)+"\n      ")]):e._e(),e._v("\n      "+e._s(e.currentData.name||"未选择")+"\n      "),e.currentData.name&&e.clearAble?n("span",{staticClass:"clear-node-name",on:{click:function(t){return t.stopPropagation(),e.clearChoose(t)}}},[n("Icon",{attrs:{type:"md-close"}})],1):e._e()])],1),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showTree,expression:"showTree"}],ref:"popContainer",staticClass:"pop-container",on:{mouseleave:e.hideProjectTree}},[n("my-tree",{staticClass:"tree",attrs:{indentLimit:40,treeData:e.projectData},on:{"content-click":e.handleNodeClick},scopedSlots:e._u([{key:"default",fn:function(t){t.parentData;var o=t.data;return n("div",{class:{"node-content":!0,"invalid-choose":e.excludeList.includes(o.id)}},[n("div",{staticClass:"node-code",class:1===o.type?"node-name-project":"node-name-package"},[e._v(e._s(o.code))]),n("div",{staticClass:"node-name",attrs:{title:o.name}},[e._v(e._s(o.name))])])}}])})],1)])},r=[],a=n("3d22"),i=a["a"],s=(n("a1dc"),n("2877")),c=Object(s["a"])(i,o,r,!1,null,"f11259e6",null);c.options.__file="choose-project.vue";var u=c.exports;t["a"]=u},"8c9b":function(e,t,n){},"8d8b":function(e,t,n){"use strict";n.r(t);n("96cf");var o=n("3040"),r=(n("cadf"),n("551c"),n("097d"),n("6b6c"));t["default"]={validate:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t,n){var o,a,i,s,c,u,d,l;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if("big"!==t){e.next=10;break}if("public"!==n){e.next=6;break}return o=r["a"].post("/mvp-front/bigForm/validate"),a=o.data,e.abrupt("return",a);case 6:return i=r["a"].post("/mvp-manager/bigForm/validate"),s=i.data,e.abrupt("return",s);case 8:e.next=17;break;case 10:if("public"!==n){e.next=15;break}return c=r["a"].post("/mvp-front/questionnaire/validate"),u=c.data,e.abrupt("return",u);case 15:return d=r["a"].post("/mvp-manager/questionnaire/validate"),l=d.data,e.abrupt("return",l);case 17:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()}},9143:function(e,t,n){},9224:function(e){e.exports={name:"newsystem",version:"1.0.25",private:!0,scripts:{start:"node docker/run.js",serve:"vue-cli-service serve",build:"vue-cli-service build",lint:"vue-cli-service lint","lint:fix":"vue-cli-service lint --fix",release:"node release.js","test:unit":"vue-cli-service test:unit","test:e2e":"vue-cli-service test:e2e"},dependencies:{axios:"^0.18.0",backbone:"^1.3.3","hey-utils":"^0.4.0",iview:"git://github.com/yi-ge/iview.git#2.0",jquery:"^3.3.1","js-base64":"^2.4.9","js-tree-list":"^1.2.2",lodash:"^4.17.11","mavon-editor":"^2.6.17",mime:"^2.3.1",moment:"^2.22.2","monaco-editor":"https://github.com/lvpinhui/monaco-editor.git",qs:"^6.5.2","register-service-worker":"^1.5.2",showdown:"^1.8.6","socket.io":"^2.1.1","tui-code-snippet":"^1.4.0","tui-date-picker":"^3.2.0","tui-grid":"^3.1.0","unlazy-loader":"^0.1.3",vue:"^2.5.17","vue-router":"^3.0.1",vuedraggable:"^2.16.0",vuex:"^3.0.1",xlsx:"^0.14.0"},devDependencies:{"@vue/cli-plugin-babel":"^3.0.3","@vue/cli-plugin-e2e-cypress":"^3.0.3","@vue/cli-plugin-eslint":"^3.0.3","@vue/cli-plugin-pwa":"^3.0.3","@vue/cli-plugin-unit-jest":"^3.0.3","@vue/cli-service":"^3.0.3","@vue/eslint-config-standard":"^3.0.3","@vue/test-utils":"^1.0.0-beta.25",archiver:"^3.0.0","babel-core":"7.0.0-bridge.0","babel-jest":"^23.6.0","babel-loader":"^8.0.2",chalk:"^2.4.1","cos-nodejs-sdk-v5":"^2.4.10",dockerode:"^2.5.7","fmt-obj":"^2.0.0","iview-loader":"^1.2.2","lint-staged":"^7.2.0","monaco-editor-webpack-plugin":"^1.5.3",ora:"^3.0.0",pug:"^2.0.3","pug-plain-loader":"^1.0.0",readline:"^1.3.0","readline-sync":"^1.4.9","single-line-log":"^1.1.2",stylus:"^0.54.5","stylus-loader":"^3.0.2","vue-template-compiler":"^2.5.17"},eslintConfig:{root:!0,env:{node:!0},extends:["plugin:vue/essential","@vue/standard"],rules:{"vue/no-parsing-error":[2,{"x-invalid-end-tag":!1}],"no-debugger":0},parserOptions:{parser:"babel-eslint"},globals:{$:!0,_:!0,jquery:!0,jQuery:!0,_vue:!0,Backbone:!0,tui:!0}},postcss:{plugins:{autoprefixer:{}}},browserslist:["> 1%","last 2 versions","not ie <= 8"],jest:{moduleFileExtensions:["js","jsx","json","vue"],transform:{"^.+\\.vue$":"vue-jest",".+\\.(css|styl|less|sass|scss|png|jpg|ttf|woff|woff2)$":"jest-transform-stub","^.+\\.jsx?$":"babel-jest"},moduleNameMapper:{"^@/(.*)$":"<rootDir>/src/$1"},snapshotSerializers:["jest-serializer-vue"],testMatch:["**/tests/unit/**/*.spec.(js|jsx|ts|tsx)|**/__tests__/*.(js|jsx|ts|tsx)"],testURL:"http://localhost/"},gitHooks:{"pre-commit":"lint-staged"},"lint-staged":{"*.js":["vue-cli-service lint","git add"],"*.vue":["vue-cli-service lint","git add"]}}},9238:function(e,t,n){},"94a0":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OEJGMjU5MDlEMTE5MTFFODlGNTM4MkNDRkI5QTVEQkMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OEJGMjU5MEFEMTE5MTFFODlGNTM4MkNDRkI5QTVEQkMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpCNEM0MjJDMkQxMDkxMUU4OUY1MzgyQ0NGQjlBNURCQyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4QkYyNTkwOEQxMTkxMUU4OUY1MzgyQ0NGQjlBNURCQyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PiXiC+cAAAHySURBVHjajJTNS1RRGMZnximbmkI0IpMwSYTUPhYSNYvAVeiuhctc2iKSqFULW9RfIAh+tNOaRRvdtGlVUAy0GEIQ8yNmECaUyMrRphpTfy88F06HGeYe+PGe8957nnvOc95zo8XJa5EQrR5iUPIfJIcy/41jVQTOQdQZH4cGL3eo0sRKgnHIibhyUe/9s3AFEmEE9xRb4bEjaPzTapvhr8ZVBWOO4KD6I4pb8Fv9M1rZF4lGtqeux3yR0zI8D7dhBsbgpZ6b2Kb6P2XHV/MVsRSxj3gy4nhUhBXogmnogHtVDmxd0badkoaJ/3IFd6AbHsJdaAxRSnFZkaN0VoNkNGQdVm1+HdpX+uAp1MFReAUPQup14t0l4h/VZTauA7kIh/XSZ5XIfgjBY7KnrANOuFu2Ly075RF6y6zSRLfo7/oeXoVH8BrGa2hdgBuQQWje9TC4l09gWD4uhtxuD7SzwixxDuFSIHgC7sAajMIE9OqHMOsJmUgS3sieXtWjHXc+EPym5HfYgPMq8E8S7Icm3aCbErGbY1tdglOsruBuOaLJwY/AfDwCaeVuQRu8UFnZjRqwikDILkWh1u/rMnyA58pt62q1wEd4p6poqjTZb1ZT93UwZeUSeveHxs/grTyvKWjtvTdO6+CKzkcXKk08EGAApXR8rc57j5AAAAAASUVORK5CYII="},9569:function(e,t,n){"use strict";var o=n("8a74"),r=n.n(o);r.a},"95d4":function(e,t,n){"use strict";var o=n("2a86"),r=n.n(o);r.a},"961a":function(e,t,n){},"974a":function(e,t,n){},"98a4":function(e,t,n){"use strict";function o(e,t,n){var o,r,i,s,c,u,d,l,p=t.value||{width:!0,height:!0},h="",m=getComputedStyle(e).getPropertyValue("position");"static"===m&&(e.style.position="relative"),e._dragResizeMouseMove=function(t){var n=document.body.clientWidth,a=document.body.clientHeight,p=0,m=0,f=c,g=n-u,v=Math.min(0,-1*(i-20)),b=d,y=a-l,C=Math.min(0,-1*(s-20));"left"===h||"right"===h?(p=t.clientX-o,p="right"===h?p:-1*p,p=Math.max(p,v)):(m=t.clientY-r,m="bottom"===h?m:-1*m,m=Math.max(m,C));var w={};for(var k in"left"===h?(p=Math.min(f,p),w["width"]=i+p,w["left"]=c-p):"right"===h?(p=Math.min(g,p),w["width"]=i+p,w["left"]=c):"top"===h?(m=Math.min(b,m),w["height"]=s+m,w["top"]=d-m):"bottom"===h&&(m=Math.min(y,m),w["height"]=s+m,w["top"]=d),w)w[k]=Math.round(w[k]);w["width"]&&(e.style["width"]=w["width"]+"px",e.style["left"]=w["left"]+"px",e.style["right"]="auto"),w["height"]&&(e.style["height"]=w["height"]+"px",e.style["top"]=w["top"]+"px",e.style["bottom"]="auto")},e._dragResizeMouseDown=function(t){t.preventDefault();var n=e.getBoundingClientRect(),a=t.target;h=a._directionType,o=t.clientX,r=t.clientY,i=n.width,s=n.height,c=n.left,u=n.right,d=n.top,l=n.bottom,document.removeEventListener("mousemove",e._dragResizeMouseMove),document.addEventListener("mousemove",e._dragResizeMouseMove),document.removeEventListener("mouseup",e._dragResizeMouseUp),document.addEventListener("mouseup",e._dragResizeMouseUp)},e._dragResizeMouseUp=function(t){document.removeEventListener("mousemove",e._dragResizeMouseMove),document.removeEventListener("mouseup",e._dragResizeMouseUp)},e._childList={},p.width&&(e._childList.left=a(e,"left"),e._childList.right=a(e,"right")),p.height&&(e._childList.top=a(e,"top"),e._childList.bottom=a(e,"bottom"))}function r(e,t,n){for(var o in e._childList){var r=e._childList[o];r.removeEventListener("mousedown",e._dragResizeMouseDown),e.removeChild(r)}delete e._childList,document.removeEventListener("mousemove",e._dragResizeMouseMove),document.removeEventListener("mouseup",e._dragResizeMouseUp),delete e._dragResizeMouseMove,delete e._dragResizeMouseup,delete e._dragResizeMouseDown}function a(e,t){var n,o,r,a,i,s="20px",c="0",u="0",d=document.createElement("div");d._directionType=t,n=o="100%",a=i="auto","left"===t||"right"===t?(n=s,r="w-resize",u="left"===t?"-50%":"50%",i="0"):(o=s,r="n-resize",c="top"===t?"-50%":"50%",a="0");var l={height:o,width:n,top:i,left:a,cursor:r,position:"absolute","z-index":"-1",transform:"translate(".concat(u,", ").concat(c,")")};for(var p in l[t]="0",l)d.style[p]=l[p];return e.appendChild(d),d.addEventListener("mousedown",e._dragResizeMouseDown),d}n.r(t),t["default"]={bind:o,unbind:r}},"993c":function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"helper"},[n("div",{staticClass:"helper-header"},[n("div",{staticClass:"header-title"},[e._v("小助手")]),n("div",{staticClass:"header-devide"}),n("div",{staticClass:"header-menu-list",on:{mousedown:function(e){e.stopPropagation()}}},[n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.hideMore,expression:"hideMore"}],staticClass:"header-menu"},[n("Icon",{staticClass:"icon",attrs:{type:"md-more"},on:{click:e.showMore}}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showMenuMore,expression:"showMenuMore"}],staticClass:"more"},[n("div",{staticClass:"more-item",on:{click:function(t){t.stopPropagation(),e.changeShowPosition("bottom")}}},[e._v("放置在下")]),n("div",{staticClass:"more-item",on:{click:function(t){t.stopPropagation(),e.changeShowPosition("left")}}},[e._v("放置在左")]),n("div",{staticClass:"more-item",on:{click:function(t){t.stopPropagation(),e.changeShowPosition("right")}}},[e._v("放置在右")])])],1),n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.hideSetting,expression:"hideSetting"}],staticClass:"header-menu"},[n("Icon",{staticClass:"icon",attrs:{type:"md-settings"},on:{click:e.showSetting}}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showMenuSetting,expression:"showMenuSetting"}],staticClass:"more"},[n("div",{staticClass:"more-item",on:{click:function(t){t.stopPropagation(),e.setOpen("auto")}}},[e._v("自动弹出")]),n("div",{staticClass:"more-item",on:{click:function(t){t.stopPropagation(),e.setOpen("manual")}}},[e._v("手动打开")])])],1),n("div",{staticClass:"header-menu"},[n("Icon",{attrs:{type:"ios-close"}})],1)])]),n("div",{staticClass:"helper-content"},[n("div",{staticClass:"resource-list"},e._l(e.componentInfo,function(t,o){return n("div",{key:o,class:{resource:!0,"current-menu":!0},on:{click:function(t){t.stopPropagation(),e.showMenu(o)}}},[e._v("\n        "+e._s(t.title)+"\n      ")])})),e._l(e.resourceList,function(t,o){return n("div",{key:o,staticClass:"resource-tab"},[n("div",{staticClass:"resource-header"},[e._l(t.list,function(t,o){return n("div",{key:o,staticClass:"resource-title"},[e._v("\n          "+e._s(e.componentInfo[t].title)+"\n          "),n("Icon",{attrs:{type:"ios-close"}})],1)}),n("div",{staticClass:"resource-devide"}),n("div",{staticClass:"resource-menu"},[t.list.length>1?n("div",{staticClass:"devide-page-button",attrs:{title:"向右分页"}},e._l(2,function(e){return n("div",{key:e,staticClass:"devide-page-box"})})):e._e()])],2),n("div",{staticClass:"component"},[n(e.componentInfo[t.current].component,e._b({tag:"component"},"component",e.componentInfo[t.current].props,!1))],1)])})],2)])},r=[],a=(n("6762"),n("2fdb"),n("ac4d"),n("8a81"),n("ac6a"),n("c508")),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"shortcut-key-page"},[n("div",{staticClass:"title"},[e._v("快捷键、图标操作简明介绍")]),n("div",{staticClass:"content"},e._l(e.keyInfo,function(t,o,r){return n("div",{key:o,staticClass:"content-item"},[n("div",{staticClass:"content-title"},[e._v(e._s(r+1)+". "+e._s(t.title))]),n("div",{staticClass:"content-list"},[n("div",{staticClass:"content-keys"},e._l(t.keyList,function(t,o){return n("Row",{key:o,staticClass:"content-row",attrs:{type:"flex",align:"middle",justify:"center"}},[n("Col",{staticClass:"content-col left",attrs:{span:10}},[e._v(e._s(t[0]))]),n("Col",{staticClass:"content-col right",attrs:{span:14}},[e._v(e._s(t[1]))])],1)})),n("div",{staticClass:"content-icons"},e._l(t.iconList,function(t,o){return n("Row",{key:o,staticClass:"content-row",attrs:{type:"flex",align:"middle",justify:"center"}},[n("Col",{staticClass:"content-col left",attrs:{span:10}},["$"===t[0][0]?n("div",{domProps:{innerHTML:e._s(t[0].slice(1))}}):n("Icon",{attrs:{type:t[0]}})],1),n("Col",{staticClass:"content-col right",attrs:{span:14}},[e._v(e._s(t[1]))])],1)}))])])}))])},s=[],c={helper:{key:"helper",title:"小助手",keyList:[["Ctrl + Shift + Z","唤醒/隐藏小助手"],["Ctrl + Shift + X","最小化/最大化小助手"],["Ctrl + Shift + A","显示/隐藏小助手资源管理器"],["Ctrl + Shift + S","向右分页"],["Alt + 数字","切换到助手对应tab页"]],iconList:[["ios-help-circle-outline","打开/关闭小助手"]]},nodeEditBoard:{key:"nodeEditBoard",title:"选项配置框",keyList:[["UpArrow","光标焦点向上一个选项移动"],["DownArrow","光标焦点向下一个选项移动"],["LeftArrow","光标焦点向左输入框移动"],["RightArrow","光标焦点向右输入框移动"],["Enter","光标焦点向下一个选项移动，如果没有则新建选项"],["F2","新增选项"]]},nodeTree:{key:"nodeTree",title:"节点树操作",iconList:[["md-add-circle","添加同级问题"],["md-add","添加子问题"],["md-trash","删除问题"],["md-link","移动到共用包或项目"]]},projectTree:{key:"projectTree",title:"项目树操作",iconList:[["md-add-circle","添加同级项目或共用包"],["md-add","添加子级项目或共用包"],["md-trash","删除项目或共用包"]]},page:{key:"page",title:"脑图页面操作",keyList:[["Ctrl + Alt + A / K","打开/关闭项目树、节点树自由宽度模式"]],iconList:[["md-settings","编辑当前项目或共用包基本信息"],["md-code-working","折叠/展开"],["md-play","测试当前项目或共用包做题"],["md-book","查看本项目做题记录"],["md-document","编写报告"],["md-expand","启用/关闭全屏编辑"],["md-search","搜索节点树"]]},reportTree:{key:"reportTree",title:"编写报告",iconList:[["md-add-circle","添加同级报告或章节节点"],["md-add","添加报告或章节节点"],["md-trash","删除报告或章节节点"]],keyList:[["Ctrl + Shift + Enter","增加代码块"],["Ctrl + D","删除代码块"],["Ctrl + S","保存代码块"],["Ctrl + Enter","测试代码块"]]}},u={showTitle:"快捷键",data:function(){return{keyInfo:c}},computed:{},mounted:function(){},methods:{update:function(){}}},d=u,l=(n("7027"),n("2877")),p=Object(l["a"])(d,i,s,!1,null,"52686aa1",null);p.options.__file="shortcutKeys.vue";var h=p.exports,m=h,f={data:function(){return{showMenuMore:!1,showMenuSetting:!1,show:!0,componentInfo:{},resourceList:[],conflictInfo:[["codeTest","nodeTree"]]}},mounted:function(){this.$bus.$on("pop-helper-update-prop",this.updateProps),this.$bus.$on("pop-helper-register-component",this.registerComponent),this.$bus.$on("pop-helper-unregister-component",this.unregisterComponet),this.registerDefault()},beforeDestroy:function(){this.$bus.$off("pop-helper-update-prop"),this.$bus.$off("pop-helper-register-component"),this.$bus.$off("pop-helper-unregister-component"),this.unregisterDefault()},methods:{registerDefault:function(){var e={title:"网盘",component:a["a"]};this.registerComponent("networkDisk",e),e={title:"快捷键",component:m},this.registerComponent("shortcutKey",e)},unregisterDefault:function(){this.unregisterComponet("networkDisk"),this.unregisterComponet("shortcutKey")},registerComponent:function(e,t){if(!this.componentInfo[e]){var n={title:t.title||"",component:t.component,props:t.props||{}};this.$set(this.componentInfo,e,n)}},unregisterComponet:function(e){this.componentInfo[e]&&(this.closeMenu(e),delete this.componentInfo[e])},updateProps:function(e,t){if(this.componentInfo[e])for(var n in t)this.$set(this.componentInfo[e].props,n,t[n])},showMenu:function(e){var t=[],n=!0,o=!1,r=void 0;try{for(var a,i=this.resourceList[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var s=a.value;if(s.list.includes(e))return void(s.current=e);this.checkConflict(e,s.list)||t.push(s)}}catch(e){o=!0,r=e}finally{try{n||null==i.return||i.return()}finally{if(o)throw r}}t.length?(t[0].list.push(e),t[0].current=e):this.resourceList.push({current:e,list:[e]})},closeMenu:function(e){var t=[],n=!0,o=!1,r=void 0;try{for(var a,i=this.resourceList[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var s=a.value,c=s.list.indexOf(e);-1!==c&&(s.list.splice(c,1),s.list.length||t.push(s))}}catch(e){o=!0,r=e}finally{try{n||null==i.return||i.return()}finally{if(o)throw r}}for(var u=0;u<t.length;u++){var d=t[u],l=this.resourceList.indexOf(d);-1!==l&&this.resourceList.splice(l,1)}},splitPage:function(e){var t=this.resourceList[e];if(!(t.list.length<2)){var n=t.current,o=t.list.indexOf(n);-1!==o&&(t.list.splice(o,1),t.current=t.list[0],this.resourceList.splice(e+1,0,{current:n,list:n}))}},checkConflict:function(e,t){var n=!0,o=!1,r=void 0;try{for(var a,i=this.conflictInfo[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var s=a.value;if(s.includes(e)){var c=!0,u=!1,d=void 0;try{for(var l,p=s[Symbol.iterator]();!(c=(l=p.next()).done);c=!0){var h=l.value;if(h!==e&&t.includes(h))return!0}}catch(e){u=!0,d=e}finally{try{c||null==p.return||p.return()}finally{if(u)throw d}}}}}catch(e){o=!0,r=e}finally{try{n||null==i.return||i.return()}finally{if(o)throw r}}return!1},showMore:function(){this.showMenuMore=!0},hideMore:function(){this.showMenuMore=!1},showSetting:function(){this.showMenuSetting=!0},hideSetting:function(){this.showMenuSetting=!1},changeShowPosition:function(e){this.hideMore(),this.$emit("change-position",e)},setOpen:function(e){this.storageSetItem("open",e),this.hideSetting()},storageSetItem:function(e,t){var n=localStorage.getItem("helperInfo"),o=n?JSON.parse(n):{};o[e]=JSON.stringify(t);var r=JSON.stringify(o);window.localStorage.setItem("helperInfo",r)},storageGetItem:function(e){var t=window.localStorage.getItem("helperInfo");if(!t)return null;var n=JSON.parse(t),o=n[e]?JSON.parse(n[e]):null;return o}}},g=f,v=(n("fbdb"),Object(l["a"])(g,o,r,!1,null,"211b17d8",null));v.options.__file="Helper.vue";var b=v.exports;t["a"]=b},9987:function(e,t,n){"use strict";var o=n("6e47"),r=n.n(o);r.a},"9a1d":function(e,t,n){},"9d9a":function(e,t,n){"use strict";n.r(t),n.d(t,"getProblemList",function(){return r}),n.d(t,"getProblemDetail",function(){return a}),n.d(t,"saveProblem",function(){return i}),n.d(t,"deleteProblem",function(){return s});var o=n("6b6c");function r(e){return o["a"].post("/mvp-manager/commonDocument/list",e).then(function(e){return e.data})}function a(e){return o["a"].post("/mvp-manager/commonDocument/detail?id=".concat(e.id)).then(function(e){return e.data})}function i(e){var t=e.id?"/mvp-manager/commonDocument/update":"/mvp-manager/commonDocument/save";return o["a"].put(t,e).then(function(e){return e.data})}function s(e){return o["a"].post("/mvp-manager/commonDocument/delete",e).then(function(e){return e.data})}},a0f0:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"editorContainer",staticClass:"editor-area",style:e.styleObject,on:{"!keydown":function(t){return("button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter"))&&t.ctrlKey?void t.stopPropagation():null}}},[e.explain.show?n("Alert",{staticClass:"explain",attrs:{type:"success",banner:""},domProps:{innerHTML:e._s(e.explain.text)}}):e._e(),n("monaco-editor",{ref:"editor",staticClass:"code-editor",class:e.error?"error":"",attrs:{language:"php",options:e.computedOptions},on:{change:e.codeChange,layout:e.layoutChange,keydown:e.keydown,editorMount:e.editorMount,focusText:e.focusText,blurText:e.blurText,keyup:e.checkKeyUp},model:{value:e.codeString,callback:function(t){e.codeString=t},expression:"codeString"}})],1)},r=[],a=(n("4917"),n("8afe")),i=(n("28a5"),n("96cf"),n("3040")),s=(n("a481"),n("f751"),n("c5f6"),n("c93e")),c={name:"MonacoEditor",props:{value:String,theme:{type:String,default:"vs"},language:String,options:Object,placeholder:null},model:{event:"change"},data:function(){return{editorLoaded:!1}},watch:{options:{deep:!0,handler:function(e){this.editor&&this.editor.updateOptions(e)}},value:{handler:function(e){this.editor&&e!==this.editor.getValue()&&this.editor.setValue(e)},deep:!0},language:function(e){this.editor&&window.monaco.editor.setModelLanguage(this.editor.getModel(),e)},theme:function(e){this.editor&&window.monaco.editor.setTheme(e)}},mounted:function(){this.init()},beforeDestroy:function(){this.editor&&this.editor.dispose()},methods:{init:function(){var e=this,t=Object(s["a"])({value:this.value,theme:this.theme,language:this.language},this.options);this.editorLoaded=!0,this.editor=this.$monaco.editor.create(this.$el,t),this.$emit("editorMount",this.editor),this.editor.onContextMenu(function(t){return e.$emit("contextMenu",t)}),this.editor.onDidChangeConfiguration(function(t){return e.$emit("configuration",t)}),this.editor.onDidChangeCursorPosition(function(t){return e.$emit("position",t)}),this.editor.onDidChangeCursorSelection(function(t){return e.$emit("selection",t)}),this.editor.onDidChangeModel(function(t){return e.$emit("model",t)}),this.editor.onDidChangeModelContent(function(t){var n=e.editor.getValue();e.value!==n&&e.$emit("change",n,t)}),this.editor.onDidChangeModelDecorations(function(t){return e.$emit("modelDecorations",t)}),this.editor.onDidChangeModelLanguage(function(t){return e.$emit("modelLanguage",t)}),this.editor.onDidChangeModelOptions(function(t){return e.$emit("modelOptions",t)}),this.editor.onDidDispose(function(t){return e.$emit("afterDispose",t)}),this.editor.onDidFocusEditorWidget(function(){return e.$emit("focus")}),this.editor.onDidBlurEditorWidget(function(){return e.$emit("blur")}),this.editor.onDidFocusEditorText(function(){return e.$emit("focusText")}),this.editor.onDidBlurEditorText(function(){return e.$emit("blurText")}),this.editor.onDidLayoutChange(function(t){return e.$emit("layout",t)}),this.editor.onDidScrollChange(function(t){return e.$emit("scroll",t)}),this.editor.onKeyDown(function(t){return e.$emit("keydown",t)}),this.editor.onKeyUp(function(t){return e.$emit("keyup",t)}),this.editor.onMouseDown(function(t){return e.$emit("mouseDown",t)}),this.editor.onMouseLeave(function(t){return e.$emit("mouseLeave",t)}),this.editor.onMouseMove(function(t){return e.$emit("mouseMove",t)}),this.editor.onMouseUp(function(t){return e.$emit("mouseUp",t)})},getMonaco:function(){return this.editor},focus:function(){this.editor.focus()}},render:function(e){return e("div",null,[this.editorLoaded?null:this.placeholder])}},u=n("1c31"),d={name:"Editor",components:{MonacoEditor:c},data:function(){return{codeString:"",styleObject:{width:"100%",height:"300px",maxHeight:"500px"},options:{language:"php",scrollBeyondLastLine:!1,wordWrap:"on",theme:"vs",minimap:{enabled:!1},wordSeparators:"`~!@#%^&*()-=+[{]}\\|;:'\",.<>/?"},selection:{},explain:{show:!1,text:""},focus:!1,pageProjectId:0,observer:null,layoutOldWidth:"",layoutTimer:0}},props:{value:{type:String,default:""},refs:{type:String},projectId:{type:[String,Number]},currentProject:{type:[String,Number],default:""},fillAll:{type:Boolean,default:!1},updateCodeTest:{type:Boolean,default:!0},heightLimit:{type:Boolean,default:!0},maxHeight:{type:Number,default:500},testSelf:{type:Boolean,default:!0},sourceType:{type:Number},error:{type:Boolean,default:!1},customOptions:{type:Object,default:function(){}}},computed:{codeProject:function(){return this.projectId||this.pageProjectId},computedOptions:function(){return Object.assign({},this.customOptions,this.options)}},created:function(){var e=this;this.codeString=this.value,null!==this.codeString&&""!==this.codeString.replace(/\s+/g,"")||(this.codeString="<?\n\n?>\n",this.$emit("input",this.codeString)),this.$bus.$emit("get-root-project",function(t){e.pageProjectId=t})},mounted:function(){var e=this,t=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;t&&(this.observer=new t(function(){e.layoutTimer||e.$refs.editor&&e.layoutOldWidth!==e.$refs.editor.$el.offsetWidth&&(e.layoutTimer=setTimeout(function(){e.layoutTimer=0,e.layout()},500))}),this.observer.observe(document.body,{attributes:!0,subtree:!0})),this.$nextTick(function(){e.$refs.editor.$el.addEventListener("dblclick",e.dblClick)})},beforeDestroy:function(){this.observer&&(this.observer.takeRecords(),this.observer.disconnect(),this.observer=null),this.$refs.editor.$el.removeEventListener("dblclick",this.dblClick)},methods:{editorMount:function(e){var t=this,n=e;n.onDidChangeCursorSelection(function(e){t.selection=e.selection}),window.monaco.languages.register({id:"mySpecialLanguage"}),window.monaco.languages.registerHoverProvider("php",{provideHover:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(n,o,r){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t.emitExplain();case 1:case"end":return e.stop()}},e,this)}));return function(t,n,o){return e.apply(this,arguments)}}()}),this.layout(),this.$emit("editorMounted")},focusText:function(e){this.$bus.$emit("show-node-tree"),this.focus=!0,this.openNodeTree()},blurText:function(){this.focus=!1,this.explain.show=!1},isHoverChoose:function(){var e=this.getMonaco();if(e){var t=e.getPosition(),n=!0;return this.isEmptyObject(this.selection)?n=!1:t.lineNumber>this.selection.endLineNumber?n=!1:t.lineNumber<this.selection.startLineNumber?n=!1:t.lineNumber===this.selection.endLineNumber&&t.column>this.selection.endColumn?n=!1:t.lineNumber===this.selection.startLineNumber&&t.column<this.selection.startColumn&&(n=!1),n}},dblClick:function(){document.execCommand("Copy","false",null),this.emitExplain()},emitExplain:function(){this.timerIndex&&clearTimeout(this.timerIndex),this.isHoverChoose()?this.timerIndex=setTimeout(this.getExplain,200):this.explain.show=!1},getExplain:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.isHoverChoose()){e.next=2;break}return e.abrupt("return");case 2:if(this.codeProject){e.next=5;break}return this.explain.show=!1,e.abrupt("return");case 5:if(t=this.getChooseText(),""!==t){e.next=9;break}return this.explain.show=!1,e.abrupt("return");case 9:return e.next=11,this.getContentsByText(t);case 11:this.explain.text=e.sent,this.explain.show=!0;case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),getChooseText:function(){if(this.isEmptyObject(this.selection))return"";var e=this.getMonaco();if(e){var t=e.getModel(),n=new window.monaco.Range(this.selection.startLineNumber,this.selection.startColumn,this.selection.endLineNumber,this.selection.endColumn),o=t.getValueInRange(n);return o}},getContentsByText:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){var n,o,r,i,s,c,d;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return","暂无信息");case 2:if(n=this.analysisCode(t),o=t,r=[],!n.length){e.next=11;break}return i={projectId:this.codeProject,variablesNames:n},e.next=9,u["default"].getTokenExplain(i);case 9:for(c in s=e.sent,s)s[c].title?o=o.replace("$"+c,s[c].title):r.push("$"+c+"：请检查变量是否存在");case 11:return d=o.split("\n"),r.unshift.apply(r,Object(a["a"])(d)),e.abrupt("return","<pre>"+r.join("<br />")+"</pre>");case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),analysisCode:function(e){if(!e)return[];var t=/\$q[p|P]?[\d|_a-zA-Z]+|\$v[p|P]?[\d|_a-zA-Z]+/g,n=e.match(t)||[];return n.map(function(e){return e.slice(1)})},codeChange:function(e,t){this.$emit("input",this.codeString),this.layout()},keydown:function(e){},layoutChange:function(e){},layout:function(){var e=this.getMonaco();if(e){var t=e.getModel().getLineCount(),n=Math.max(20*t+20,200);n=Math.min(this.maxHeight,n),this.styleObject.height=n+"px",0!==this.$refs.editor.$el.offsetWidth&&(this.layoutOldWidth=this.$refs.editor.$el.offsetWidth,e.layout({width:this.$refs.editor.$el.offsetWidth,height:n}))}},getMonaco:function(){return this.$refs.editor?this.$refs.editor.getMonaco():null},checkKeyUp:function(e){e.ctrlKey&&"Enter"===e.code&&this.openTest()},openTest:function(){this.updateCodeTest&&(this.$bus.$emit("pop-helper-update-prop","codeTest",{projectId:this.codeProject,codeList:[this.codeString]}),this.$bus.$emit("pop-helper-show-menu","codeTest"),this.$bus.$emit("code-test"))},focusEditor:function(){this.$refs.editor.focus()},openNodeTree:function(){this.$bus.$emit("pop-helper-update-prop","nodeTree",{rootId:this.codeProject}),this.$bus.$emit("pop-helper-show-menu","nodeTree")}},watch:{value:function(e,t){this.codeString=this.value,this.testSelf&&this.$bus.$emit("pop-helper-update-prop","codeTest",{projectId:this.codeProject,codeList:[this.codeString],sourceType:this.sourceType})},codeProject:function(){this.testSelf&&this.$bus.$emit("pop-helper-update-prop","codeTest",{projectId:this.codeProject,codeList:[this.codeString],sourceType:this.sourceType})}}},l=d,p=(n("ac48"),n("f5ee"),n("2877")),h=Object(p["a"])(l,o,r,!1,null,"2b0319e4",null);h.options.__file="editor.vue";var m=h.exports;t["a"]=m},a1dc:function(e,t,n){"use strict";var o=n("19cc"),r=n.n(o);r.a},a523:function(e,t,n){},a918:function(e,t,n){"use strict";var o=n("6373"),r=n.n(o);r.a},aa15:function(e,t,n){"use strict";n.r(t),n.d(t,"getSimpleList",function(){return a}),n.d(t,"getSimpleCustomList",function(){return i}),n.d(t,"saveListCompontentItemConfigData",function(){return s}),n.d(t,"saveCompontent",function(){return c}),n.d(t,"updateComponent",function(){return u}),n.d(t,"getCompontentCache",function(){return d}),n.d(t,"clearCompontentCache",function(){return l}),n.d(t,"getCompontent",function(){return p}),n.d(t,"delCompontent",function(){return h}),n.d(t,"checkName",function(){return m});n("7514"),n("96cf");var o=n("3040"),r=n("6b6c");t["default"]={saveCompontentItemConfigData:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n,o,a,i,s,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.code,o=t.uuid,a=t.configData,i=t.nodeId,e.prev=1,e.next=4,r["a"].post("/mvp-manager/component/saveCompontentItemConfigData",{code:n,uuid:o,configData:a,nodeId:i});case 4:if(s=e.sent,c=s.data,0!==c.response.code){e.next=10;break}return e.abrupt("return",c.data);case 10:return e.abrupt("return",null);case 11:e.next=17;break;case 13:return e.prev=13,e.t0=e["catch"](1),console.log(e.t0),e.abrupt("return",null);case 17:case"end":return e.stop()}},e,this,[[1,13]])}));return function(t){return e.apply(this,arguments)}}(),getList:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r["a"].post("/mvp-manager/component/list",{type:null});case 3:if(t=e.sent,200!==t.status||0!==t.data.response.code){e.next=8;break}return e.abrupt("return",t.data.data);case 8:return e.abrupt("return",null);case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e["catch"](0),console.log(e.t0),e.abrupt("return",null);case 15:case"end":return e.stop()}},e,this,[[0,11]])}));return function(){return e.apply(this,arguments)}}()};var a=function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r["a"].post("/mvp-manager/component/listComponent",t);case 3:if(n=e.sent,200!==n.status||0!==n.data.response.code){e.next=8;break}return e.abrupt("return",n.data.data);case 8:return e.abrupt("return",null);case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e["catch"](0),console.log(e.t0),e.abrupt("return",null);case 15:case"end":return e.stop()}},e,this,[[0,11]])}));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r["a"].post("/mvp-manager/component/listCustomComponent",t);case 3:if(n=e.sent,200!==n.status||0!==n.data.response.code){e.next=8;break}return e.abrupt("return",n.data.data);case 8:return e.abrupt("return",null);case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e["catch"](0),console.log(e.t0),e.abrupt("return",null);case 15:case"end":return e.stop()}},e,this,[[0,11]])}));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r["a"].post("/mvp-manager/node/setProject",{componentItemConfigDataAOList:t});case 3:if(n=e.sent,o=n.data,0!==o.response.code){e.next=9;break}return e.abrupt("return",o.data);case 9:return e.abrupt("return",null);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e["catch"](0),console.log(e.t0),e.abrupt("return",null);case 16:case"end":return e.stop()}},e,this,[[0,12]])}));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r["a"].put("/mvp-manager/component/save",t);case 3:if(n=e.sent,o=n.data,0!==o.response.code){e.next=9;break}return e.abrupt("return",o.data);case 9:return e.abrupt("return",null);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e["catch"](0),console.log(e.t0),e.abrupt("return",null);case 16:case"end":return e.stop()}},e,this,[[0,12]])}));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r["a"].put("/mvp-manager/component/update",t);case 3:if(n=e.sent,o=n.data,0!==o.response.code){e.next=9;break}return e.abrupt("return",!0);case 9:return e.abrupt("return",null);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e["catch"](0),console.log(e.t0),e.abrupt("return",null);case 16:case"end":return e.stop()}},e,this,[[0,12]])}));return function(t){return e.apply(this,arguments)}}();window.componentCache=[];var d=function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=window.componentCache.find(function(e){return e.id===t}),n){e.next=6;break}return e.next=4,p(t);case 4:n=e.sent,window.componentCache.push(n);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),l=function(){window.componentCache=[]},p=function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r["a"].post("/mvp-manager/component/getComponent?componentId="+t);case 3:if(n=e.sent,o=n.data,0!==o.response.code){e.next=9;break}return e.abrupt("return",o.data);case 9:return e.abrupt("return",null);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e["catch"](0),console.log(e.t0),e.abrupt("return",null);case 16:case"end":return e.stop()}},e,this,[[0,12]])}));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r["a"].delete("/mvp-manager/component/delete/"+t);case 3:if(n=e.sent,o=n.data,0!==o.response.code){e.next=13;break}if(!o.data){e.next=10;break}return e.abrupt("return",!0);case 10:return e.abrupt("return",!1);case 11:e.next=14;break;case 13:return e.abrupt("return",null);case 14:e.next=20;break;case 16:return e.prev=16,e.t0=e["catch"](0),console.log(e.t0),e.abrupt("return",null);case 20:case"end":return e.stop()}},e,this,[[0,16]])}));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r["a"].post("/mvp-manager/component/check?name="+t);case 3:if(n=e.sent,o=n.data,0!==o.response.code){e.next=13;break}if(!o.data||!o.data.id){e.next=10;break}return e.abrupt("return",!1);case 10:return e.abrupt("return",!0);case 11:e.next=14;break;case 13:return e.abrupt("return",null);case 14:e.next=20;break;case 16:return e.prev=16,e.t0=e["catch"](0),console.log(e.t0),e.abrupt("return",null);case 20:case"end":return e.stop()}},e,this,[[0,16]])}));return function(t){return e.apply(this,arguments)}}()},ac48:function(e,t,n){"use strict";var o=n("a523"),r=n.n(o);r.a},b05c:function(e,t,n){"use strict";n.r(t),n.d(t,"getUserType",function(){return r}),n.d(t,"addUsers",function(){return a});var o=n("6b6c");function r(){return o["a"].post("/mvp-manager/user/userTypes").then(function(e){return e.data})}function a(e){return o["a"].put("/mvp-manager/user/add",e).then(function(e){return e.data})}},b51f:function(e,t,n){"use strict";n.r(t),n.d(t,"activateUser",function(){return r}),n.d(t,"checkUserExist",function(){return a}),n.d(t,"validateUrl",function(){return i});var o=n("6b6c");function r(e){return o["a"].post("/mvp-manager/user/activation",e).then(function(e){return e.data})}function a(e){return o["a"].post("/mvp-manager/user/exist",e).then(function(e){return e.data})}function i(e){return o["a"].post("/mvp-manager/user/checkActivation",e).then(function(e){return e.data})}},b61d:function(e,t,n){"use strict";n.r(t),n.d(t,"sendSmsCode",function(){return r}),n.d(t,"getCaptcha",function(){return a}),n.d(t,"validateCaptcha",function(){return i}),n.d(t,"sendEmailVcode",function(){return s});var o=n("6b6c");function r(e){return o["a"].post("/mvp-manager/sms/sendVcode",e).then(function(e){return e.data})}function a(){return o["a"].post("/mvp-manager/captcha").then(function(e){return e.data})}function i(e){return o["a"].post("/mvp-manager/captcha/validate",e).then(function(e){return e.data})}function s(e){return o["a"].post("/mvp-manager/mail/sendVcode",e).then(function(e){return e.data})}},b62e:function(e,t,n){},b72d:function(e,t,n){"use strict";var o=n("164b"),r=n.n(o);r.a},bb94:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var o={REPORT_CODE_CONDITION:0,REPORT_OUTLINE_CODE_CONDITION:1,REPORT_BLOCK_CODE_CONDITION:2,REPORT_BLOCK_CODE:3,NODE_JUMP_CONDITION:10,NODE_SHOW_CONDITION:11,NODE_PERMISSION_CONDITION:12,NODE_AUTOMATE_CONDITION:13,NODE_TRANSLATION_CONDITION:14,NODE_VALIDATE_CONDITION:15,NODE_REJECTION_CONDITION:16,NODE_MACROLOGIC:17,COMPONENT_ITEM_FILTER_CONDITION:20,COMPONENT_ITEM_SORT_CONDITION:21,COMPONENT_ITEM_REJECTION_CONDITION:22,COMPONENT_ITEM_CONFIG_CONDITION:23,PROJECT_TEST_CASE:30}},c24f:function(e,t,n){"use strict";n.r(t),n.d(t,"getUserType",function(){return r}),n.d(t,"addUsers",function(){return a});var o=n("6b6c");function r(){return o["a"].post("/mvp-manager/user/userTypes").then(function(e){return e.data})}function a(e){return o["a"].put("/mvp-manager/user/add",e).then(function(e){return e.data})}},c276:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"g",function(){return toTreeData}),__webpack_require__.d(__webpack_exports__,"c",function(){return getToken}),__webpack_require__.d(__webpack_exports__,"e",function(){return setToken}),__webpack_require__.d(__webpack_exports__,"a",function(){return delToken}),__webpack_require__.d(__webpack_exports__,"f",function(){return setUserInfo}),__webpack_require__.d(__webpack_exports__,"d",function(){return getUserInfo}),__webpack_require__.d(__webpack_exports__,"b",function(){return delUserInfo});var core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("a481"),core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("28a5"),core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es6_regexp_match__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("4917"),core_js_modules_es6_regexp_match__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es6_regexp_match__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es6_regexp_constructor__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("3b2b"),core_js_modules_es6_regexp_constructor__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es6_regexp_constructor__WEBPACK_IMPORTED_MODULE_3__),D_Project_newsystem_node_modules_babel_runtime_helpers_builtin_es6_typeof__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("6bde"),core_js_modules_es6_array_sort__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("55dd"),core_js_modules_es6_array_sort__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es6_array_sort__WEBPACK_IMPORTED_MODULE_5__),getObjectValue=function getObjectValue(obj,des){return eval("obj."+des)},toTreeData=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ID",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"pid",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"children",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"sort",i={},s=[],c=0;"null"===t&&(t=null);while(0!==e.length){if(getObjectValue(e[c],o)==t)e[c][r]=[],s.push(e[c]),i[getObjectValue(e[c],n)]=[s.length-1],e.splice(c,1),c--;else{var u=i[getObjectValue(e[c],o)];if(void 0!==u){for(var d=s[u[0]],l=1;l<u.length;l++)d=d[r][u[l]];e[c][r]=[],d[r].push(e[c]),i[getObjectValue(e[c],n)]=u.concat([d[r].length-1]),e.splice(c,1),c--}}c++,c>e.length-1&&(c=0)}var p=function(e){e.sort(function(e,t){return e[a]-t[a]})},h=function e(t){for(var n in t)t[n][r]&&t[n][r].length&&(p(t[n][r]),e(t[n][r]))};return p(s),h(s),s},compareObject=function(e){return function(t,n){var o=getObjectValue(t,e),r=getObjectValue(n,e);return r<o?-1:r>o?1:0}},deepCopy=function e(t){if(null===t)return null;if(Array.isArray(t)){if(0===t.length)return[];for(var n=[],o=0;o<t.length;o++)n.push(e(t[o]));return n}if("object"===Object(D_Project_newsystem_node_modules_babel_runtime_helpers_builtin_es6_typeof__WEBPACK_IMPORTED_MODULE_4__["a"])(t)){var r={};for(var a in t)r[a]=e(t[a]);return r}return t},getsec=function(e){if(!/[s|h|d|l]/i.test(e))return-1===e.indexOf("l")?1e3*e:2592e6;var t=e.substring(0,e.length-1),n=e.substring(e.length-1,e.length);return"s"===n?1e3*t:"h"===n?60*t*60*1e3:"d"===n?24*t*60*60*1e3:void 0},setCookie=function(e,t,n){if(n){var o=getsec(n),r=new Date;r.setTime(r.getTime()+parseInt(o)),document.cookie=e+"="+escape(t)+";expires="+r.toGMTString()}else document.cookie=e+"="+escape(t)},getCookie=function(e){var t=new RegExp("(^| )"+e+"=([^;]*)(;|$)"),n=document.cookie.match(t);return n?unescape(n[2]):null},delCookie=function(e){var t=new Date;t.setTime(t.getTime()-1);var n=getCookie(e);null!=n&&(document.cookie=e+"="+n+";expires="+t.toGMTString())},getToken=function(){if(window.localStorage)return localStorage.getItem("token")},setToken=function(e){window.localStorage?window.localStorage.setItem("token",e):localStorage&&localStorage.setItem("token",e)},delToken=function(){window.localStorage&&window.localStorage.removeItem("token")};function setUserInfo(e){window.localStorage.setItem("userInfo",JSON.stringify(e))}function getUserInfo(e){try{return JSON.parse(window.localStorage.getItem("userInfo"))}catch(e){return null}}function delUserInfo(){window.localStorage.removeItem("userInfo")}var getDomain=function(e){return e=e.split(":")[0],isNaN(e.substring(e.lastIndexOf(".")))?e.substring(e.substring(0,e.lastIndexOf(".")).lastIndexOf(".")+1):e},isEmptyObject=function(e){for(var t in e)return!1;return!0};Date.prototype.format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var n in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),t)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?t[n]:("00"+t[n]).substr((""+t[n]).length)));return e};var compareVersion=function(e,t){if(e&&t){var n=e.split("."),o=t.split("."),r=Math.min(n.length,o.length),a=0,i=0;while(a<r&&0===(i=parseInt(n[a])-parseInt(o[a])))a++;return i=0!==i?i:n.length-o.length,i>0}return console.log("版本号不能为空"),!1}},c443:function(e,t,n){"use strict";n.r(t);var o=n("6ace"),r=n("6b6c");t["default"]={getMessageList:function(e){return Object(o["default"])(r["a"].post,"/mvp-manager/msg/list",e,[])},getMessageDetail:function(e){return Object(o["default"])(r["a"].post,"/mvp-manager/msg/detail",e,{})},removeMessage:function(e){return Object(o["default"])(r["a"].post,"/mvp-manager/msg/remove",e,!0)},readMessage:function(e){return Object(o["default"])(r["a"].post,"/mvp-manager/msg/read",e,!0)}}},c508:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"network-disk"},[n("div",{staticClass:"title"},[e._v("网盘")]),n("div",{staticClass:"disk-content"},[n("div",{staticClass:"disk-menu"},[n("div",{staticClass:"menu-line"},[n("Upload",{staticClass:"disk-menu-upload",attrs:{headers:e.headers,data:{parentId:e.currentFolder},"on-success":e.handleSuccess,"on-error":e.handleFail,"show-upload-list":!1,action:e.upLoadPath}},[n("Button",{staticClass:"disk-menu-button",attrs:{type:"success"}},[n("Icon",{staticClass:"disk-icon",attrs:{type:"ios-cloud-upload"}}),e._v("\n            上传\n          ")],1)],1),n("Button",{staticClass:"disk-menu-button",attrs:{type:"success"},on:{click:function(t){return t.stopPropagation(),e.showEditingNode(t)}}},[n("Icon",{staticClass:"disk-icon",attrs:{type:"md-folder"}}),e._v("\n          新建文件夹\n        ")],1),n("ButtonGroup",[e.showMenu.rename?n("Button",{staticClass:"disk-menu-button",on:{click:function(t){t.stopPropagation(),e.showEditingNode(e.chooseList[0])}}},[n("Icon",{attrs:{type:"ios-create-outline"}}),e._v("\n            重命名\n          ")],1):e._e(),e.showMenu.download?n("Button",{staticClass:"disk-menu-button"},[n("Icon",{attrs:{type:"ios-download-outline"}}),e._v("\n            下载\n          ")],1):e._e(),e.showMenu.delete?n("Button",{staticClass:"disk-menu-button",on:{click:function(t){t.stopPropagation(),e.tryDeleteFiles()}}},[n("Icon",{attrs:{type:"ios-trash-outline"}}),e._v("\n            刪除\n          ")],1):e._e()],1)],1),n("div",{staticClass:"menu-line file-path"},e._l(e.pathList,function(t,o){return n("div",{key:o,staticClass:"file-path-item"},[t.id?n("div",{staticClass:"arrow"},[e._v(">")]):e._e(),n("div",{staticClass:"folder-name",class:t.id===e.currentFolder?"current-folder":"",on:{click:function(n){n.stopPropagation(),e.enterPath(t.id)}}},[e._v("\n            "+e._s(t.name)+"\n          ")])])})),n("div",{staticClass:"menu-line file-line file-list-title"},[n("Checkbox",{staticClass:"file-choose",style:{visibility:e.fileList.length?"visible":"hidden"},attrs:{value:e.chooseList.length>0&&e.chooseList.length===e.fileList.length},on:{"on-change":e.changeAllChooseState}}),n("div",{staticClass:"file-name"},[e._v("文件名")]),n("div",{staticClass:"file-size"},[e._v("大小")]),n("div",{staticClass:"update-time"},[e._v("修改日期")])],1)]),n("div",{staticClass:"file-list"},[e._l(e.fileList,function(t){return n("div",{key:t.id,staticClass:"file-line file-list-content"},[n("Checkbox",{staticClass:"file-choose",attrs:{value:e.isChoosed(t.id)},on:{"on-change":function(n){e.changeChooseState(t,arguments)}}}),n("div",{staticClass:"file-name",on:{click:function(n){n.stopPropagation(),e.clickFile(t)}}},[n("Icon",{staticClass:"file-name-icon",class:t.folder?"folder":"file",attrs:{type:t.folder?"md-folder":e.fileIcon(t.name)}}),n("div",{staticClass:"file-name-content"},[e._v(e._s(t.name))]),n("div",{staticClass:"divide"}),n("div",{staticClass:"file-name-menus"},[n("div",{staticClass:"menu-more file-name-menu",on:{mouseenter:function(n){n.stopPropagation(),e.showMoreMenu(t)},mouseleave:function(t){return t.stopPropagation(),e.hideMoreMenu(t)},click:function(e){e.stopPropagation()}}},[n("Icon",{staticClass:"menu-icon menu-more-icons",attrs:{type:"ios-more-outline"}}),e.showMenuId===t.id?n("div",{staticClass:"more-menu-items"},[n("div",{staticClass:"more-menu-item",on:{click:function(n){n.stopPropagation(),e.showEditingNode(t)}}},[e._v("重命名")]),n("div",{staticClass:"more-menu-item",on:{click:function(n){n.stopPropagation(),e.tryDeleteFiles(t)}}},[e._v("删除")]),t.folder?e._e():n("div",{staticClass:"more-menu-item",on:{click:function(t){return t.stopPropagation(),e.copyUrl(t)}}},[e._v("\n                  复制URL\n                  "),n("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"},{name:"click-copy",rawName:"v-click-copy",value:"文件URL已复制到剪贴板",expression:"'文件URL已复制到剪贴板'"}],staticClass:"file-url"},[e._v("\n                    "+e._s(e.getUrl(t.id))+"\n                  ")])]),t.folder?e._e():n("div",{staticClass:"more-menu-item"},[n("a",{staticClass:"menu-download",attrs:{target:"_blank",href:e.getUrl(t.id),download:t.name}},[e._v("\n                    下载\n                    ")])])]):e._e()],1)])],1),n("div",{staticClass:"file-size"},[e._v("\n          "+e._s(t.fileSize?e.formatSize(t.fileSize):"-")+"\n        ")]),n("div",{staticClass:"update-time"},[e._v("\n          "+e._s(e.formatTime(t.updateTime))+"\n        ")])],1)}),e.fileList.length||e.loading?e._e():n("div",{staticClass:"file-list-empty"},[e._v("\n        这里还没有任何文件的呢\n      ")])],2)]),n("Modal",{attrs:{title:e.editingNode.title},model:{value:e.editingNode.show,callback:function(t){e.$set(e.editingNode,"show",t)},expression:"editingNode.show"}},[n("Input",{ref:"folderNameInput",on:{"on-enter":e.updateInfo},model:{value:e.editingNode.info.name,callback:function(t){e.$set(e.editingNode.info,"name",t)},expression:"editingNode.info.name"}}),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("Button",{attrs:{type:"primary"},on:{click:function(t){return t.stopPropagation(),e.updateInfo(t)}}},[e._v("保存")]),n("Button",{on:{click:function(t){return t.stopPropagation(),e.clearInfo(t)}}},[e._v("取消")])],1)],1)],1)},r=[],a=n("8afe"),i=(n("7514"),n("3b2b"),n("20d6"),n("456d"),n("ac6a"),n("7f7f"),n("55dd"),n("96cf"),n("3040")),s=n("fc5a"),c=n("04ce"),u=n("c276"),d={name:"network-disk",data:function(){return{fileList:[],editingNode:{show:!1,title:"请输入文件夹名称",info:{name:"",id:"",parentId:""}},chooseList:[],upLoadPath:c["a"]+"/mvp-manager/file/upload",pathList:[],showMenuId:"",headers:{token:Object(u["c"])()},typeInfo:{"[png|jpg|jpeg|bmp|svg]":"md-image",default:"md-document"},loading:!1}},computed:{currentFolder:function(){var e=this.pathList,t=e[e.length-1];return t?t.id:null},showMenu:function(){var e={delete:!1,rename:!1,download:!1};return this.chooseList.length&&(e.delete=!0),1===this.chooseList.length&&(e.rename=!0),e}},watch:{currentFolder:function(e){null!==e&&this.refreshPage()},pathList:function(){window.sessionStorage.setItem("networkDiskPath",JSON.stringify(this.pathList))}},mounted:function(){var e=window.sessionStorage.getItem("networkDiskPath");if(e)this.pathList=JSON.parse(e)||[];else{var t={id:"",name:"全部文件"};this.enterFolder(t)}},methods:{refreshPage:function(){var e={id:this.currentFolder};this.getFileList(e)},getFileList:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t,n,o=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:{},this.chooseList=[],this.fileList=[],this.loading=!0,e.next=6,s["default"].getFileList(t);case 6:n=e.sent,this.loading=!1,n?(this.fileList=n,this.fileList.sort(function(e,t){return e.folder===t.folder?0:e.folder?-1:1})):this.$Message.error("获取失败");case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),showEditingNode:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.editingNode.show=!0,this.editingNode.info={name:t.name||"",id:t.id||null,parentId:this.currentFolder},this.$nextTick(function(){e.$refs.folderNameInput.focus()})},updateInfo:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this.editingNode.info,e.next=3,s["default"].createFolder(t);case 3:n=e.sent,n?(this.refreshPage(),this.clearInfo()):this.$Message.error("保存失败");case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),clearInfo:function(){this.editingNode.show=!1,this.editingNode.info={name:"",id:"",parentId:""}},tryDeleteFiles:function(e){var t="你确定删除所选文件吗？";this.$confirm(t,this.deleteFiles,e)},deleteFiles:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){var n,o,r,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n={},t?n[t.id]=1:this.chooseList.forEach(function(e){n[e.id]=1}),o={ids:Object.keys(n)},e.next=5,s["default"].deleteFiles(o);case 5:r=e.sent,r?(this.$Message.success("刪除成功"),t&&(a=this.chooseList.findIndex(function(e){return e.id===t.id}),-1!==a?this.chooseList.splice(a,1):this.chooseList=[])):this.$Message.error("刪除失败"),this.refreshPage();case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),copyUrl:function(e){var t=e.target.querySelector(".file-url");t&&(t.click(),t.style.display="none")},formatTime:function(e){var t=function(e){return e<10?"0"+e:e},n=new Date(e),o=n.getFullYear(),r=t(n.getMonth()+1),a=t(n.getDate()),i=t(n.getHours()),s=t(n.getMinutes()),c="".concat(o,"-").concat(r,"-").concat(a," ").concat(i,":").concat(s);return c},formatSize:function(e){return e<1024?e+" B":(e/=1024,e<1024?e.toFixed(1)+" KB":(e/=1024,e<1024?e.toFixed(1)+" MB":(e/=1024,e.toFixed(1)+" GB")))},fileIcon:function(e){var t=e.lastIndexOf("."),n="default";for(var o in-1!==t&&(n=e.slice(t+1)),this.typeInfo){var r=new RegExp(o,"gi");if(r.test(n))return this.typeInfo[o]}return this.typeInfo.default},enterFolder:function(e){e.id||(this.pathList=[]),this.pathList.push({id:e.id,name:e.name})},enterPath:function(e){if(e!==this.currentFolder){var t=this.pathList.findIndex(function(t){return t.id===e});-1!==t&&this.pathList.splice(t+1)}},clickFile:function(e){e.folder&&this.enterFolder(e)},showMoreMenu:function(e){this.showMenuId=e.id},hideMoreMenu:function(e){this.showMenuId=""},handleSuccess:function(e,t,n){this.$Message.success("上传成功"),this.refreshPage()},handleFail:function(e,t,n){this.$Message.error("上传失败"),this.refreshPage()},changeChooseState:function(e,t){var n=t[0],o=this.chooseList.findIndex(function(t){return t.id===e.id});n?-1===o&&this.chooseList.push(e):-1!==o&&this.chooseList.splice(o,1)},isChoosed:function(e){var t=this.chooseList.find(function(t){return t.id===e});return!!t},changeAllChooseState:function(e){var t;(this.chooseList=[],e)&&(t=this.chooseList).push.apply(t,Object(a["a"])(this.fileList))},getUrl:function(e){return c["a"]+"/mvp-manager/file/download/"+e}}},l=d,p=(n("b72d"),n("2877")),h=Object(p["a"])(l,o,r,!1,null,"1a848082",null);h.options.__file="network-disk.vue";var m=h.exports;t["a"]=m},c5bf:function(e,t,n){"use strict";var o,r,a={render:function(e,t){return e("div","载入中...")}},i=a,s=n("2877"),c=Object(s["a"])(i,o,r,!1,null,null,null);c.options.__file="loading.vue";t["a"]=c.exports},c7eb:function(e,t,n){"use strict";var o=n("cc92"),r=n.n(o);r.a},cc23:function(e,t,n){},cc92:function(e,t,n){},cf05:function(e,t,n){e.exports=n.p+"img/logo.1f03f539.png"},d28d:function(e,t,n){"use strict";n.r(t),n.d(t,"getTagList",function(){return r}),n.d(t,"saveTag",function(){return a}),n.d(t,"deleteTag",function(){return i});n("7f7f"),n("ac6a");var o=n("6b6c");function r(e){return o["a"].post("/mvp-manager/tag/list",e).then(function(e){var t=e.data,n=t.data.result;return n.forEach(function(e){e.expand=!1,e.loading=!1,e.label=e.name,e.value=e.id,e.children=[]}),t.data=n,t})}function a(e){var t=e.id?"/mvp-manager/tag/update":"/mvp-manager/tag/save";return o["a"].put(t,e).then(function(e){var t=e.data;return t.response.success&&(t.data.expand=!1,t.data.loading=!1,t.data.children=[]),t})}function i(e){return o["a"].post("/mvp-manager/tag/delete",e).then(function(e){return e.data})}},d307:function(e,t,n){var o={"./codeTest.js":"738c","./component.js":"88f9","./doc.js":"76cd","./index.js":"2a74","./law.js":"5f5e","./layout.js":"3150","./message.js":"78d4","./node.js":"6af0","./user.js":"0f9a"};function r(e){var t=a(e);return n(t)}function a(e){var t=o[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}r.keys=function(){return Object.keys(o)},r.resolve=a,e.exports=r,r.id="d307"},d4f4:function(e,t,n){"use strict";n.r(t),n.d(t,"saveCase",function(){return r}),n.d(t,"getCaseList",function(){return a}),n.d(t,"getCaseDetail",function(){return i}),n.d(t,"deleteCase",function(){return s});var o=n("6b6c");function r(e){var t=e.id?"/mvp-manager/cases/update":"/mvp-manager/cases/save";return o["a"].put(t,e).then(function(e){return e.data})}function a(e){return o["a"].post("/mvp-manager/cases/list",e).then(function(e){return e.data})}function i(e){return o["a"].post("/mvp-manager/cases/detail?id="+e.id).then(function(e){return e.data})}function s(e){return o["a"].post("/mvp-manager/cases/delete",e).then(function(e){return e.data})}},d783:function(e,t,n){var o={"./clickCopy.js":"ec55","./clickOutside.js":"1a6c","./drag.js":"32e0","./dragResize.js":"98a4","./focus.js":"3720","./globalDom.js":"0307","./index.js":"4657","./modalDrag.js":"f3d2","./modalResize.js":"2174"};function r(e){var t=a(e);return n(t)}function a(e){var t=o[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}r.keys=function(){return Object.keys(o)},r.resolve=a,e.exports=r,r.id="d783"},d83b:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("layout",{staticClass:"node-editor",class:{"no-edit":!e.editable}},[e.processingDrag?n("Spin",{attrs:{fix:""}},[n("Icon",{staticClass:"spin-icon-load",attrs:{type:"md-refresh",size:"18"}}),n("div",[e._v("正在拖动节点...")])],1):e._e(),e._l(e.nodeList.commonNodes,function(t,o){return e.nodeList.nestProjectId?[n("NodeItem",{key:o,attrs:{node:t,canEdit:!1,focusNode:e.focusNode}})]:e._e()}),e._l(e.nodeList.children,function(t,o){return e.nodeList.nestProjectId?e._e():[n("NodeItem",{key:o,attrs:{node:t,focusNode:e.focusNode,canEdit:!t.lock,canDrop:!t.lock}})]}),e.nodeList.children&&e.nodeList.children.length||e.nodeList.commonNodes&&e.nodeList.commonNodes.length||!e.editable?e._e():n("div",{staticClass:"plus-button",on:{click:e.addFirstNode}},[n("Icon",{staticStyle:{"font-weight":"bold"},attrs:{type:"md-add"}})],1),e.editable?n("Modal",{class:{"no-body-modal":!e.currentEditNode.title},attrs:{"class-name":"config-modal node-editor-config-modal","mask-closable":!1,closable:!0,width:"90%"},on:{"on-cancel":e.editCancel},model:{value:e.editorModal,callback:function(t){e.editorModal=t},expression:"editorModal"}},[n("div",{attrs:{slot:"close"},on:{click:function(t){return t.stopPropagation(),e.editCancel(t)}},slot:"close"},[n("Icon",{attrs:{size:"24",color:"#999",type:"ios-close"}})],1),n("div",{staticClass:"model-editor-top",attrs:{slot:"header"},slot:"header"},[n("div",{staticClass:"model-editor-title-left"},[e._v(e._s(e.currentEditNode.code)),n("span",{directives:[{name:"show",rawName:"v-show",value:e.currentEditNode.customVar,expression:"currentEditNode.customVar"}]},[e._v("("+e._s(e.currentEditNode.customVar)+")")])]),n("Input",{staticClass:"model-editor-title",attrs:{id:"nodeTitle",placeholder:"请输入问题"},model:{value:e.currentEditNode.title,callback:function(t){e.$set(e.currentEditNode,"title",t)},expression:"currentEditNode.title"}})],1),n("Row",{attrs:{gutter:16}},[n("Col",{attrs:{span:"24"}},[e.editorModal?n("configBoard",{ref:"configBoard",attrs:{node:e.currentEditNode,componentList:e.componentList,nodeManager:e.nodeManager,projectId:e.projectId},on:{saveToGetCode:e.saveToGetCode,saveCode:e.saveCode,saveComponentInfo:e.saveComponentInfo,"on-cancel":e.editCancel,addOption:e.addOption,updateCustomComponentList:e.updateCustomComponentList,deleteOption:e.deleteOption}}):e._e()],1)],1),n("div",{staticClass:"config-modal-footer",attrs:{slot:"footer"},slot:"footer"},[n("Row",{directives:[{name:"show",rawName:"v-show",value:!e.currentEditNode.title||e.showBottomButton,expression:"!currentEditNode.title || showBottomButton"}],attrs:{type:"flex",justify:"end"}},[n("Button",{directives:[{name:"show",rawName:"v-show",value:!e.currentEditNode.title,expression:"!currentEditNode.title"}],on:{click:e.editCancel}},[e._v("\n          关闭\n        ")]),n("Button",{directives:[{name:"show",rawName:"v-show",value:e.currentEditNode.title,expression:"currentEditNode.title"}],attrs:{type:"primary"},on:{click:e.toConfig}},[e._v("\n          保存\n        ")]),n("Button",{directives:[{name:"show",rawName:"v-show",value:e.currentEditNode.title,expression:"currentEditNode.title"}],attrs:{type:"primary"},on:{click:function(t){e.editOk(!0,!0)}}},[e._v("\n          保存并关闭\n        ")])],1)],1),e.editorModal&&e.savingNodes?n("spin",{attrs:{size:"large",fix:""}}):e._e()],1):e._e(),e.editable?n("Modal",{attrs:{title:"移动到项目或者共用包","mask-closable":!1,width:"700",loading:!0,center:""},on:{"on-cancel":e.clearLinkProjecInfo},model:{value:e.linkProject.open,callback:function(t){e.$set(e.linkProject,"open",t)},expression:"linkProject.open"}},[e.linkProject.open?n("div",{staticClass:"link-project"},[n("div",{staticClass:"link-project-action"},[n("div",{staticClass:"action-title"},[e._v("请选择操作类型")]),n("div",{staticClass:"action-buttons"},[n("Button",{staticClass:"action-button",attrs:{type:1===e.linkProject.linkType?"primary":"default"},on:{click:function(t){t.stopPropagation(),e.setLinkType(1)}}},[e._v("\n            移动到已有共用包\n          ")]),n("Button",{staticClass:"action-button",attrs:{type:2===e.linkProject.linkType?"primary":"default"},on:{click:function(t){t.stopPropagation(),e.setLinkType(2)}}},[e._v("\n            移动到已有项目\n          ")]),n("Button",{staticClass:"action-button",attrs:{type:3===e.linkProject.linkType?"primary":"default"},on:{click:function(t){t.stopPropagation(),e.setLinkType(3)}}},[e._v("\n            移动新建共用包\n          ")]),n("Button",{staticClass:"action-button",attrs:{type:4===e.linkProject.linkType?"primary":"default"},on:{click:function(t){t.stopPropagation(),e.setLinkType(4)}}},[e._v("\n            移动新建项目\n          ")])],1)]),n("div",{staticClass:"link-project-data"},[1===e.linkProject.data.action?n("div",{staticClass:"action-choose"},[n("span",{staticClass:"action-choose-title"},[e._v("请选择"+e._s(e.linkProject.text)+"：")]),n("chooseProject",{style:{width:"15rem"},attrs:{rootId:e.linkProject.rootProject,type:e.linkProject.data.type,includeRoot:1===e.linkProject.data.type},model:{value:e.linkProject.data.projectId,callback:function(t){e.$set(e.linkProject.data,"projectId",t)},expression:"linkProject.data.projectId"}})],1):n("div",{staticClass:"action-new"},[n("div",{staticClass:"action-input"},[n("div",{staticClass:"action-input-title"},[e._v("\n              请输入"+e._s(e.linkProject.text)+"名称\n            ")]),n("Input",{model:{value:e.linkProject.data.projectName,callback:function(t){e.$set(e.linkProject.data,"projectName",t)},expression:"linkProject.data.projectName"}})],1),n("div",{staticClass:"action-input"},[n("span",{staticClass:"action-input-title"},[e._v("\n              创建引用节点\n            ")]),n("Checkbox",{staticClass:"checkbox",model:{value:e.linkProject.data.reference,callback:function(t){e.$set(e.linkProject.data,"reference",t)},expression:"linkProject.data.reference"}})],1),e.linkProject.data.reference?n("div",{staticClass:"action-input"},[n("div",{staticClass:"action-input-title"},[e._v("\n              请输入引用节点名称\n            ")]),n("Input",{model:{value:e.linkProject.data.newNodeName,callback:function(t){e.$set(e.linkProject.data,"newNodeName",t)},expression:"linkProject.data.newNodeName"}})],1):e._e()])])]):e._e(),n("div",{staticClass:"ling-project-footer",attrs:{slot:"footer"},slot:"footer"},[n("Button",{attrs:{type:"text"},on:{click:function(t){return t.stopPropagation(),e.clearLinkProjecInfo(t)}}},[e._v("取消")]),n("Button",{attrs:{type:"primary"},on:{click:function(t){return t.stopPropagation(),e.moveToProject(t)}}},[e._v("保存")])],1)]):e._e()],2)},r=[],a=(n("ac4d"),n("8a81"),n("20d6"),n("f400"),n("8afe")),i=(n("ac6a"),n("55dd"),n("a481"),n("96cf"),n("3040")),s=(n("c5f6"),n("c64e")),c=n.n(s),u=n("2b0e"),d=n("88d3"),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Row",{class:{dragging:e.dragging},attrs:{"class-name":"node",id:"node-"+e.node.id},nativeOn:{drop:function(t){return e.handleNodeDrop(t)}}},[n("Row",{ref:"nodeRow",staticClass:"node-panel",class:{focus:e.focusNode===e.node.code,dragover:e.dragPosition},attrs:{id:"node-title-"+e.node.uuid,"data-id":e.node.uuid},nativeOn:{mouseover:function(t){t.stopPropagation(),e.handleMouseOver(t)},mouseout:function(t){t.stopPropagation(),e.handleMouseOut(t)},dragenter:function(t){e.handleDragEnter(e.node,t)},dragover:function(t){e.handleDragOver(!0,t)},dragleave:function(t){return e.handleDragLeave(t)}}},[e.dragPosition?n("div",{staticClass:"drop-indicator-wrap"},[1===+e.node.type||e.$nodeBus.draggingNode&&2===e.$nodeBus.draggingNode.type?n("div",{staticClass:"drop-indicator prev",class:{highlight:"prev"===e.highlightIndicator},on:{drop:function(t){e.handleDrop(e.node,"prev",t)},dragover:function(t){e.highlightIndicator="prev"}}},[e._v("\n        拖到"+e._s(e.node.code)+"节点之前\n      ")]):e._e()]):e._e(),n("div",{staticClass:"node-body"},[e.node.crossState||!(e.node.children&&e.node.children.length||e.node.nestProjectId)||e.node.expanded&&!e.showControl?e._e():n("div",{staticClass:"collapse",on:{click:function(t){return t.stopPropagation(),e.toggleCollapse(t)}}},[e.node.expanded?n("Icon",{attrs:{type:"md-remove"}}):n("Icon",{attrs:{type:"md-add"}})],1),n("div",{staticClass:"bullet",attrs:{draggable:e.editable&&e.canEdit},on:{dragstart:function(t){e.handleDragStart(e.node,t)},dragend:e.handleDragEnd,click:function(t){e.handleEnterNode(e.node,t)}}},[n("span",{staticClass:"dot"})]),n("div",{staticClass:"node-content"},[n("span",{staticClass:"node-info"},[e.node.nestProjectId||1!==e.node.type||e.componentName.uuid!==e.COMPONENT_KEYS.radioSelect?e.node.nestProjectId||1!==e.node.type||e.componentName.uuid!==e.COMPONENT_KEYS.multiSelect?e.node.nestProjectId||1!==e.node.type||e.componentName.uuid!==e.COMPONENT_KEYS.singleBlank?e.node.nestProjectId||1!==e.node.type||e.componentName.uuid!==e.COMPONENT_KEYS.multiInput?e.node.nestProjectId||1!==e.node.type||e.componentName.uuid!==e.COMPONENT_KEYS.integerInput?e.node.nestProjectId||1!==e.node.type||e.componentName.uuid!==e.COMPONENT_KEYS.judge?e.node.crossState?n("Icon",{attrs:{type:"md-cube"},nativeOn:{mouseover:function(t){t.stopPropagation(),e.showPop("跨项目共用包",t)}}}):e.node.nestProjectId?n("Icon",{attrs:{type:"md-cube"},nativeOn:{mouseover:function(t){t.stopPropagation(),e.showPop("共用包",t)}}}):1===e.node.type?n("Icon",{attrs:{type:"logo-codepen"}}):e._e():n("Icon",{attrs:{type:"md-checkmark"},nativeOn:{mouseover:function(t){t.stopPropagation(),e.showPop(e.componentName.title,t)}}}):n("Icon",{attrs:{type:"md-bowtie"},nativeOn:{mouseover:function(t){t.stopPropagation(),e.showPop(e.componentName.title,t)}}}):n("Icon",{attrs:{type:"ios-grid-outline"},nativeOn:{mouseover:function(t){t.stopPropagation(),e.showPop(e.componentName.title,t)}}}):n("Icon",{attrs:{type:"ios-create-outline"},nativeOn:{mouseover:function(t){t.stopPropagation(),e.showPop(e.componentName.title,t)}}}):n("Icon",{attrs:{type:"ios-checkbox-outline"},nativeOn:{mouseover:function(t){t.stopPropagation(),e.showPop(e.componentName.title,t)}}}):n("Icon",{attrs:{type:"ios-radio-button-on"},nativeOn:{mouseover:function(t){t.stopPropagation(),e.showPop(e.componentName.title,t)}}})],1),n("span",{directives:[{name:"click-copy",rawName:"v-click-copy",value:"已复制'"+e.node.code+"'到剪贴板",expression:"`已复制'${node.code}'到剪贴板`"}],staticClass:"node-code"},[e._v(e._s(e.node.code))]),n("span",{staticClass:"node-title",class:{question:1===+e.node.type,answer:2===+e.node.type,append:e.node.additional,"node-package":e.node.nestProjectId},on:{click:function(t){return t.stopPropagation(),e.handleClickEdit(t)}}},[e._v(e._s(e.node.title))]),1===+e.node.type&&e.node.crossState?n("span",{staticClass:"node-package"},[e._v("跨项目共用包")]):1===+e.node.type&&e.node.nestProjectId?n("span",{staticClass:"node-package"},[e._v("共用包")]):e._e(),e.checkCode(e.node.showCondition)?n("span",{staticClass:"node-showCondition",on:{mouseenter:function(t){return t.stopPropagation(),e.getTranslation(t)}}},[e._v("𝐒")]):e._e(),e.checkCode(e.node.translationCondition)?n("span",{staticClass:"node-showCondition",on:{mouseenter:function(t){return t.stopPropagation(),e.getTranslation(t)}}},[e._v("𝐓")]):e._e()]),e.editable&&e.canEdit&&!e.node.lock?n("div",{staticClass:"node-buttons"},[1===+e.node.type?n("span",{staticClass:"add-next-node",on:{click:function(t){return t.stopPropagation(),e.handleClickNext(t)}}},[n("Icon",{attrs:{type:"md-add-circle"},nativeOn:{mouseover:function(t){t.stopPropagation(),e.showPop("添加同级问题",t)}}})],1):e._e(),e.node.additional?e._e():n("span",{staticClass:"add-child-node",on:{click:function(t){return t.stopPropagation(),e.handleClickAddChild(t)}}},[n("Icon",{attrs:{type:"md-add"},nativeOn:{mouseover:function(t){t.stopPropagation(),e.showPop("添加子级问题",t)}}})],1),n("span",{staticClass:"delete-node",on:{click:function(t){return t.stopPropagation(),e.handleClickDelete(t)}}},[n("Icon",{attrs:{type:"md-trash"},nativeOn:{mouseover:function(t){t.stopPropagation(),e.showPop("删除",t)}}})],1),1===+e.node.type?n("span",{staticClass:"link-project",on:{click:function(t){return t.stopPropagation(),e.handleClickMove(t)}}},[n("Icon",{attrs:{type:"md-link"},nativeOn:{mouseover:function(t){t.stopPropagation(),e.showPop("移动到共用包或项目",t)}}})],1):e._e()]):e._e()]),e.dragPosition?n("div",{staticClass:"drop-indicator-wrap"},[1===+e.node.type||e.$nodeBus.draggingNode&&2===e.$nodeBus.draggingNode.type?n("div",{staticClass:"drop-indicator next",class:{highlight:"next"===e.highlightIndicator},on:{drop:function(t){e.handleDrop(e.node,"next",t)},dragover:function(t){e.highlightIndicator="next"}}},[e._v("\n        拖到"+e._s(e.node.code)+"节点之后\n      ")]):e._e(),e.node.additional||e.$nodeBus.draggingNode&&2===e.$nodeBus.draggingNode.type?e._e():n("div",{staticClass:"drop-indicator child",class:{highlight:"child"===e.highlightIndicator},attrs:{type:"warning"},on:{drop:function(t){e.handleDrop(e.node,"child",t)},dragover:function(t){e.highlightIndicator="child"}}},[e._v("\n        拖到"+e._s(e.node.code)+"节点的子节点\n      ")])]):e._e()]),n("Row",{staticClass:"node-children",class:{collapse:!e.node.expanded,highlight:e.rootInstance.highlightBackground===e.node.uuid}},[n("div",{staticClass:"left-line",on:{click:function(t){e.rootInstance.highlightBackground=e.rootInstance.highlightBackground===e.node.uuid?"":e.node.uuid}}}),e._l(e.node.commonNodes,function(t,o){return e.node.nestProjectId&&e.node.commonNodes?[n("NodeItem",{key:o,attrs:{canEdit:!1,node:t,focusNode:e.focusNode,canDrop:!1}})]:e._e()}),e._l(e.node.children,function(t,o){return[e.node.nestProjectId&&2===+t.type?e._e():n("NodeItem",{key:o,attrs:{canEdit:!e.node.lock&&e.canEdit,node:t,focusNode:e.focusNode,canDrop:e.dropable&&!e.node.lock&&e.canEdit}})]})],2)],1)},p=[],h=(n("7514"),n("4917"),n("29b7")),m=n("fda0"),f=n("0f66"),g={name:"NodeItem",props:{node:{type:Object,required:!0},focusNode:{type:Number|String,required:!1,default:-1},canDrop:{type:Boolean,required:!1,default:!0},canEdit:{type:Boolean,required:!1,default:!0}},inject:["rootInstance","rootNodes","$nodeBus","editable"],data:function(){return{showControl:!1,dragPosition:"",drop:!0,dragging:!1,highlightIndicator:"",COMPONENT_KEYS:m["a"]}},computed:{dropable:function(){return this.canDrop?this.drop:this.canDrop},parseShowCondition:function(){if(this.node.showCondition){var e=this.node.showCondition,t=/echo +.*;/g,n=e.match(t),o=n?n.map(function(e){var t=e.replace("echo ","").replace(";","");return t.substr(1,t.length-2)}):[];return o}return[]},componentList:function(){return this.$store.state.component.list},componentName:function(){var e=this.node.componentId,t=this.$store.state.component.list.find(function(t){return t.id===e}),n=null;return t&&(n=m["b"][t.uuid]),n?{uuid:t.uuid,title:n.title}:{}}},created:function(){this.clearEventListener(),this.initEvent()},beforeDestroy:function(){this.clearEventListener()},watch:{focusNode:function(e){this.focusNode!==this.node.code||this.node.expended||(this.toggleCollapse(!0),this.rootInstance.$emit("current-focus",new h["a"]({event:e,vd:this.$vnode,params:{node:this.node}})))}},methods:{checkCode:function(e){return!!e&&""!==e.replace(/<\?/g,"").replace(/\?>/g,"").replace(/\s/g,"")},initEvent:function(){var e=this;this.$nodeBus.$on("node-drag-end",function(){e.dragging=!1,e.drop=!0,e.$nodeBus.dragging=!1,e.$nodeBus.draggingNode=null,e.dragPosition=!1})},clearEventListener:function(){this.$nodeBus.$off("node-drag-success")},handleMouseOut:function(e){this.showControl=!1},handleMouseOver:function(e){this.showControl=!0},handleEnterNode:function(e,t){this.node.projectId===this.rootInstance.projectId?this.$nodeBus.$emit("enter-node",new h["a"]({event:t,vd:this.$vnode,params:{node:e}})):this.$bus.$emit("refresh-project-tree",{projectId:this.node.projectId,type:2})},handleClickEdit:function(e){this.editable&&this.canEdit&&!this.node.lock?this.$nodeBus.$emit("edit-node",new h["a"]({name:"edit-node",event:e,vn:this.$vnode,params:{node:this.node}})):this.node.projectId!==this.rootInstance.projectId&&this.$bus.$emit("refresh-project-tree",{projectId:this.node.projectId,type:2})},handleClickAddChild:function(e){this.$nodeBus.$emit("add-child-node",new h["a"]({name:"add-child-node",event:e,vn:this.$vnode,params:{node:this.node}}))},handleClickNext:function(e){this.$nodeBus.$emit("add-next-node",new h["a"]({name:"add-next-node",event:e,vn:this.$vnode,params:{node:this.node}}))},handleClickDelete:function(e){this.$nodeBus.$emit("delete-node",new h["a"]({name:"delete-node",event:e,vn:this.$vnode,params:{node:this.node}}))},handleClickMove:function(e){this.$bus.$emit("link-project",{name:"link-project",event:e,vn:this.$vnode,params:{node:this.node}})},handleDragStart:function(e,t){t.dataTransfer.effectAllowed="move",this.dragging=!0,this.drop=!1,this.$nodeBus.dragging=!0,this.$nodeBus.draggingNode=e,this.$nodeBus.$emit("drag-start",new h["a"]({name:"drag-start",event:t,vn:this.$vnode,params:{node:e}})),t.dataTransfer.setData("dragData",this.node.id)},handleDragEnter:function(e,t){},handleDragOver:function(e,t){this.canDrop&&this.drop&&this.$nodeBus.dragging&&(2===this.$nodeBus.draggingNode.type&&this.$nodeBus.draggingNode.parentUuid!==this.node.parentUuid||(t.preventDefault(),this.dragPosition=e))},handleDragLeave:function(e){e.target.dataset.id&&e.target.dataset.id===this.node.uuid&&(this.dragPosition="",this.highlightIndicator="")},handleDrop:function(e,t,n){this.$nodeBus.dragging&&(this.dragPosition="",this.$nodeBus.$emit("node-drop",new h["a"]({name:"node-drop",event:n,vn:this.$vnode,params:{target:e,type:t}})))},handleDragEnd:function(e){console.log("拖动结束",this.node.title),this.dragging=!1,this.drop=!0,this.$nodeBus.dragging=!1,this.$nodeBus.draggingNode=null,this.dragPosition=!1,this.$nodeBus.$emit("node-drag-end")},handleNodeDrop:function(){this.$nodeBus.$emit("node-drag-end")},showPop:function(e,t){this.$poptip.show({content:e},t)},getTranslation:function(e){var t=this;this.node.showCondition&&this.node.showConditionDesc||this.node.translationCondition&&this.node.translateDesc?this.node.translateDesc?this.showPop(this.node.translateDesc,e):this.showPop(this.node.showConditionDesc,e):Object(f["getNodeConditionInfo"])({id:this.node.id}).then(function(n){n&&(t.node.showConditionDesc=n.showCondition,t.node.translateDesc=n.translateCondition,t.node.translateDesc?t.showPop(t.node.translateDesc,e):t.showPop(t.node.showConditionDesc,e))})},toggleCollapse:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=this.rootInstance.nodeManager.toggleExpandNode([this.node],"boolean"===typeof t?t:!this.node.expanded),!this.node.nestProjectId||!this.node.expanded||this.node.commonNodes&&this.node.commonNodes.length){e.next=4;break}return e.next=4,this.rootInstance.nodeManager.loadCommonNodes(this.node);case 4:this.$forceUpdate(),this.$nodeBus.$emit("toggle-collapse",new h["a"]({name:"toggle-collapse",event:t,vn:this.$vnode,params:{status:this.node.expanded?1:0,nodeIds:n.map(function(e){return e.id})}}));case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}},v=g,b=(n("7802"),n("2877")),y=Object(b["a"])(v,l,p,!1,null,"9fddd6c2",null);y.options.__file="nodeTemplate.vue";var C=y.exports,w=n("c665"),k=n("aa9a"),_=(n("f751"),function e(t){var n=Object.assign({},t);Object(w["a"])(this,e),this.uuid=n.uuid,this.nextUuid=n.nextUuid,this.parentUuid=n.parentUuid,this.prevUuid=n.prevUuid,this.children=n.children||[],this.lock=!1,this.title=n.title,this.code=n.code||"",this.additional=n.additional||!1,this.automateCondition=n.automateCondition||null,this.automateConditionNote=n.automateConditionNote||null,this.componentId=n.componentId||null,this.computes=n.computes||null,this.customVar=n.customVar||null,this.expanded=null===n.expanded||void 0===n.expanded||n.expanded,this.id=n.id||null,this.dr=n.dr||null,this.jumpCondition=n.jumpCondition||null,this.macroLogic=n.macroLogic||null,this.mustFlag=null===n.mustFlag||void 0===n.mustFlag||n.mustFlag,this.unique=!!n.unique,this.point=n.point||"",this.nestProjectId=n.nestProjectId||null,this.nestProjectTitle=n.nestProjectTitle||!1,this.parentId=n.parentId,this.permissionCondition=n.v||null,this.premissionConditionNote=n.premissionConditionNote||null,this.projectId=n.projectId||null,this.remarks=n.remarks||"",this.repeatFlag=n.repeatFlag||!1,this.showCondition=n.showCondition||null,this.sort=n.sort||1024,this.tip=n.tip||null,this.type=n.type||1,this.options=n.options||[],this.tagInfo=n.tagInfo||[],this.crossState=n.crossState||!1,this.crossProjectEnName=n.crossProjectEnName||"",this.nodeComponentConfigDatas=n.nodeComponentConfigDatas||[],this.rejectionCondition=n.rejectionCondition||null,this.nodeConfigData=n.nodeConfigData||null,this.componentInfo=n.componentInfo||null,this.jumpConditionNote=n.jumpConditionNote||null,this.showConditionNote=n.showConditionNote||null,this.translationCondition=n.translationCondition||null,this.translationConditionNote=n.translationConditionNote||null,this.permissionConditionNote=n.permissionConditionNote||null,this.validateCondition=n.validateCondition||null,this.validateConditionNote=n.validateConditionNote||null}),I=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;Object(w["a"])(this,e),this.nodeMap=new Map,this.tree=[],this.treeStack=[],this.baseSort=1024,this.projectId=n,this.init(t)}return Object(k["a"])(e,[{key:"init",value:function(e){var t=this.convertNodeList(e);this.nodeMap=t.nodeMap,this.tree=t.tree,this.treeStack.push({children:t.tree})}},{key:"convertNodeList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!t.length)return{nodeMap:new Map,tree:[]};var n=[],o=[],r=new Map;return t.forEach(function(t,a){t.tagInfo=t.tagInfo||[],t.lock=!1,r.set(t.uuid,t),t.parentId&&o.push(t),!t.parentId&&n.push(t),t.nestProjectId&&t.expanded&&(t.commonNodes=[],e.loadCommonNodes(t))}),n.sort(function(e,t){return e.sort-t.sort}),r.forEach(function(e){var n=t.filter(function(t){return t.parentId===e.id});n.sort(function(e,t){return e.sort-t.sort}),e.children=n}),{nodeMap:r,tree:n}}},{key:"getParentNode",value:function(e){var t=this.nodeMap.get(e.parentUuid);return t||new _({children:this.tree})}},{key:"getPrevNode",value:function(e){var t=this.getParentNode(e),n=t.children.findIndex(function(t){return t.id===e.id});return t.children[n-1]}},{key:"getNextNode",value:function(e){var t=this.getParentNode(e),n=t.children.findIndex(function(t){return t.id===e.id});return t.children[n+1]}},{key:"removeNode",value:function(e){var t=this.getParentNode(e);for(var n in e.parentId&&e.parentUuid&&e.parentId!==t.id&&console.error(new Error("error in data，parentId is ".concat(e.parentId," but parentUuid is ").concat(e.parentUuid))),t.children)if(t.children[n].id===e.id)return t.children.splice(n,1)}},{key:"insertNode",value:function(e,t,n){switch(n){case"next":var o=this.getParentNode(t);for(var r in o.children)if(o.children[r].id===t.id)return void o.children.splice(+r+1,0,e);break;case"child":t.children.push(e);break;case"prev":var a=this.getParentNode(t);for(var i in a.children)if(a.children[i].id===t.id)return void a.children.splice(+i,0,e);break;default:break}this.nodeMap.set(e.uuid,e)}},{key:"updateSort",value:function(e,t,n){e.sort=this.baseSort,t&&t.parentId===e.parentId&&(e.sort=+t.sort+this.baseSort),t&&t.parentId===e.parentId||!n||n.parentId!==e.parentId||(e.sort=+n.sort/2),t&&t.parentId===e.parentId&&n&&n.parentId===e.parentId&&(e.sort=(+t.sort+ +n.sort)/2)}},{key:"initSort",value:function(e){var t=this.baseSort,n=!0,o=!1,r=void 0;try{for(var a,i=e[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var s=a.value;s.sort=t,t+=this.baseSort}}catch(e){o=!0,r=e}finally{try{n||null==i.return||i.return()}finally{if(o)throw r}}}},{key:"enterNode",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){var n,o,r,a,i,s,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=this.treeStack.slice(1),!n.length||t.id!==n[n.length-1].id){e.next=3;break}return e.abrupt("return");case 3:if(!t.nestProjectId){e.next=14;break}return e.prev=4,e.next=7,Object(f["getCommonNodes"])({nestProjectId:t.nestProjectId,nodeCode:t.code,nodeId:t.id,projectId:this.projectId});case 7:o=e.sent,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](4),console.error(e.t0);case 13:o.data.response.success&&(r=this.convertNodeList(o.data.data),a=r.tree,t.commonNodes=a);case 14:for(s in i=-1,n)this.treeStack[s].id===t.id&&(i=+s);-1!==i?this.treeStack.splice(i+1):(t.expanded=!0,2===t.type&&(c=this.getParentNode(t),0!==n.length&&n[n.length-1].id===c.id||this.treeStack.push(c)),this.treeStack.push(this.nodeMap.get(t.uuid))),console.log(this.treeStack);case 18:case"end":return e.stop()}},e,this,[[4,10]])}));return function(t){return e.apply(this,arguments)}}()},{key:"enterRoot",value:function(){this.treeStack.splice(1)}},{key:"loadCommonNodes",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){var n,o,r,a,i,s,c,u,d;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!t.nestProjectId||t.crossState){e.next=32;break}return e.prev=1,e.next=4,Object(f["getCommonNodes"])({nestProjectId:t.nestProjectId,nodeCode:t.code,nodeId:t.id,projectId:this.projectId,commonCodeValue:t.commonCodeValue});case 4:n=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](1),console.error(e.t0);case 10:if(!n.data.response.success){e.next=32;break}for(o=!0,r=!1,a=void 0,e.prev=14,i=n.data.data[Symbol.iterator]();!(o=(s=i.next()).done);o=!0)c=s.value,this.nodeMap.set(c.uuid,c);e.next=22;break;case 18:e.prev=18,e.t1=e["catch"](14),r=!0,a=e.t1;case 22:e.prev=22,e.prev=23,o||null==i.return||i.return();case 25:if(e.prev=25,!r){e.next=28;break}throw a;case 28:return e.finish(25);case 29:return e.finish(22);case 30:u=this.convertNodeList(n.data.data),d=u.tree,t.commonNodes=d;case 32:case"end":return e.stop()}},e,this,[[1,7],[14,18,22,30],[23,,25,29]])}));return function(t){return e.apply(this,arguments)}}()},{key:"toggleExpandNode",value:function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var s,c=e[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var u=s.value;u.expanded=t,n.push(u),!t&&u.children&&u.children.length&&n.push.apply(n,Object(a["a"])(this.toggleExpandNode(u.children,t))),!t&&u.commonNodes&&u.commonNodes.length&&n.push.apply(n,Object(a["a"])(this.toggleExpandNode(u.commonNodes,t)))}}catch(e){r=!0,i=e}finally{try{o||null==c.return||c.return()}finally{if(r)throw i}}return n}}]),e}();function x(e,t,n){var o=/^[a-zA-Z\$_][a-zA-Z\d_]*$/;o.test(t)?n():n(new Error("变量名需以字母、$或_开头"))}var j=n("8b88");u["default"].prototype.$nodeBus=new u["default"];var D={name:"NodeEditor",components:{NodeItem:C,configBoard:d["a"],chooseProject:j["a"]},props:{projectId:{type:Number|String,required:!1},teamId:{type:String,required:!1},editable:{type:Boolean,required:!1,default:!0},focusNode:{type:Number|String,required:!1,default:-1},outManager:{type:Object,required:!1},expandAll:{type:Boolean,required:!1,default:!1}},data:function(){return{nodeManager:{},operationType:"add",editorModal:!1,savingNodes:!1,deleteOptions:[],currentEditParentNode:null,currentEditPrevNode:null,currentEditNode:{},draggingNode:null,validaters:{customVar:[{validator:x,trigger:"change"}]},linkProject:{lock:!1,open:!1,rootProject:0,linkType:1,text:"",data:{nodeId:0,action:1,type:1,projectId:0,projectName:"",reference:!1,newNodeName:""},recordData:{},saveStatus:null,openingModal:!1},processingDrag:!1,listenFunc:{},shortcutKeyInfo:{key:"nodeTree",title:"节点树操作",iconList:[["md-add-circle","添加同级问题"],["md-add","添加子问题"],["md-trash","删除问题"],["md-link","移动到共用包或项目"]]},expand:!1,highlightBackground:"",showBottomButton:!1}},provide:function(){return{rootInstance:this,rootNodes:this.nodeManager.tree,$nodeBus:this.$nodeBus,editable:this.editable}},created:function(){this.getNodeData(this.projectId),this.clearEventListener(),this.initEventListener(),console.log("节点编辑器已创建",this)},mounted:function(){var e=this;setInterval(function(){e.showBottomButton=!e.$refs.configBoard||"config"!==e.$refs.configBoard.tabs},200)},beforeDestroy:function(){this.clearEventListener()},computed:{nodeList:function(){return this.nodeManager&&this.nodeManager.treeStack?this.nodeManager.treeStack[this.nodeManager.treeStack.length-1]:{}},componentList:function(){return this.$store.state.component.list},componentQuestion:function(){return this.$store.state.component.question},componentOptions:function(){return this.$store.state.component.options},nodeComplexTitle:{get:function(){return this.currentEditNode.hasOwnProperty("uuid")?(this.currentEditNode.title?this.currentEditNode.title:"")+(this.currentEditNode.showCondition?this.currentEditNode.showCondition:""):""},set:function(e){if(this.currentEditNode.hasOwnProperty("uuid")){var t=e.substr(0,e.indexOf("<?"))||e,n=-1!==e.indexOf("<?")?e.substring(e.indexOf("<?")):"";console.log(t),console.log(n),this.currentEditNode.title=t,this.currentEditNode.showCondition=n}}},currentCompany:function(){return this.$store.state.user.currentCompany}},watch:{projectId:function(e,t){e!==t&&e&&this.getNodeData(e)},focusNode:function(){this.expand||this.toggleExpandAll()},outManager:{handler:function(){this.getNodeData(this.projectId)},deep:!0},editorModal:function(e,t){console.log(e?"打开窗口":"关闭窗口")}},methods:{lockNode:function(e){this.$emit("lockNode",e)},unlockNode:function(e){this.$emit("unlockNode",e)},saveToGetCode:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.editOk(t,n));case 1:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),saveCode:function(e){Object(f["saveNodeCode"])(e).then(function(e){var t=e.data,n=e.response;n.success&&console.log("保存代码逻辑",t)})},saveComponentInfo:function(e){Object(f["saveComponentInfo"])(e).then(function(e){var t=e.data,n=e.response;n.success&&console.log("保存输入组件配置",t)})},initEventListener:function(){var e=this;this.editable&&(this.$nodeBus.$on("toggle-collapse",this.listenFunc["toggle-collapse"]=function(t){e.saveToggleCollapse(t)}),this.$nodeBus.$on("edit-node",this.listenFunc["edit-node"]=function(t){e.editNode(t)}),this.$nodeBus.$on("add-child-node",this.listenFunc["add-child-node"]=function(t){e.addChildNode(t)}),this.$nodeBus.$on("add-next-node",this.listenFunc["add-next-node"]=function(t){e.addNextNode(t)}),this.$nodeBus.$on("delete-node",this.listenFunc["delete-node"]=function(t){e.deleteNodes(t)}),this.$nodeBus.$on("drag-start",this.listenFunc["drag-start"]=function(t){e.handleDragStart(t)}),this.$nodeBus.$on("drag-end",this.listenFunc["drag-end"]=function(){e.draggingNode=null}),this.$nodeBus.$on("node-drop",this.listenFunc["node-drop"]=function(t){e.handleDrop(t)}),this.$nodeBus.$on("enter-node",this.listenFunc["enter-node"]=function(t){e.handleEnterNode(t)}),this.$bus.$on("link-project",this.handleMoveToProject))},clearEventListener:function(){for(var e in this.listenFunc)this.$nodeBus.$off(e,this.listenFunc[e]);this.$bus.$off("link-project",this.handleMoveToProject)},showFloatNodeTree:function(){this.$store.commit("node/showNodeTree")},hideFloatNodeTree:function(){this.$store.commit("node/hideNodeTree")},editCancel:function(e){this.$refs.configBoard&&"edit"===this.$refs.configBoard.tabs&&this.$refs.configBoard.tabsClose?this.$refs.configBoard.tabTo("config"):(this.unlockNode(this.currentEditNode),this.editorModal=!1,this.currentEditNode={},this.currentEditParentNode=null,this.currentEditPrevNode=null,this.hideFloatNodeTree())},editOk:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){var n,o,r,s,c,u,d,l,p,h,m,g,v,b,y,C=this,w=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=w.length>1&&void 0!==w[1]&&w[1],console.time("保存数据处理"),this.currentEditNode.title){e.next=5;break}return t&&(this.editorModal=!1),e.abrupt("return");case 5:console.log("执行保存逻辑"),!this.currentEditNode.id&&this.currentEditNode.nestProjectId&&(this.currentEditNode.expanded=!1),this.savingNodes=!0,o=[],this.currentEditNode.children=this.currentEditNode.children.filter(function(e){return 1===+e.type&&o.push(e),""!==e.title.replace(/\s/g,"")&&1!==+e.type}),r=o.length?o[0].sort:0,r&&this.currentEditNode.children.length?(s=r/this.currentEditNode.children.length,c=0,this.currentEditNode.children.forEach(function(e){e.sort=c,c+=s})):this.nodeManager.initSort(this.currentEditNode.children),u=[this.currentEditNode].concat(Object(a["a"])(this.currentEditNode.children));try{for(d in this.currentEditNode.children)this.currentEditNode.componentId===this.componentQuestion["singleSelect"].id?this.currentEditNode.children[d].componentId=this.componentOptions["singleSelect-option"].id:this.currentEditNode.componentId===this.componentQuestion["multiSelect"].id?this.currentEditNode.children[d].componentId=this.componentOptions["multiSelect-option"].id:this.currentEditNode.componentId===this.componentQuestion["judge"].id?this.currentEditNode.children[d].componentId=this.componentOptions["judge-option"].id:null!==this.currentEditNode.componentId&&""!==this.currentEditNode.componentId||(this.currentEditNode.children[d].componentId=this.componentOptions.input.id)}catch(e){this.savingNodes=!1}for(console.log(u),this.saveNodeConfigData(u,n),this.deleteOptions.length&&u.push.apply(u,Object(a["a"])(this.deleteOptions.map(function(e){return e.dr=1,e}))),l=[],p=!0,h=!1,m=void 0,e.prev=21,g=u[Symbol.iterator]();!(p=(v=g.next()).done);p=!0)b=v.value,y=new _(b),delete y.children,delete y.commonNodes,delete y.options,l.push(y);e.next=29;break;case 25:e.prev=25,e.t0=e["catch"](21),h=!0,m=e.t0;case 29:e.prev=29,e.prev=30,p||null==g.return||g.return();case 32:if(e.prev=32,!h){e.next=35;break}throw m;case 35:return e.finish(32);case 36:return e.finish(29);case 37:console.log(u),console.log(l),console.timeEnd("保存数据处理"),Object(f["saveNodes"])(l).then(function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(n){var r,a,i,s,c,d,l,p,h,m,f,g,v,b,y,w,k,_;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:for(C.unlockNode(C.currentEditNode),C.saveStatus="saved",r=new Map,a=!0,i=!1,s=void 0,e.prev=6,c=u[Symbol.iterator]();!(a=(d=c.next()).done);a=!0)l=d.value,r.set(l.uuid,l),C.nodeManager.nodeMap.set(l.uuid,l);e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](6),i=!0,s=e.t0;case 14:e.prev=14,e.prev=15,a||null==c.return||c.return();case 17:if(e.prev=17,!i){e.next=20;break}throw s;case 20:return e.finish(17);case 21:return e.finish(14);case 22:for(p=!0,h=!1,m=void 0,e.prev=25,f=n.data.data[Symbol.iterator]();!(p=(g=f.next()).done);p=!0)for(y in v=g.value,b=r.get(v.uuid),v)b[y]=v[y],b.showConditionDesc="",b.translateDesc="";e.next=33;break;case 29:e.prev=29,e.t1=e["catch"](25),h=!0,m=e.t1;case 33:e.prev=33,e.prev=34,p||null==f.return||f.return();case 36:if(e.prev=36,!h){e.next=39;break}throw m;case 39:return e.finish(36);case 40:return e.finish(33);case 41:"add"===C.operationType?(C.currentEditParentNode.children?C.currentEditPrevNode?(w=C.currentEditParentNode.children.findIndex(function(e){return e.id===C.currentEditPrevNode.id}),C.currentEditParentNode.children.splice(w+1,0,C.currentEditNode)):C.currentEditParentNode.children.push(C.currentEditNode):C.currentEditParentNode.children=[C.currentEditNode],C.operationType="edit"):"edit"===C.operationType&&(_=C.currentEditParentNode.children.findIndex(function(e){return e.id===C.currentEditNode.id}),(k=C.currentEditNode.children).push.apply(k,o),C.currentEditParentNode.children.splice(_,1,C.currentEditNode)),C.currentEditNode.nestProjectId&&C.nodeManager.loadCommonNodes(C.currentEditNode),C.savingNodes=!1,t&&(C.editorModal=!1),C.hideFloatNodeTree();case 46:case"end":return e.stop()}},e,this,[[6,10,14,22],[15,,17,21],[25,29,33,41],[34,,36,40]])}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){console.error(e),C.$Message.error("保存失败，请稍后重试！"),C.savingNodes=!1}),this.$forceUpdate();case 42:case"end":return e.stop()}},e,this,[[21,25,29,37],[30,,32,36]])}));return function(t){return e.apply(this,arguments)}}(),toConfig:function(){this.$refs.configBoard.tabTo("config")},saveNodeConfigData:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(var n in e)if(t)e[n]["newComponentData"]&&delete e[n]["newComponentData"],e[n]["componentInfo"]&&delete e[n]["componentInfo"];else if(e[n]["newComponentData"]&&(console.log("newComponentData"),console.log(e[n]["newComponentData"]),e[n]["componentInfo"]=e[n]["newComponentData"],delete e[n]["newComponentData"]),e[n]["componentInfo"]&&e[n]["componentInfo"]["items"]&&e[n]["componentInfo"]["items"].length)for(var o in e[n]["componentInfo"]["items"])if(e[n]["componentInfo"]["items"][o]["configs"])for(var r in e[n]["componentInfo"]["items"][o]["configs"])e[n]["componentInfo"]["items"][o]["configs"][r]["configData"]&&(delete e[n]["componentInfo"]["items"][o]["configs"][r]["configData"]["createTime"],delete e[n]["componentInfo"]["items"][o]["configs"][r]["configData"]["createrId"],e[n]["componentInfo"]["items"][o]["configs"][r]["configData"]["id"]=null,delete e[n]["componentInfo"]["items"][o]["configs"][r]["configData"]["updateTime"])},editNode:function(e){var t=1===+e.params.node.type?e.params.node:this.nodeManager.nodeMap.get(e.params.node.parentUuid);this.operationType="edit",this.currentEditParentNode=this.nodeManager.getParentNode(t);var n=this.deepCopy(t);this.lockNode(t),this.openEditModal(n)},addOption:function(e){var t=new _({uuid:c()(),title:"",parentId:e.params.node?e.params.node.id:null,parentUuid:e.params.node?e.params.node.uuid:null,projectId:e.params.node&&e.params.node.projectId?e.params.node.projectId:this.projectId,componentId:e.params.componentId,type:2}),n=e.params.node.children.length-1;for(var o in e.params.node.children)1!==+e.params.node.children[+o].type&&(n=+o);this.nodeManager.updateSort(t,e.params.node.children[n],e.params.node.children[n+1]),e.params.node.children.push(t)},deleteOption:function(e){e.params.node.id&&this.deleteOptions.push(e.params.node)},addFirstNode:function(e){var t=this.nodeList||null,n=new h["a"]({name:"add-child-node",event:e,vn:this.$vnode,params:{node:t||new _({children:this.nodeManager.tree})}});this.addChildNode(n)},addChildNode:function(e){this.operationType="add";var t=new _({uuid:c()(),title:"",parentId:e.params.node?e.params.node.id:null,projectId:e.params.node&&e.params.node.projectId?e.params.node.projectId:this.projectId,parentUuid:e.params.node?e.params.node.uuid:null,componentId:e.params.componentId});this.currentEditParentNode=e.params.node,e.params.node.children&&e.params.node.children.length&&this.nodeManager.updateSort(t,e.params.node.children[e.params.node.children.length-1],null);for(var n=0;n<4;n++)this.addOption(new h["a"]({name:"addOption",event:null,vn:this.$vnode,params:{node:t}}));this.openEditModal(t)},addNextNode:function(e){this.operationType="add";var t=new _({uuid:c()(),title:"",parentId:e&&e.params&&e.params.node?e.params.node.parentId:null,projectId:e.params.node&&e.params.node.projectId?e.params.node.projectId:this.projectId,componentId:e.params.componentId,parentUuid:e&&e.params&&e.params.node?e.params.node.parentUuid:null});this.currentEditParentNode=this.nodeManager.getParentNode(e.params.node),this.currentEditPrevNode=e&&e.params.node?e.params.node:null;var n=this.nodeManager.getNextNode(e.params.node);e&&e.params.node&&this.nodeManager.updateSort(t,e.params.node,n);for(var o=0;o<4;o++)this.addOption(new h["a"]({name:"addOption",event:null,vn:this.$vnode,params:{node:t}}));this.openEditModal(t)},deleteNodes:function(e){var t=this;if(e.params.node.children){var n=!0,o=!1,r=void 0;try{for(var a,i=e.params.node.children[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var s=a.value;if(1===+s.type||s.children&&s.children.length)return void this.$Modal.error({title:"提示：",content:"包含子问题的节点不允许直接删除！"})}}catch(e){o=!0,r=e}finally{try{n||null==i.return||i.return()}finally{if(o)throw r}}}this.$Modal.confirm({title:"警告！",content:"删除节点后不可恢复，是否继续删除？",onOk:function(){Object(f["deleteNodes"])({delete:[e.params.node.id],update:[]}).then(function(n){t.nodeManager.removeNode(e.params.node)}).catch(function(e){console.error(e),t.$Message.error("删除失败，请稍后重试！")})},onCancel:function(){}})},updateCustomComponentList:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=[{sourceId:this.projectId,sourceType:3}],this.teamId&&t.push({sourceId:this.teamId,sourceType:2}),this.currentCompany&&t.push({sourceId:this.currentCompany,sourceType:1}),e.next=5,this.$store.dispatch("component/customComponentList",t);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),openEditModal:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){var n,o,r,a,i,s,c=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.openingModal){e.next=2;break}return e.abrupt("return");case 2:return this.openingModal=!0,n=this.$Message.loading({content:"加载中..."}),this.currentEditNode=t,e.next=7,this.updateCustomComponentList();case 7:if(!t||!t.id){e.next=17;break}return e.next=10,Object(f["getNodeConfigData"])(t.id,function(e){c.$log("NodeEditor",e)});case 10:o=e.sent,this.$log("NodeEditor","-----节点配置信息-----",o.data.data),this.$log("NodeEditor","-----节点信息-----",this.currentEditNode),this.updateComponentInfo(this.currentEditNode,o.data.data),this.$log("NodeEditor","-----节点信息-----",this.currentEditNode),e.next=19;break;case 17:for(r in this.currentEditNode.componentInfo={items:[{componentId:null}]},this.currentEditNode.children)this.currentEditNode.children[r].componentInfo={items:[{componentId:null}]};case 19:if(this.currentEditNode.type=""+this.currentEditNode.type,null===this.currentEditNode.remarks&&(this.currentEditNode.remarks=""),n(),a=4-this.currentEditNode.children.length,a>0)for(i=this.componentOptions.input.id,this.currentEditNode.componentId===this.componentQuestion["singleSelect"].id?i=this.componentOptions["singleSelect-option"].id:this.currentEditNode.componentId===this.componentQuestion["multiSelect"].id?i=this.componentOptions["multiSelect-option"].id:this.currentEditNode.componentId===this.componentQuestion["judge"].id&&(i=this.componentOptions["judge-option"].id),s=0;s<a;s++)this.addOption(new h["a"]({name:"addOption",event:null,vn:this.$vnode,params:{node:this.currentEditNode,componentId:i}}));this.editorModal=!0,this.openingModal=!1;case 26:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),updateComponentInfo:function(e,t){for(var n in t)if(t[n]["id"]===e["id"]){for(var o in e)"children"!==o&&void 0!==t[n][o]&&(e[o]=t[n][o]);for(var r in t[n])void 0===e[r]&&(e[r]=t[n][r]);break}for(var a in t)for(var i in e["children"])if(t[a]["id"]===e["children"][i]["id"]){for(var s in e["children"][i])void 0!==t[a][s]&&(e["children"][i][s]=t[a][s]);for(var c in t[a])void 0===e["children"][i][c]&&(e["children"][i][c]=t[a][c])}},handleMoveToProject:function(e){var t=this;this.linkProject.open=!0,this.setLinkType(this.linkProject.linkType),this.linkProject.data.newNodeName=e.params.node.title,this.linkProject.data.nodeId=e.params.node.id,this.linkProject.recordData.projectId=e.params.node.projectId,this.$bus.$emit("get-root-project",function(e){t.linkProject.rootProject=e})},setLinkType:function(e){this.linkProject.linkType=e,this.linkProject.data.action=e<=2?1:2;var t=2===e||4===e;this.linkProject.data.type=t?1:2,this.linkProject.text=t?"项目":"共用包"},clearLinkProjecInfo:function(){this.linkProject.open=!1,this.linkProject.linkType=1,this.linkProject.text="",this.linkProject.data.nodeId=0,this.linkProject.data.action=1,this.linkProject.data.type=1,this.linkProject.data.projectId=0,this.linkProject.data.projectName="",this.linkProject.data.reference=!1,this.linkProject.data.newNodeName=""},refreshNodePageDone:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.projectId===this.linkProject.recordData.projectId&&this.getNodeData(this.projectId);case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),checkLinkProjectData:function(){if(1===this.linkProject.data.action){if(!this.linkProject.data.projectId)return this.$Message.error("请选择"+this.linkProject.text),!1;if(this.linkProject.data.projectId===this.linkProject.recordData.projectId)return this.$Message.error("不能移动到当前项目"),!1}else if(!this.linkProject.data.projectName)return this.$Message.error("请填写"+this.linkProject.text+"名称"),!1;return!0},moveToProject:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.checkLinkProjectData()){e.next=2;break}return e.abrupt("return");case 2:if(!this.linkProject.lock){e.next=5;break}return this.$Message.info("已发送请求，请耐心等待"),e.abrupt("return");case 5:return this.linkProject.lock=!0,e.next=8,Object(f["moveNodeToProject"])(this.linkProject.data);case 8:t=e.sent,this.linkProject.lock=!1,t?this.$bus.$emit("refresh-project-tree",this.linkProject.recordData,this.refreshNodePageDone):this.$Message.error("操作失败");case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),refreshBackLinkProject:function(){this.linkProject.open&&this.clearLinkProjecInfo()},handleDragStart:function(e){this.draggingNode=e.params.node},handleDrop:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(t){var n,o,r,a,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.processingDrag=!0,n=t.params.target,o=t.params.type,r=this.deepCopy(this.draggingNode),a=0,e.t0=o,e.next="prev"===e.t0?8:"next"===e.t0?11:"child"===e.t0?14:17;break;case 8:return a=3,this.$log("拖动到上一个"),e.abrupt("break",18);case 11:return a=1,this.$log("拖动到下一个"),e.abrupt("break",18);case 14:return a=2,this.$log("拖动到子节点"),e.abrupt("break",18);case 17:return e.abrupt("return");case 18:return e.prev=18,e.next=21,Object(f["dragNode"])({operateNodeId:r.id,position:a,targetNodeId:n.id});case 21:i=e.sent,e.next=29;break;case 24:e.prev=24,e.t1=e["catch"](18),console.error(e.t1),this.$Message.error("操作失败！"),this.processingDrag=!1;case 29:i.response.success?(r.sort=i.data.sort,r.parentId=i.data.parentId,r.parentUuid=i.data.parentUuid,this.nodeManager.removeNode(this.draggingNode),this.nodeManager.insertNode(r,n,o)):this.$Message.error("操作失败！"),this.$forceUpdate(),this.processingDrag=!1;case 32:case"end":return e.stop()}},e,this,[[18,24]])}));return function(t){return e.apply(this,arguments)}}(),handleEnterNode:function(e){this.nodeManager.enterNode(e.params.node)},toggleExpandAll:function(){var e=this;this.expand=!this.expand;var t=[];this.nodeManager.nodeMap&&this.nodeManager.nodeMap.length&&this.nodeManager.nodeMap.forEach(function(n){n.expanded=e.expand,t.push(n.id)}),this.saveToggleCollapse(new h["a"]({name:"addOption",event:null,vn:this.$vnode,params:{nodeIds:t,status:this.expand?1:0}}))},saveToggleCollapse:function(e){Object(f["toggleNodeCollapse"])({ids:e.params.nodeIds,expandStatus:e.params.status}).then(function(e){e.data;var t=e.response;console.log(t)}).catch(function(e){console.error(e)})},getNodeData:function(e){var t=this;this.outManager?this.nodeManager=this.outManager:e&&Object(f["getNodeData"])({id:null,pageNo:null,pageSize:null,projectId:e,expandAll:this.expandAll}).then(function(n){n.data.response.success?(t.nodeManager=new I(n.data.data||[],e),t.$nextTick(function(){t.$emit("inited",new h["a"]({name:"inited",event:null,vn:t.$vnode,params:{nodeManager:t.nodeManager}}))}),t.refreshBackLinkProject()):t.$Message.error("请求错误: ".concat(n.data.response.msg))}).catch(function(e){console.log(e),t.$Message.error("网络异常，请检查网络连接！")})}},sockets:{}},T=D,O=(n("0107"),n("566c"),Object(b["a"])(T,o,r,!1,null,"3302ce27",null));O.options.__file="nodeRender.vue";var N=O.exports;t["a"]=N},d8b1:function(e,t,n){},d935:function(e,t,n){"use strict";var o=n("fe33"),r=n.n(o);r.a},db54:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.cnode.items[0]?n("div",{staticClass:"custom-component-edit"},[n("Modal",{attrs:{"mask-closable":!1,loading:e.loading,closable:!0,width:"98%"},on:{"on-cancel":e.customComponentCancel},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[n("p",{attrs:{slot:"header"},slot:"header"},[e.editItem?n("span",[e._v("配置自定义组件")]):n("span",[e._v("添加自定义组件")])]),n("Row",{attrs:{gutter:16}},[e.loading?e._e():n("Col",{attrs:{span:"24"}},[n("Form",{ref:"formCustomComponentEdit",attrs:{"label-width":180,model:e.cnode,rules:e.formCustomComponentEditValidate}},[n("Row",{staticClass:"edit-item",attrs:{gutter:16}},[n("Col",{attrs:{span:"24"}},[n("Form-item",{attrs:{label:"名称"+(e.cnode.items[0]&&e.cnode.items[0].code&&!e.isNew?" ("+e.cnode.items[0].code+")":""),prop:"name"}},[n("Input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入标题"},on:{"on-change":e.changName},model:{value:e.cnode.name,callback:function(t){e.$set(e.cnode,"name",t)},expression:"cnode.name"}})],1),n("Form-item",{attrs:{label:"描述"}},[n("Input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入描述"},model:{value:e.cnode.remarks,callback:function(t){e.$set(e.cnode,"remarks",t)},expression:"cnode.remarks"}})],1)],1)],1),n("Row",{staticClass:"edit-item",attrs:{gutter:16}},[n("Col",{attrs:{span:"24"}},[n("Form-item",{attrs:{label:"输入方式"}},[n("ButtonGroup",[n("Button",{class:"judge"===e.selectCustomComponentType?"editing":"",on:{click:function(t){e.clickCustomComponentTypeButton("judge")}}},[e._v("判断")]),n("Button",{class:"singleSelect"===e.selectCustomComponentType?"editing":"",on:{click:function(t){e.clickCustomComponentTypeButton("singleSelect")}}},[e._v("单选")]),n("Button",{class:"multiSelect"===e.selectCustomComponentType?"editing":"",on:{click:function(t){e.clickCustomComponentTypeButton("multiSelect")}}},[e._v("多选")]),n("Button",{class:"multiInput"===e.selectCustomComponentType?"editing":"",on:{click:function(t){e.clickCustomComponentTypeButton("multiInput")}}},[e._v("多填")]),n("Button",{class:"tree"===e.selectCustomComponentType?"editing":"",on:{click:function(t){e.clickCustomComponentTypeButton("tree")}}},[e._v("树形")])],1)],1)],1)],1),"other"===e.selectCustomComponentType?n("Row",[n("Col",{attrs:{span:"24"}},[n("Form-item",{attrs:{label:"输入方式"}},[e.cnode.items[0]&&e.cnode.items[0].componentId?n("Select",{attrs:{filterable:!0,size:"default",transfer:!1},on:{"on-change":function(t){e.changeCustomComponent(t,e.cnode)}},model:{value:e.cnode.items[0].componentId,callback:function(t){e.$set(e.cnode.items[0],"componentId",t)},expression:"cnode.items[0].componentId"}},e._l(e.componentList,function(t,o){return(1===t.type||2===t.type&&(!t.items[0].uuid||t.items[0].uuid&&"00000000-0000-0000-0000-000000000012"!==t.items[0].uuid))&&(!t.otherConfig||t.otherConfig&&-1===t.otherConfig.indexOf("display"))?n("Option",{key:o,attrs:{value:t.id}},[e._v(e._s(t.name))]):e._e()})):e._e()],1)],1)],1):e._e(),!e.isNew&&e.isTeamComponent?n("Row",[n("Col",{attrs:{span:"24"}},[n("Form-item",{attrs:{label:"修改归属"}},[n("RadioGroup",{model:{value:e.moveToComponent,callback:function(t){e.moveToComponent=t},expression:"moveToComponent"}},[n("Radio",{attrs:{label:"false"}},[e._v("不修改")]),n("Radio",{attrs:{label:"org"}},[e._v(e._s("移动到 "+e.currentCompanyName+" 公司"))]),3===e.teamType&&e.teamName(e.projectId)?n("Radio",{attrs:{label:"team"}},[e._v(e._s("移动到 "+e.teamName(e.projectId)+" 团队"))]):e._e()],1)],1)],1)],1):e._e(),"multiInput"!==e.selectCustomComponentType&&"multiSelect"!==e.selectCustomComponentType&&"other"!==e.selectCustomComponentType?n("Row",{staticClass:"custom-component-config-other-config",staticStyle:{"margin-bottom":"10px"}},[n("Col",{staticStyle:{"text-align":"right"},attrs:{span:"2"}},[e._v("选项配置项")]),n("Col",{attrs:{span:"22"}},[e.showEditor?e._e():n("div",{staticStyle:{height:"100px",width:"100%","text-align":"center"}},[e.showEditor?e._e():n("Spin",{attrs:{size:"large",fix:""}})],1),e.componentDefaultData?n("configComponent",{attrs:{componentId:e.cnode.items[0].componentId,componentDefaultData:e.componentDefaultData,componentData:e.cnode.componentInfo,cType:2},on:{updateConfig:e.updateConfig,updateComponentData:function(t){e.updateComponentData(t,e.cnode)}}}):e._e()],1)],1):e._e(),e.cnode.items[0]&&e.showCustomComponentOptions?[n("div",{staticClass:"coptions-table"},[n("Row",{staticClass:"coptions-title",attrs:{gutter:16}},[n("Col",{attrs:{span:"2"}},[e._v("序号")]),n("Col",{attrs:{span:"7"}},[e._v("选项标题")]),n("Col",{directives:[{name:"show",rawName:"v-show",value:e.showCustomComponentSelectType,expression:"showCustomComponentSelectType"}],attrs:{span:"5"}},[e._v("输入方式")]),n("Col",{attrs:{span:"5"}},[e._v("选择或填写提示")]),n("Col",{attrs:{span:"1"}},[e._v("必填")]),"judge"!==e.selectCustomComponentType?n("Col",{attrs:{span:"3"}},[e._v("操作")]):e._e()],1),e.cnode.items.length?n("draggable",{attrs:{options:{handle:".cindex",dragClass:"dragging",draggable:".coptions-item"}},model:{value:e.cnode.items,callback:function(t){e.$set(e.cnode,"items",t)},expression:"cnode.items"}},e._l(e.cnode.items,function(t,o){return 0!==o&&("judge"!==e.selectCustomComponentType||o<3)?n("Row",{key:o,staticClass:"coptions-item",attrs:{gutter:10}},[n("Col",{staticClass:"cindex",attrs:{span:"2"}},[e._v("#"+e._s(o)+" "+e._s(t.code&&!e.isNew?"("+t.code+")":""))]),n("Col",{attrs:{span:"7"}},[n("Input",{attrs:{placeholder:"请输入标题",type:"text"},model:{value:t.name,callback:function(n){e.$set(t,"name",n)},expression:"option.name"}})],1),n("Col",{directives:[{name:"show",rawName:"v-show",value:e.showCustomComponentSelectType,expression:"showCustomComponentSelectType"}],staticStyle:{"text-align":"left"},attrs:{span:"5"}},[e.showCustomComponentSelectType?n("Select",{attrs:{filterable:!0,size:"default",transfer:!1},on:{"on-change":function(n){e.changeCustomComponent(n,t,o)}},model:{value:t.componentId,callback:function(n){e.$set(t,"componentId",n)},expression:"option.componentId"}},e._l(e.componentList,function(t,o){return(1===t.type||2===t.type&&"00000000-0000-0000-0000-000000000012"!==t.items[0].uuid&&"00000000-0000-0000-0000-000000000016"!==t.items[0].uuid&&"00000000-0000-0000-0000-000000000024"!==t.items[0].uuid)&&(!t.otherConfig||t.otherConfig&&-1===t.otherConfig.indexOf("display"))?n("Option",{key:o,attrs:{value:t.id}},[e._v(e._s(t.name))]):e._e()})):e._e()],1),n("Col",{attrs:{span:"5"}},[n("Input",{attrs:{placeholder:"选项描述",type:"text"},model:{value:t.remarks,callback:function(n){e.$set(t,"remarks",n)},expression:"option.remarks"}})],1),n("Col",{attrs:{span:"1"}},[n("Checkbox",{attrs:{disabled:t.point},model:{value:t.require,callback:function(n){e.$set(t,"require",n)},expression:"option.require"}})],1),"judge"!==e.selectCustomComponentType?n("Col",{attrs:{span:"3"}},[n("Button",{on:{click:function(n){e.deleteCustomComponentOption(t,o)}}},[e._v("删除")])],1):e._e(),n("Col",{attrs:{span:"24"}},[e._l(e.componentList,function(r,a){return e.showCustomComponentSelectType&&t.componentId&&r.id===t.componentId?[n("Row",{key:a,attrs:{gutter:10}},[n("Col",{attrs:{span:"7"}},[n("div",[e._v(" ")])]),n("Col",{attrs:{span:"17"}},[n("div",{staticClass:"config-component"},[n("div",{staticClass:"poptip-arrow"}),"multiInput"!==e.selectCustomComponentType&&"other"!==e.selectCustomComponentType||2!==r.type||"00000000-0000-0000-0000-000000000005"!==r.items[0].uuid&&"00000000-0000-0000-0000-000000000007"!==r.items[0].uuid&&"00000000-0000-0000-0000-000000000013"!==r.items[0].uuid?n("configComponent",{attrs:{componentDefaultData:t,componentData:t,itemId:0,useItem:!0,componentType:r.type,cType:2},on:{updateComponentData:function(n){e.updateComponentData(n,t)}}}):e._l(r.items,function(t,a){return n("div",{key:a},[a>0?[n("h2",[e._v(e._s(t.name))]),e.cnode.items[o]["children"]&&e.cnode.items[o]["children"].length?n("configComponent",{attrs:{componentDefaultData:t,componentData:e.cnode.items[o]["children"][a-1],itemId:0,componentType:r.type,cType:2,useItem:!0},on:{updateComponentData:function(t){e.updateComponentData(t,e.cnode.items[o]["children"][a-1])}}}):e._e()]:e._e()],2)})],2)])],1)]:e._e()})],2)],1):e._e()})):e._e()],1),"judge"!==e.selectCustomComponentType?n("Button",{staticStyle:{"margin-top":"10px"},attrs:{type:"primary",shape:"circle",icon:"md-add"},on:{click:e.addCustomComponentOption}},[e._v("添加选项")]):e._e()]:e._e(),e.treeShow?[n("ul",{staticClass:"switch-list"},[n("li",{staticClass:"switch-item"},[n("Button",{on:{click:e.addRow}},[e._v("添加一行（选定位置之后）")])],1),n("li",{staticClass:"switch-item"},[n("Button",{on:{click:e.prependTable}},[e._v("添加一行（到表头）")])],1),n("li",{staticClass:"switch-item"},[n("Button",{on:{click:e.appendRow}},[e._v("添加子行（作为最后一个子元素）")])],1),n("li",{staticClass:"switch-item"},[n("Button",{on:{click:e.removeRow}},[e._v("删除当前选中行（及其子元素）")])],1),n("li",{staticClass:"switch-item"},[n("Button",{on:{click:e.expandedAllOrCollapsedAll}},[e._v("全部展开/收起（数据量大时慎用）")])],1),n("li",{staticClass:"switch-item"},[n("Button",{on:{click:e.exportAsExcel}},[e._v("导出数据为Excel文档")])],1),n("li",{staticClass:"switch-item"},[n("Button",{on:{click:e.downloadExcelTemplate}},[e._v("下载Excel树形数据校检模板")])],1),n("li",{staticClass:"switch-item"},[n("Button",{on:{click:e.getGTCITY}},[e._v("实时获取国家统计局《统计用区划代码和城乡划分代码》")])],1),n("li",{staticClass:"switch-item"},[n("Button",{on:{click:e.getMZCITY}},[e._v("实时获取国家民政部《中华人民共和国行政区划代码》")])],1)])]:e._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:e.treeShow,expression:"treeShow"}],attrs:{id:"grid"}})],2)],1),e.loading?n("Col",{attrs:{span:"24"}},[n("Spin",{attrs:{fix:""}},[n("div",[e._v("正在保存数据，请稍候...")])])],1):e._e()],1),n("div",{staticClass:"config-modal-footer",attrs:{slot:"footer"},slot:"footer"},[n("Row",{attrs:{type:"flex",justify:"end"}},[n("Button",{attrs:{type:"primary",loading:e.loading},on:{click:e.customComponentOk}},[e._v("\n          保存\n        ")])],1)],1)],1),n("Modal",{attrs:{"mask-closable":!1,closable:!1,width:"50%"},model:{value:e.loadingCity,callback:function(t){e.loadingCity=t},expression:"loadingCity"}},[n("p",{attrs:{slot:"header"},slot:"header"},[e._v("\n      提示\n    ")]),n("div",{staticStyle:{"text-align":"center"}},[n("div",{staticClass:"spin-loading"},[n("Spin",{attrs:{size:"large",fix:""}})],1),e._v("\n      数据正在获取中，请耐心等待。预计需要1分钟，请勿关闭浏览器。\n    ")]),n("div",{staticClass:"config-modal-footer",attrs:{slot:"footer"},slot:"footer"},[n("Row",{attrs:{type:"flex",justify:"end"}},[n("Button",{attrs:{type:"primary",loading:!0}},[e._v("\n          关闭\n        ")])],1)],1)])],1):e._e()},r=[],a=n("ed27"),i=a["a"],s=(n("0cb3"),n("2877")),c=Object(s["a"])(i,o,r,!1,null,null,null);c.options.__file="edit.vue";t["a"]=c.exports},db6a:function(e,t,n){"use strict";n.r(t),n.d(t,"getTages",function(){return r}),n.d(t,"getTagesByRelation",function(){return a});var o=n("6b6c");function r(e){return o["a"].post("/mvp-manager/tag/list",e).then(function(e){return e.data})}function a(e){return o["a"].post("/mvp-manager/tag/listTagByRelationTag",e).then(function(e){return e.data})}},dc08:function(e,t,n){"use strict";var o=n("4349"),r=n.n(o);r.a},dc0e:function(e,t,n){"use strict";(function(e){n("6762"),n("2fdb"),n("f751");var o=n("8afe"),r=(n("ac4d"),n("8a81"),n("ac6a"),n("20d6"),n("55dd"),n("96cf"),n("3040")),a=(n("7514"),n("1c31")),i=n("24d2"),s=n("3bec"),c=n("a0f0"),u=n("52e7"),d=n("8b88"),l=n("bb94"),p=n("2ba2");t["a"]={name:"report-tree-page",components:{schemaComponent:s["a"],Editor:c["a"],Tree:u["a"],chooseProject:d["a"],checkReport:p["a"]},data:function(){return{reportData:[],chapterData:[],codeList:[],currentReport:0,currentChapter:0,turnToReport:0,turnToChapter:0,turnToCode:0,testCodeIdx:-1,dirtyCode:[],editingNode:{show:!1,showProjectList:!1,title:"",data:{condition:"",title:"",projectId:"",conditionCheckState:!1},callback:{}},errorCodeIDx:-1,showLayout:3,timerIndex:0,detaCheckTime:5e3,showReportCondition:!0,testType:l["a"],projectInfo:{},showType:0}},watch:{testList:function(){this.$bus.$emit("pop-helper-update-prop","codeTest",{codeList:this.testList,sourceId:this.codeSourceId,sourceType:this.testType.REPORT_BLOCK_CODE,projectId:this.projectId,showErrorButton:!0})},condition:function(e,t){this.editingNode.data.conditionCheckState=!1},showType:function(){this.refreshPage()}},computed:{testList:function(){for(var e=[],t=0;t<=this.testCodeIdx;t++){var n=this.codeList[t].content;e.push(n)}return e},codeSourceId:function(){var e=this.codeList[this.testCodeIdx];return e?e.id:0},testCondition:function(){return[this.editingNode.data.condition]},projectId:function(){return this.$route.query.projectId||""},rootId:function(){return this.$route.query.rootId||""},testPass:function(){return!this.codeList.find(function(e){return!e.checkState})},currentReportData:function(){return this.findNodeInTree(this.reportData,this.currentReport)},currentChapterData:function(){return this.findNodeInTree(this.chapterData,this.currentChapter)},condition:function(){return this.editingNode.data.condition}},mounted:function(){this.getReportTree(),this.getProjectDetail(),this.timerIndex=setTimeout(this.checkCodeSave,this.detaCheckTime),this.$bus.$on("code-test-error-card",this.errorNotify),this.$bus.$on("code-test-pass",this.codeTestPass),this.$bus.$on("code-test-focus-error-code",this.focusErrorCode),this.$bus.$on("code-test-end",this.codeTestEnd),this.$bus.$on("jump-to-code",this.jumpToCode)},beforeDestroy:function(){this.timerIndex&&(this.checkCodeSave(),clearTimeout(this.timerIndex)),this.$bus.$emit("pop-helper-hide-menu","codeTest"),this.$bus.$emit("pop-helper-hide-menu","nodeTree"),this.$bus.$off("code-test-error-card",this.errorNotify),this.$bus.$off("code-test-pass",this.codeTestPass),this.$bus.$off("code-test-focus-error-code",this.focusErrorCode),this.$bus.$off("code-test-end",this.codeTestEnd),this.$bus.$off("jump-to-code",this.jumpToCode)},methods:{codeCardKeyDown:function(e,t,n){var o=!0,r=!0;e.ctrlKey?"Enter"===e.code?e.shiftKey?this.$bus.$emit("pop-helper-show-menu","nodeTree"):this.openTestBord(n):"KeyS"===e.code?this.checkCodeSave(1):"KeyD"===e.code?this.recordCodeInfo(t):o=r=!1:o=r=!1,o&&e.stopPropagation(),r&&e.preventDefault()},getProjectDetail:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i["default"].getProjectDetail({id:this.projectId});case 2:this.projectInfo=e.sent;case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),refreshPage:function(){this.getProjectDetail(),this.turnToReport=this.currentReport,this.turnToChapter=this.currentChapter,this.getReportTree()},getReportTree:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){var t,n,o=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.reportData=[],this.chapterData=[],this.codeList=[],e.next=5,a["default"].getReportTree({projectRootId:this.rootId});case 5:if(t=e.sent,t){e.next=9;break}return this.$Message.error("获取报告树失败"),e.abrupt("return");case 9:n=[],n=0===this.showType?t.result.filter(function(e){return e.projectId===o.projectId}):t.result,n&&(this.listToTree(this.reportData,n),this.reportData.length&&this.chooseTreeNode("report"));case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),getChapterTree:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.chapterData=[],this.codeList=[],this.currentReport){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,a["default"].getChapterTree({reportId:this.currentReport});case 6:if(t=e.sent,t){e.next=10;break}return this.$Message.error("获取章节树失败"),e.abrupt("return");case 10:n=t.result,n&&(this.listToTree(this.chapterData,n),this.chapterData.length&&this.chooseTreeNode("chapter"));case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),getCodeList:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){var t,n,o=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.codeList=[],this.testCodeIdx=-1,this.currentChapter){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,a["default"].getCodeList({reportOutlineId:this.currentChapter});case 6:t=e.sent,t||this.$Message.error("获取代码列表失败"),this.codeList=t.result,this.codeList.sort(function(e,t){return e.sort-t.sort}),n=this.codeList.findIndex(function(e){return e.id===o.turnToCode}),-1!==n&&this.$nextTick(function(){o.$refs.editor[n].$el.scrollIntoView(),o.$refs.editor[n].focusEditor()});case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),jumpToCode:function(e){e.report&&(this.turnToReport=e.report),e.chapter&&(this.turnToChapter=e.chapter),e.code&&(this.turnToCode=e.code),console.log(e),this.getReportTree()},listToTree:function(e,t){if(t){e.splice(0,e.length);var n=function(e,t){return e.sort-t.sort},o=!0,r=!1,a=void 0;try{for(var i,s=t[Symbol.iterator]();!(o=(i=s.next()).done);o=!0){var c=i.value;if(c.parentId){var u=!0,d=!1,l=void 0;try{for(var p,h=t[Symbol.iterator]();!(u=(p=h.next()).done);u=!0){var m=p.value;if(m.id===c.parentId){var f=m.children||[];f.push(c),f.sort(n),this.$set(m,"children",f)}}}catch(e){d=!0,l=e}finally{try{u||null==h.return||h.return()}finally{if(d)throw l}}}else e.push(c),e.sort(n)}}catch(e){r=!0,a=e}finally{try{o||null==s.return||s.return()}finally{if(r)throw a}}}},findNodeInTree:function(e,t){if(!e.length)return null;var n=!0,o=!1,r=void 0;try{for(var a,i=e[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var s=a.value;if(s.id===t)return s;var c=this.findNodeInTree(s.children||[],t);if(c)return c}}catch(e){o=!0,r=e}finally{try{n||null==i.return||i.return()}finally{if(o)throw r}}return null},chooseTreeNode:function(e,t){var n="report"===e?"turnToReport":"turnToChapter",o="report"===e?"currentReport":"currentChapter",r="report"===e?this.reportData:this.chapterData,a=t||this[n],i=null;a&&(i=this.findNodeInTree(r,a)),console.log(i,t,this[n],"~~~~~~~~~~~~~~~~~choose"),!i&&r.length&&(i=r[0]),this[o]=i?i.id:0,"report"===e?this.getChapterTree():this.getCodeList()},autoCreate:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){var t,n,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.editingNode.data={condition:"",title:"默认创建的报告",projectId:this.projectId,parentId:null,note:"",projectRootId:this.rootId},e.next=3,this.addRootNode("report");case 3:if(t=e.sent,t){e.next=7;break}return this.$Message.error("创建示例报告失败"),e.abrupt("return");case 7:return this.editingNode.data={condition:"",title:"默认创建的章节",projectId:"",parentId:null,note:"",reportId:this.currentReport},e.next=10,this.addRootNode("chapter");case 10:if(t=e.sent,t){e.next=14;break}return this.$Message.error("创建示例章节失败"),e.abrupt("return");case 14:return e.next=16,this.addCodeCard(null,!0);case 16:if(t=e.sent,t){e.next=20;break}return this.$Message.error("创建示例代码块失败"),e.abrupt("return");case 20:n=this.codeList[0],o='<?\n// 逻辑内容\n\techo "Hello World!";\n\n\n\n?>',n.content=o,this.checkCodeSave();case 24:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),openEditing:function(e,t,n,o){for(var r=arguments.length,a=new Array(r>4?r-4:0),i=4;i<r;i++)a[i-4]=arguments[i];this.editingNode.title=t,this.editingNode.showProjectList=n,this.$set(this.editingNode,"data",e),this.editingNode.data=e,this.editingNode.callback={func:o,args:a},this.editingNode.show=!0},editingDone:function(){this.editingDoneCallback()},editingDoneCallback:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.editingNode.show){e.next=2;break}return e.abrupt("return");case 2:if(this.checkEditingNode()){e.next=4;break}return e.abrupt("return");case 4:return t=this.editingNode.callback.func,n=this.editingNode.callback.args,e.next=8,t.apply(void 0,Object(o["a"])(n));case 8:r=e.sent,r&&this.clearEditingInfo();case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),editingCancle:function(){this.clearEditingInfo()},clearEditingInfo:function(){this.editingNode={show:!1,data:{condition:"",title:"",projectId:""},callback:{},showProjectList:!1}},checkEditingNode:function(){return!!this.editingNode.data.title||(this.$Message.warning("标题不能为空！"),!1)},newTreeNode:function(e,t){var n={title:"",condition:"",parentId:null,note:"",sort:0,type:1,conditionCheckState:!1};return Object.assign(n,e),"report"===t?n.projectRootId=this.rootId:n.reportId=this.currentReport,n},addTreeNode:function(e,t){return"report"===e?a["default"].addReportNode(t):a["default"].addChapterNode(t)},tryAddRootNode:function(e){var t,n,o={};"report"===e?(o.projectId=this.projectId,t="添加根级报告",n=!0):(t="添加根级章节",n=!1);var r=this.newTreeNode(o,e);this.openEditing(r,t,n,this.addRootNode,e)},addRootNode:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n,o,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n="report"===t?this.reportData:this.chapterData,o=this.newTreeNode(this.editingNode.data,t),e.next=4,this.addTreeNode(t,o);case 4:if(r=e.sent,!r){e.next=12;break}return r.children=[],n.push(r),this.chooseTreeNode(t,r.id),e.abrupt("return",!0);case 12:return this.$Message.error("添加失败"),e.abrupt("return",!1);case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),tryAddBrother:function(e,t,n){var o,r,a={};"report"===e?(a.projectId=t.projectId||this.projectId,o="添加同级报告",r=!n.id):(o="添加同级章节",r=!1),a.parentId=n.id||null,a.sort=t.sort+1;var i=this.newTreeNode(a,e);this.openEditing(i,o,r,this.addBrotherNode,e,n)},addBrotherNode:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t,n){var o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.addTreeNode(t,this.editingNode.data);case 2:if(o=e.sent,!o){e.next=10;break}return n.children.push(o),n.children.sort(function(e,t){return e.sort>t.sort}),this.chooseTreeNode(t,o.id),e.abrupt("return",!0);case 10:return this.$Message.error("添加失败"),e.abrupt("return",!1);case 12:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),tryAddChild:function(e,t){t.children||(this.$set(t,"children",[]),t.children=[]);var n,o={};"report"===e?(n="添加子级报告",o.projectId=t.projectId):n="添加子级章节",o.parentId=t.id,o.sort=t.children.length;var r=this.newTreeNode(o,e);this.openEditing(r,n,!1,this.addChildNode,e,t)},addChildNode:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t,n){var o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.addTreeNode(t,this.editingNode.data);case 2:if(o=e.sent,!o){e.next=9;break}return n.children.push(o),this.chooseTreeNode(t,o.id),e.abrupt("return",!0);case 9:return this.$Message.error("添加失败"),e.abrupt("return",!1);case 11:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),tryDeleteNode:function(e,t,n){var o="report"===n?"报告":"章节",r="确定删除".concat(t.title||o,"吗？");this.$confirm(r,this.deleteNode,n,e,t)},deleteNode:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t,n,o){var r,i,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r="report"===t?a["default"].deleteReportNode:a["default"].deleteChapterNode,e.next=3,r({ids:[o.id]});case 3:i=e.sent,i?(s=n.children.findIndex(function(e){return e.id===o.id}),-1!==s&&n.children.splice(s,1),("report"===t&&this.currentReport===o.id||"chapter"===t&&this.currentChapter===o.id)&&(this.currentChapter=0,this.chooseTreeNode(t))):this.$Message.error("删除失败");case 5:case"end":return e.stop()}},e,this)}));return function(t,n,o){return e.apply(this,arguments)}}(),tryUpdateNode:function(t,n){if(2!==n.type){var o,r,a=e.cloneDeep(n);"report"===t?(o="编辑报告",r=Boolean(n.projectId)):(o="编辑章节",r=!1),this.openEditing(a,o,r,this.updateNode,t,n)}else this.$Message.warning("全局变量不允许编辑")},updateNode:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t,n){var o,r,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return o={},o="report"===t?{reportCodeMap:{oldObject:n,newObject:this.editingNode.data}}:this.editingNode.data,r="report"===t?a["default"].updateReportNode:a["default"].updateChapterNode,e.next=5,r(o);case 5:if(i=e.sent,this.refreshPage(),!i){e.next=12;break}return this.$Message.success("更新成功"),e.abrupt("return",!0);case 12:return this.$Message.error("更新失败"),e.abrupt("return",!1);case 14:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),allowDrag:function(e){return e.type-2},allowDrop:function(e,t,n){return t.nodeData.type-2},handleDrop:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t,n){var o,r,i,s,c,u,d,l;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(o=n[0],r=n[1],i=n[2],s=o.nodeData,c={id:s.id},"inner"===i?(c.parentId=r.nodeData.id,c.targetId=null):(c.parentId=r.parentData.id||null,"before"===i?c.targetId=r.nodeData.id:(u=r.parentData.children,d=u.findIndex(function(e){return e.id===r.nodeData.id}),c.targetId=u[d+1]?u[d+1].id:null)),l=null,"report"!==t){e.next=13;break}return e.next=10,a["default"].moveReportNode(c);case 10:l=e.sent,e.next=16;break;case 13:return e.next=15,a["default"].moveChapterCodeOutline(c);case 15:l=e.sent;case 16:this.refreshPage(),l||this.$Message.error("更新失败了");case 18:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),handleContentClick:function(e,t){var n=t[1].nodeData.id;this.chooseTreeNode(e,n)},returnToProject:function(){this.$router.push({name:"Page",query:{docID:this.projectId}})},addCodeCard:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n,o,r,i,s,c=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=c.length>1&&void 0!==c[1]&&c[1],o="<?\n// 逻辑内容\n\n\n\n\n\n?>",!t){e.next=7;break}if(r=this.codeList.findIndex(function(e){return e.id===t.id}),!(t.content===o||this.codeList.length>r+1&&this.codeList[r+1].content===o)){e.next=7;break}return n||this.$Message.error("添加失败，当前存在空代码块！"),e.abrupt("return",!0);case 7:return e.next=9,a["default"].addCode({reportCodeBlockAO:{condition:o,content:o,note:"",title:"新建代码块",sort:0,reportOutlineId:this.currentChapter},targetId:t?t.id:null});case 9:if(i=e.sent,!i){e.next=17;break}return s=this.codeList.findIndex(function(e){return e.id===t.id}),-1!==s?this.codeList.splice(s+1,0,i):this.codeList.push(i),n||this.$Message.success("添加成功"),e.abrupt("return",!0);case 17:return n||this.$Message.error("添加失败"),e.abrupt("return",!1);case 19:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),tryDeleteCode:function(e){var t="确定删除代码块".concat(e.code,"吗？");this.$confirm(t,this.deleteCode,e)},deleteCode:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["default"].deleteCodeCard({ids:[t.id]});case 2:n=e.sent,n?(o=this.codeList.findIndex(function(e){return e.id===t.id}),-1!==o&&(this.codeList.splice(o,1),o===this.testCodeIdx&&(this.testCodeIdx=-1),this.$Message.success("删除成功"))):this.$Message.error("删除失败");case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),openTestBord:function(e){this.testCodeIdx=e,this.openTest()},openTest:function(){this.$bus.$emit("pop-helper-update-prop","codeTest",{codeList:this.testList,sourceId:this.codeSourceId,sourceType:this.testType.REPORT_BLOCK_CODE,projectId:this.projectId,showErrorButton:!0}),this.$bus.$emit("pop-helper-show-menu","codeTest"),this.$bus.$emit("code-test")},closeTest:function(){this.$bus.$emit("pop-helper-hide-menu")},recordDirty:function(e,t){this.dirtyCode.includes(e)||this.dirtyCode.push(e);var n=this.codeList.find(function(t){return t.id===e});n&&(n.checkState=t)},checkCodeSave:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n,o,r,a,i,s,c,u,d,l=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.timerIndex&&clearTimeout(this.timerIndex),this.dirtyCode.length){e.next=5;break}return t&&this.$Message.success("当前页面所有代码块已保存"),this.timerIndex=setTimeout(this.checkCodeSave,this.detaCheckTime),e.abrupt("return",!0);case 5:n=[],o=!0,r=!0,a=!1,i=void 0,e.prev=10,s=regeneratorRuntime.mark(function e(){var t,r,a,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=u.value,r=l.codeList.findIndex(function(e){return e.id===t}),-1!==r){e.next=4;break}return e.abrupt("return","continue");case 4:return a=l.codeList[r],e.next=7,l.saveCode(a.id);case 7:i=e.sent,i||(n.push(a.id),l.$Message.error("代码块"+a.id+"保存失败"),o=!1);case 9:case"end":return e.stop()}},e,this)}),c=this.dirtyCode[Symbol.iterator]();case 13:if(r=(u=c.next()).done){e.next=21;break}return e.delegateYield(s(),"t0",15);case 15:if(d=e.t0,"continue"!==d){e.next=18;break}return e.abrupt("continue",18);case 18:r=!0,e.next=13;break;case 21:e.next=27;break;case 23:e.prev=23,e.t1=e["catch"](10),a=!0,i=e.t1;case 27:e.prev=27,e.prev=28,r||null==c.return||c.return();case 30:if(e.prev=30,!a){e.next=33;break}throw i;case 33:return e.finish(30);case 34:return e.finish(27);case 35:return this.dirtyCode=n,this.timerIndex=setTimeout(this.checkCodeSave,this.detaCheckTime),e.abrupt("return",o);case 38:case"end":return e.stop()}},e,this,[[10,23,27,35],[28,,30,34]])}));return function(t){return e.apply(this,arguments)}}(),saveCode:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n,o,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=this.codeList.findIndex(function(e){return e.id===t}),-1!==n){e.next=3;break}return e.abrupt("return");case 3:return o=this.codeList[n],e.next=6,a["default"].saveCode.call(this,o);case 6:return r=e.sent,e.abrupt("return",null!==r);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),errorNotify:function(e){this.setTestCodeState(e,!1),this.errorCodeIDx=e},codeTestPass:function(e){e===this.testType.REPORT_BLOCK_CODE?this.setTestCodeState():e===this.testType.REPORT_OUTLINE_CODE_CONDITION||this.testType.REPORT_CODE_CONDITION},setTestCodeState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&(this.errorCodeIDx=-1);for(var n=e;n<=this.testCodeIdx;n++)this.codeList[n]&&this.codeList[n].checkState!==t&&this.recordDirty(this.codeList[n].id,t)},focusErrorCode:function(){-1!==this.errorCodeIDx&&this.$nextTick(function(){var e=document.getElementsByClassName("error code-editor").item(0);e&&(e.scrollIntoView(),e.__vue__.focusEditor())})},codeTestEnd:function(e){e===this.testType.REPORT_BLOCK_CODE?this.checkCodeSave(1):e===this.testType.REPORT_OUTLINE_CODE_CONDITION||this.testType.REPORT_CODE_CONDITION},pushToPage:function(){this.$router.push({name:"Page",params:{projectId:this.rootId},query:{currentProject:this.projectId}})}}}}).call(this,n("2ef0"))},dc58:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("Row",{attrs:{"class-name":"header-row",type:"flex",align:"middle",justify:"start"}},[o("div",{staticClass:"logo"},[o("router-link",{attrs:{to:{name:"Home"}}},[o("img",{staticClass:"logo-img",attrs:{src:n("cf05")}})])],1),o("Col",{attrs:{"class-name":"nav-bar"}},[o("Row",{attrs:{"class-name":"nav-bar-row",type:"flex",align:"middle",justify:"space-between"}},[o("Col",{attrs:{"class-name":"nav-bar-left"}},[o("span",{staticClass:"return-button",attrs:{title:"上一页"},on:{click:function(t){e.$router.go(-1)}}},[o("Icon",{attrs:{type:"ios-arrow-back"}})],1),o("span",{staticClass:"return-button",attrs:{title:"下一页"},on:{click:function(t){e.$router.go(1)}}},[o("Icon",{attrs:{type:"ios-arrow-forward"}})],1),e._t("custom-nav")],2),o("Col",{attrs:{"class-name":"nav-bar-right"}},[o("Row",{attrs:{"class-name":"nav-bar-right-row",type:"flex",align:"middle",justify:"end"}},[o("span",[e._v("\n        当前服务器：\n        "),o("Select",{staticStyle:{width:"10rem"},on:{"on-change":e.chooseServer},model:{value:e.serverAddress,callback:function(t){e.serverAddress=t},expression:"serverAddress"}},e._l(e.domains,function(t,n){return o("Option",{key:n,attrs:{title:t.domain,value:n}},[e._v("\n            "+e._s(t.name)+"\n          ")])}))],1),o("span",{staticClass:"company"},[e._v("\n        公司：\n        "),o("Select",{staticStyle:{width:"10rem"},model:{value:e.currentCompany,callback:function(t){e.currentCompany=t},expression:"currentCompany"}},e._l(e.companyList,function(t,n){return o("Option",{key:n,attrs:{value:t.id,title:t.name}},[e._v("\n            "+e._s(t.name)+"\n          ")])}))],1),o("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.hideMessageAbstract,expression:"hideMessageAbstract"}],staticClass:"message",class:e.showMessageAbstract?"show-abstract":"",on:{click:function(t){t.stopPropagation(),e.showMessageAbstract=!0}}},[o("div",{staticClass:"message-icon"},[o("Icon",{attrs:{type:"ios-notifications-outline"}})],1),e.showMessageAbstract?o("div",{staticClass:"message-abstract"},[o("div",{staticClass:"update-new-message message-content"},[o("span",{staticClass:"update-button",on:{click:function(t){return t.stopPropagation(),e.updateNewMessage(t)}}},[e._v("\n              刷新最新消息\n            ")]),1&e.loading?o("Icon",{staticClass:"loading",attrs:{type:"ios-loading",size:"18"}}):e._e()],1),e._l(e.messageList,function(t,n){return o("div",{key:n,staticClass:"message-content"},[e._v("\n            "+e._s(t.msgContent)+"\n            "+e._s(e.formatTime(t.msgCreateTime))+"\n          ")])}),o("div",{staticClass:"update-previous-message message-content",on:{click:function(t){return t.stopPropagation(),e.updatePreviousMessage(t)}}},[e._v("\n            加载更早一周的消息\n            "),2&e.loading?o("Icon",{staticClass:"loading",attrs:{type:"ios-loading",size:"18"}}):e._e()],1),o("div",{staticClass:"message-menu"},[o("div",{staticClass:"mark-all-read"},[o("Icon",{attrs:{type:"md-checkmark-circle"}}),e._v("\n              全部标记为已读\n            ")],1),o("div",{staticClass:"look-all"},[e._v("\n              查看全部\n              "),o("Icon",{attrs:{type:"ios-keypad"}})],1)])],2):e._e()]),o("div",{staticClass:"account nav-right-menu"},[o("Poptip",{attrs:{placement:"bottom"}},[o("span",[e._v(e._s(e.userInfo.name))]),o("Icon",{attrs:{type:"arrow-down-b"}}),o("template",{slot:"content"},[o("div",{staticClass:"account-content"},[o("img",{staticClass:"avator account-content-item",attrs:{src:e.avatarUrl}}),o("div",{staticClass:"account-content-item"},[e._v(e._s(e.userInfo.name))]),o("div",{staticClass:"account-content-item"},[e._v(e._s(e.userInfo.phone))]),o("div",{staticClass:"account-content-item"},[e._v(e._s(e.userInfo.email))])]),o("div",{staticClass:"account-set"},[o("Button",{staticClass:"account-set-item",on:{click:function(t){e.accountSetting()}}},[e._v("账号设置")]),o("Button",{staticClass:"account-set-item",on:{click:function(t){e.bindWx()}}},[e._v("绑定微信")]),o("Button",{staticClass:"account-set-item",on:{click:function(t){e.signOut()}}},[e._v("退出登录")])],1)])],2)],1),o("div",{staticClass:"nav-helper",on:{mouseenter:function(t){e.showHelperSettingButton=!0},mouseleave:function(t){e.showHelperSettingButton=!1}}},[o("Icon",{staticClass:"help-button",attrs:{type:"ios-help-circle-outline",title:"小助手",size:24},on:{click:e.showHelper}}),e.showHelperSettingButton?o("div",{staticClass:"helper-setting",on:{click:function(t){return t.stopPropagation(),e.openHelperSetting(t)}}},[e._v("\n            设置\n          ")]):e._e(),o("Modal",{attrs:{title:"设置默认打开方式",transfer:""},on:{"on-cancel":function(t){e.settingHelper()}},model:{value:e.showHelperSetting,callback:function(t){e.showHelperSetting=t},expression:"showHelperSetting"}},[o("div",{staticClass:"helper-setting-button",on:{click:function(t){e.settingHelper(1)}}},[o("Button",{attrs:{type:"1"===e.helperShowType?"primary":"default"}},[e._v("新窗口打开（适合多屏幕）")])],1),o("div",{staticClass:"helper-setting-button",on:{click:function(t){e.settingHelper(2)}}},[o("Button",{attrs:{type:"2"===e.helperShowType?"primary":"default"}},[e._v("当前窗口打开（在当前页面悬浮一个小助手）")])],1),o("div",{attrs:{slot:"footer"},slot:"footer"})])],1)])],1)],1)],1)],1)},r=[],a=(n("a481"),n("96cf"),n("3040")),i=n("04ce"),s=n("7ded"),c={name:"page-header",data:function(){return{serverAddress:localStorage.server||"e",domains:i["b"],showHelperSettingButton:!1,showHelperSetting:!1,helperShowType:0,openAfterSetting:!1,showMessageAbstract:!1,timeIndex:0,loading:0}},methods:{signOut:function(){var e=this;Object(s["requestLogout"])().then(function(t){t.response.success&&(e.$store.commit("user/clearToken"),e.$store.commit("user/clearUserInfo"),e.$router.push({name:"Login",params:{logout:"true"}}))})},accountSetting:function(){this.$router.push({name:"AccountSetting"})},bindWx:function(){this.$router.push({name:"BindWX"})},chooseServer:function(e){localStorage.server!==e&&(localStorage.server=e,location.reload())},showHelper:function(){this.$bus.$emit("pop-helper-show")},checkBeforeOpenHelper:function(e,t){var n=window.localStorage.getItem("helperShowType");n||this.openHelperSetting(!0)},settingHelper:function(e){this.showHelperSetting=!1,e&&window.localStorage.setItem("helperShowType",e),this.openAfterSetting&&(this.showHelper(),this.openAfterSetting=!1)},openHelperSetting:function(e){this.helperShowType=window.localStorage.getItem("helperShowType"),this.showHelperSetting=!0,this.openAfterSetting=e},updateNewMessage:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.timeIndex&&clearTimeout(this.timeIndex),this.loading=1|this.loading,e.next=4,this.$store.dispatch("message/refreshNewRecord");case 4:this.loading=1^this.loading;case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),updatePreviousMessage:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=2|this.loading,e.next=3,this.$store.dispatch("message/refreshPreviousRecord");case 3:this.loading=2^this.loading;case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),hideMessageAbstract:function(){this.showMessageAbstract=!1},formatTime:function(e){var t=function(e){return e<10?"0"+e:e},n=new Date(e),o=n.getFullYear(),r=t(n.getMonth()+1),a=t(n.getDate()),i=t(n.getHours()),s=t(n.getMinutes()),c="".concat(o,"-").concat(r,"-").concat(a," ").concat(i,":").concat(s);return c}},mounted:function(){this.$bus.$on("check-before-open",this.checkBeforeOpenHelper),this.$bus.$on("update-new-message",this.updateNewMessage),this.$bus.$on("update-previous-message",this.updatePreviousMessage),this.updateNewMessage()},beforeDestroy:function(){this.$bus.$off("check0before-open-helper",this.checkBeforeOpenHelper),this.$bus.$off("update-new-message"),this.$bus.$off("update-previous-message"),this.timeIndex&&clearTimeout(this.timeIndex)},computed:{messageList:function(){return this.$store.state.message.messageList},avatarUrl:function(){return this.userInfo.avatar?this.$avatarUrl.replace("avatarID",this.userInfo.avatar):null},userInfo:function(){return this.$store.getters["user/userInfo"]||{}},companyList:function(){return this.$store.state.user.companyList},currentCompany:function(){return this.$store.state.user.currentCompany}}},u=c,d=(n("84b3"),n("2877")),l=Object(d["a"])(u,o,r,!1,null,"333493a5",null);l.options.__file="Header.vue";t["a"]=l.exports},df5d:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.projectId,expression:"projectId"}],staticClass:"pop-tree"},[n("div",{staticClass:"tree-title"},[n("span",[e._v("当前项目: ")]),n("project-tree",{style:{"min-width":"10rem","max-width":"15rem"},attrs:{rootId:e.rootId,size:"small"},model:{value:e.projectId,callback:function(t){e.projectId=t},expression:"projectId"}})],1),e.showTree?n("div",{staticClass:"tree-content"},[n("node-tree",{attrs:{projectId:e.projectId,editable:!1}})],1):e._e()])},r=[],a=(n("c5f6"),n("d83b")),i=n("8b88"),s={showTitle:"节点树",components:{"node-tree":a["a"],"project-tree":i["a"]},props:{rootId:{type:[Number,String],default:0},currentId:{type:[Number,String],default:0}},data:function(){return{projectId:0,showTree:!0}},mounted:function(){this.updateShow()},methods:{updateShow:function(){this.projectId=this.currentId||this.rootId}},watch:{rootId:function(){this.updateShow()}}},c=s,u=(n("6e48"),n("2877")),d=Object(u["a"])(c,o,r,!1,null,"63858542",null);d.options.__file="nodeTree.vue";t["default"]=d.exports},e0a5:function(e,t,n){"use strict";n.r(t);n("96cf");var o=n("3040"),r=n("6b6c");t["default"]={getComponentList:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r["a"].post("/mvp-manager/component/list",t);case 3:if(n=e.sent,o=n.data,!o.response.success){e.next=7;break}return e.abrupt("return",o.data.result);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0);case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}},e,this,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),registerComponent:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r["a"].put("/mvp-manager/component/save",t);case 3:if(n=e.sent,o=n.data,!o.response.success){e.next=7;break}return e.abrupt("return",!0);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0);case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}},e,this,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),updateComponent:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r["a"].put("/mvp-manager/component/updateComponent",t);case 3:if(n=e.sent,o=n.data,!o.response.success){e.next=7;break}return e.abrupt("return",!0);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0);case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}},e,this,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),deleteComponent:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r["a"].delete("/mvp-manager/component/delete/"+t,t);case 3:if(n=e.sent,o=n.data,!o.response.success){e.next=7;break}return e.abrupt("return",!0);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0);case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}},e,this,[[0,9]])}));return function(t){return e.apply(this,arguments)}}()}},e612:function(e,t,n){"use strict";var o=n("6b40"),r=n.n(o);r.a},e668:function(e,t,n){"use strict";n.r(t),n.d(t,"getProfessionalList",function(){return r}),n.d(t,"saveProfessional",function(){return a}),n.d(t,"deleteProfessional",function(){return i});var o=n("6b6c");function r(e){var t=e.pageNo?"/mvp-manager/professional/list":"/mvp-manager/professional/linkList";return o["a"].post(t,e).then(function(e){return e.data})}function a(e){var t=e.id?"/mvp-manager/professional/update":"/mvp-manager/professional/save";return o["a"].put(t,e).then(function(e){return e.data})}function i(e){return o["a"].post("/mvp-manager/professional/delete",e).then(function(e){return e.data})}},e6bc:function(e,t,n){},ec55:function(e,t,n){"use strict";n.r(t);var o=n("e069");function r(e,t,n){e._clickCopy=function(n){n.stopPropagation();var r=getComputedStyle(e).getPropertyValue("user-select");if(e.setAttribute("style","user-select: all"),document.body.createTextRange){var a=document.body.createTextRange();a.moveToElementText(n.target),a.select()}else if(window.getSelection){var i=window.getSelection(),s=document.createRange();s.selectNodeContents(n.target),i.removeAllRanges(),i.addRange(s)}document.execCommand("Copy","false",null),e.setAttribute("style","user-select: "+(r||"none"));var c=t.value||"内容已复制到剪贴板";o["Message"].success(c)},e.addEventListener("click",e._clickCopy)}function a(e,t,n){e.removeEventListener("click",e._clickCopy),delete e._clickCopy}t["default"]={bind:r,unbind:a}},ed27:function(e,t,n){"use strict";(function(e,o){n("ac6a");var r=n("8afe"),a=(n("a481"),n("7514"),n("28a5"),n("55dd"),n("7f7f"),n("96cf"),n("3040")),i=n("aa15"),s=n("831c"),c=n("1516"),u=n.n(c),d=n("c64e"),l=n.n(d),p=n("1146"),h=n.n(p),m=n("c276");t["a"]={name:"custom-component-edit",components:{configComponent:s["a"],draggable:u.a},props:{value:{type:Boolean,require:!0},editItem:{type:Object,require:!1},nowSelectUUID:{type:Object,required:!1},judgeComponent:{type:Object,required:!1},org:{type:String,require:!0},team:{type:String,required:!1},teamList:{type:Array,require:!1},projectList:{type:Array,require:!1}},data:function(){var e=this,t=function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(n,o,r){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(o){t.next=2;break}return t.abrupt("return",r(new Error("名称不能为空")));case 2:if(e.editItem){t.next=9;break}return t.next=5,Object(i["checkName"])(e.cnode.name);case 5:if(t.t0=t.sent,!1!==t.t0){t.next=9;break}return e.$Message.error("自定义组件名称重复"),t.abrupt("return",r(new Error("自定义组件名称重复")));case 9:r();case 10:case"end":return t.stop()}},t,this)}));return function(e,n,o){return t.apply(this,arguments)}}();return{loadingCity:!1,loading:!1,dragging:!1,newComponentData:null,selectCustomComponentType:null,showCustomComponentSelectType:!1,showCustomComponentOptions:!1,moveToComponent:"false",cnode:{id:null,name:null,otherConfig:null,projectId:0,range:0,remarks:null,sort:0,type:0,items:[{componentId:0,code:null}]},showEditor:!1,formCustomComponentEditValidate:{name:[{required:!0,validator:t,trigger:"blur"}]},treeSum:1,treeShow:!1,columns:[{title:"Code",name:"code"},{title:"名称",name:"name",width:400,editOptions:{type:"text",useViewMode:!0}},{title:"Name1",name:"name1",editOptions:{type:"text",useViewMode:!0}},{title:"Name2",name:"name2",editOptions:{type:"text",useViewMode:!0}},{title:"Name3",name:"name3",editOptions:{type:"text",useViewMode:!0}},{title:"排序",name:"sort",editOptions:{type:"text",useViewMode:!0}},{title:"备注",name:"remarks",editOptions:{type:"text",useViewMode:!0}}],tableData:[],treeTeample:{_children:[],code:null,componentId:null,configs:[],createTime:null,createrId:null,itemType:6,dr:0,id:null,name:"",name1:"",name2:"",name3:"",nestComponentId:null,otherConfig:null,parentId:null,remarks:null,require:!1,sort:1,treePath:null,type:11,updateTime:null,parentUuid:null,uuid:null,dataUuid:l()()},delList:[],adding:!1,collapsed:!0,GirdData:null,grid:null,isNew:!1,componentDefaultData:null,last:null}},watch:{value:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t){var n,o,r,a,i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t){if(setTimeout(function(){i.showEditor=!0},1e3),this.last=null,this.editItem){for(n in this.isNew=!1,this.cnode=this.deepCopy(this.editItem),this.cnode.items.sort(function(e,t){return e.sort-t.sort}),this.cnode.items)n>0&&(this.cnode.items[n].componentId=this.cnode.items[n].nestComponentId);o=function e(){i.componentQuestion&&null!==i.componentQuestion["judge"]?(i.getCustomComponentType(),i.initOptions()):setTimeout(function(){e()},50)},o()}else{for(this.isNew=!0,this.cnode.name=null,this.$set(this.cnode,"items",[]),r=0;r<5;r++)a=this.deepCopy(this.judgeComponent.items[0]),a.id=null,0!==r&&(a.itemType=6),this.cnode.items.push(a);this.showCustomComponentSelectType=!1,this.showCustomComponentOptions=!0,this.treeShow=!1,this.selectCustomComponentType="judge",this.tableData.push(this.deepCopy(this.treeTeample))}this.delList=[]}else this.showEditor=!1;case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),selectCustomComponentType:function(t){"tree"!==t&&e("#grid").hide()}},computed:{componentList:function(){return this.$store.state.component.list},componentQuestion:function(){return this.$store.state.component.question},componentOptions:function(){return this.$store.state.component.options},teamType:function(){return parseInt(this.team.split("-")[0])},projectId:function(){return this.team.split("-")[1]},isTeamComponent:function(){return this.team&&(2===this.teamType||3===this.teamType)},currentCompanyName:function(){return this.$store.state.user.currentCompanyName}},created:function(){var e=this;this.initData(),this.last=null,setInterval(Object(a["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!e.cnode.items[0].componentId||e.cnode.items[0].componentId===e.last){t.next=7;break}return t.next=3,Object(i["getCompontentCache"])(e.cnode.items[0].componentId);case 3:e.componentDefaultData=t.sent,console.log("componentDefaultData更新"),console.log(e.componentDefaultData),e.last=e.cnode.items[0].componentId;case 7:case"end":return t.stop()}},t,this)})),100)},methods:{teamName:function(e){try{var t=this.projectList.find(function(t){return t.id===e}).orgId;return this.teamList.find(function(e){return e.id===t}).name}catch(e){return null}},updateConfig:function(){"tree"===this.selectCustomComponentType&&this.initTreeTableColumnsName(this.cnode.newComponentData)},changeComponentType:function(e,t,n){},addRow:function(){var e=[this.deepCopy(this.treeTeample)],t=this.grid.getIndexOfRow(this.grid.getCheckedRowKeys()[0])+1,n=this.grid.getRow(this.grid.getCheckedRowKeys()[0]);e.parentUuid=n.dataUuid,e[0].sort=t,this.grid.appendRow(e,{at:t,focus:!0})},prependTable:function(){var e=[this.deepCopy(this.treeTeample)];e[0].sort=0,this.grid.prependRow(e,{focus:!0})},appendRow:function(){var e=this.grid.getCheckedRowKeys()[0],t=this.grid.getRow(e);console.log(t);var n=[this.deepCopy(this.treeTeample)];n[0].parentUuid=t.dataUuid,this.grid.appendRow(n,{parentRowKey:e})},removeRow:function(){var e=this;o.each(this.grid.getCheckedRowKeys(),function(t){e.grid.removeRow(t)})},expandedAllOrCollapsedAll:function(){!0===this.collapsed?this.grid.expandAll():this.grid.collapseAll(),this.collapsed=!this.collapsed},GridInit:function(t){e("#grid")?(e("#grid").html(""),console.log("初始化了一次树形编辑器"),this.grid&&this.grid.destroy&&this.grid.destroy(),this.grid=null,this.grid=new tui.Grid({el:e("#grid"),data:t,rowHeaders:[{type:"rowNum",title:"顺序"},{type:"radio",title:"选中"}],bodyHeight:400,rowHeight:40,virtualScrolling:!0,treeColumnOptions:{name:"name",useCascadingCheckbox:!1},columns:this.columns}),this.treeShow=!0,e("#grid").show()):console.error("元素不存在")},getGTCITY:function(){var e=this;this.loadingCity=!0,setTimeout(Object(a["a"])(regeneratorRuntime.mark(function t(){var n,o,r,a,i,s,c,u,d,p,h,f,g,v;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.get("https://apio.xyz/city.php");case 2:for(r in n=t.sent,o=n.data,e.columns[0].title="地区名称",e.columns[1].title="区域编码",e.cnode.items[0].configs)for(a in e.columns)e.columns[a].prop===e.cnode.items[0].configs[r].code&&(e.cnode.items[0].configs[r].configData.configData=e.columns[a].title);for(s in e.tableData=[],i=null,o["86"])for(u in c=e.deepCopy(e.treeTeample),c.dataUuid=l()(),c.parentUuid=null,c.sort=i?i.sort+1:1,c.name=o["86"][s],c.name1=s,e.tableData.push(c),i=c,o[s])for(h in d=c,e.treeSum=e.treeSum+1,p=e.deepCopy(e.treeTeample),p.dataUuid=l()(),p.parentUuid=d.dataUuid,d._children||(d._children=[]),d._children.length?p.sort=d._children[d._children.length-1].sort+1:p.sort=1,p.name=o[s][u],p.name1=u,d._children.push(p),o[u])f=p,e.treeSum=e.treeSum+1,g=e.deepCopy(e.treeTeample),g.dataUuid=l()(),g.parentUuid=f.dataUuid,f._children||(f._children=[]),f._children.length?g.sort=f._children[f._children.length-1].sort+1:g.sort=1,g.name=o[u][h],g.name1=h,f._children.push(g);e.GridInit(e.tableData),v=e.grid.getRows(),v=Object(m["g"])(v,"null","dataUuid","parentUuid","_children"),e.GridInit(v),e.loadingCity=!1,e.$Modal.confirm({title:"恭喜",content:"<p>数据成功导入。</p>"});case 16:case"end":return t.stop()}},t,this)})),100)},getMZCITY:function(){this.$Modal.confirm({title:"提示",content:"<p>已自动为您将民政局数据与统计局数据合并，请获取统计局数据。</p>"})},downloadExcelTemplate:function(){window.open(window.location.origin+"/static/excel-to-tree-v10.xlsm")},exportAsExcel:function(){var e=h.a.utils.book_new(),t=h.a.utils.json_to_sheet(this.tableData);e.SheetNames.push("Tree"),e.Sheets["Tree"]=t,h.a.writeFile(e,"out.xlsx")},initOptions:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(){var t,n,o,r,a,s,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if("00000000-0000-0000-0000-000000000016"===this.cnode.items[0].uuid){e.next=30;break}if(t=5-this.cnode.items.length,!(t>0)){e.next=30;break}return e.next=5,Object(i["getCompontentCache"])(this.componentQuestion["judge"].id);case 5:if(n=e.sent,o=this.deepCopy(n.items[0]),this.cnode.items[0].uuid!==this.componentQuestion["singleSelect"].uuid){e.next=14;break}return e.next=10,Object(i["getCompontentCache"])(this.componentQuestion["singleSelect"].id);case 10:r=e.sent,o=this.deepCopy(r.items[0]),e.next=26;break;case 14:if(this.cnode.items[0].uuid!==this.componentQuestion["multiSelect"].uuid){e.next=21;break}return e.next=17,Object(i["getCompontentCache"])(this.componentQuestion["multiSelect"].id);case 17:a=e.sent,o=this.deepCopy(a.items[0]),e.next=26;break;case 21:if(this.cnode.items[0].uuid!==this.componentQuestion["multiInput"].uuid){e.next=26;break}return e.next=24,Object(i["getCompontentCache"])(this.componentOptions["input"].id);case 24:s=e.sent,o=this.deepCopy(s.items[0]);case 26:for(o.id=null,o.code=null,"00000000-0000-0000-0000-000000000012"!==this.cnode.items[0].uuid&&(o.itemType=6),c=t;c<4;c++)this.cnode.items.push(this.deepCopy(o));case 30:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),changName:function(e){this.cnode.items[0].name=this.cnode.name},initTreeTableColumnsName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.cnode;for(var t in e.items[0].configs)for(var n in this.columns)this.columns[n].name===e.items[0].configs[t].code&&(this.columns[n].title=e.items[0].configs[t].configData.configData);console.log(this.columns)},changeCustomComponent:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t,n,o){var r,a,s,c,u,d;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=n.name,a=n.remarks,s=n.require,e.next=5,Object(i["getCompontentCache"])(t);case 5:c=e.sent,u=this.deepCopy(c),n=this.deepCopy(c.items[0]),n.require=s,n.name=r,n.remarks=a,"multiInput"!==this.selectCustomComponentType&&"other"!==this.selectCustomComponentType||2!==u.type||"00000000-0000-0000-0000-000000000005"!==u.items[0].uuid&&"00000000-0000-0000-0000-000000000007"!==u.items[0].uuid&&"00000000-0000-0000-0000-000000000013"!==u.items[0].uuid||(d=u.items,d.shift(),n["children"]=d),(o||0===parseInt(o))&&this.$set(this.cnode.items,o,n);case 13:case"end":return e.stop()}},e,this)}));return function(t,n,o){return e.apply(this,arguments)}}(),updateComponentData:function(e,t){this.newComponentData=e,t&&(t.newComponentData=this.newComponentData)},customComponentOk:function(){var e=this;this.$refs["formCustomComponentEdit"].validate(function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(n){var o,a,s,c,u,d,l,p,h,f,g,v,b,y,C,w,k,_,I,x,j,D,T,O,N,S;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!n){t.next=61;break}if(e.editItem||(delete e.cnode.id,e.cnode.type=2),e.cnode.newComponentData&&(e.cnode.newComponentData.useItem?e.cnode.items[0].configs=e.cnode.newComponentData.configs:e.cnode.items[0].configs=e.cnode.newComponentData.items[0].configs,delete e.cnode.newComponentData),e.cnode.items[0].name=e.cnode.name,e.cnode.items[0].name){t.next=7;break}return e.$Message.info("没有输入组件名称，保存操作被取消。"),t.abrupt("return");case 7:if(o=e.deepCopy(e.cnode.items).filter(function(e){return e.name&&""!==e.name.replace(/\s/g,"")}),!("other"!==e.selectCustomComponentType&&"tree"!==e.selectCustomComponentType&&o.length<2)){t.next=11;break}return e.$Message.info("至少填写一个选项"),t.abrupt("return");case 11:for(a in e.cnode.items=e.cnode.items.filter(function(e){return e.name&&""!==e.name.replace(/\s/g,"")}),e.loading=!0,e.cnode.items){if(parseInt(a)>0&&(e.cnode.items[a].newComponentData&&(e.cnode.items[a].newComponentData.useItem?e.cnode.items[a].configs=e.cnode.items[a].newComponentData.configs:e.cnode.items[a].configs=e.cnode.items[a].newComponentData.items[a].configs,delete e.cnode.items[a].newComponentData),e.cnode.items[a]["children"]&&e.cnode.items[a]["children"].length))for(s in e.cnode.items[a]["children"])e.cnode.items[a]["children"][s].newComponentData&&(e.cnode.items[a]["children"][s].newComponentData.useItem?e.cnode.items[a]["children"][s].configs=e.cnode.items[a]["children"][s].newComponentData.configs:e.cnode.items[a]["children"][s].configs=e.cnode.items[a]["children"][s].newComponentData.items[a].configs,delete e.cnode.items[a]["children"][s].newComponentData);for(c in"00000000-0000-0000-0000-000000000016"!==e.cnode.items[0].uuid&&(e.cnode.items[a].sort=a),e.cnode.items[a].configs)e.cnode.items[a].configs[c].configData.componentId=e.cnode.items[a].componentId,e.cnode.items[a].configs[c].configData.id=null;e.editItem||delete e.cnode.items[a].id,e.cnode.items[a].nestComponentId=e.cnode.items[a].componentId,"00000000-0000-0000-0000-000000000012"!==e.cnode.items[0].uuid&&parseInt(a)>0&&(e.cnode.items[a].uuid=null),e.cnode.items[a].componentId=null}if("00000000-0000-0000-0000-000000000012"===e.cnode.items[0].uuid?e.cnode.items[0].nestComponentId=e.componentQuestion["multiInput"].id:"00000000-0000-0000-0000-000000000016"===e.cnode.items[0].uuid&&(e.cnode.items[0].nestComponentId=e.componentQuestion["tree"].id),"tree"!==e.selectCustomComponentType){t.next=45;break}if(e.cnode.items=[e.cnode.items[0]],u=null,!e.isNew){t.next=25;break}u=e.grid.getRows(),u=Object(m["g"])(u,"null","dataUuid","parentUuid","children"),(d=e.cnode.items).push.apply(d,Object(r["a"])(u)),(l=e.cnode.items).push.apply(l,Object(r["a"])(e.delList)),t.next=43;break;case 25:for(v in p=e.grid.getModifiedRows(),h=p.createdRows,f=p.updatedRows,g=p.deletedRows,h)h[v].children&&delete h[v].children,h[v].configs&&delete h[v].configs,h[v].code&&delete h[v].code;for(b in g)g[b].dr=1;return console.log(h),console.log(f),console.log(g),u=g.concat(h),u=u.concat(f),e.$Message.info("正在保存中...",6e3),e.cnode.items=[],e.cnode.items=u,t.next=38,Object(i["updateComponent"])(e.cnode);case 38:return y=t.sent,y?(e.initData(),e.$emit("updateList"),e.$Message.success("自定义组件创建成功！"),e.$emit("selectNewId",{componentId:y.id,selectUUID:e.nowSelectUUID})):e.$Message.error("自定义组件创建失败！"),e.loading=!1,e.$emit("input",!1),t.abrupt("return");case 43:t.next=46;break;case 45:e.delList&&e.delList.length&&(C=e.cnode.items).push.apply(C,Object(r["a"])(e.delList));case 46:for(k in e.$Message.info("正在保存中...",6e3),w=e.cnode.items.splice(1,e.cnode.items.length-1),w)for(_ in w[k].children){for(I in w[k].children)for(x in w[k].children[I].configs)w[k].children[I].configs[x].configData.id=null;11!==w[k].children[_].type&&(w[k].children[_].type=0)}return e.cnode.items[0].children=w,console.log(e.cnode),j={sourceId:e.org,sourceType:1},D=[],"org"===e.moveToComponent?D.push(j):"team"===e.moveToComponent?(T=e.projectList.find(function(t){return t.id===e.projectId}).orgId,O={sourceId:T,sourceType:2},D.push(O)):e.team&&"false"===e.moveToComponent?(N={sourceId:e.team.split("-")[1],sourceType:parseInt(e.team.split("-")[0])},D.push(N)):D.push(j),e.cnode.relationComponentList=D,t.next=57,Object(i["saveCompontent"])(e.cnode);case 57:S=t.sent,S.id?(e.initData(),e.$emit("updateList"),e.$Message.success("自定义组件保存成功"),e.$emit("selectNewId",{componentId:S.id,selectUUID:e.nowSelectUUID})):e.$Message.error("自定义组件保存失败"),e.loading=!1,e.$emit("input",!1);case 61:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}())},customComponentCancel:function(){this.initData(),this.$emit("input",!1)},initData:function(){console.log("初始化自定义组件编辑组件"),this.selectCustomComponentType=null,this.showCustomComponentSelectType=!1,this.showCustomComponentOptions=!1,this.moveToComponent="false"},deleteCustomComponentOption:function(e,t){var n=this;this.$Modal.confirm({title:"提示",content:"删除后无法恢复，确定删除吗？",onCancel:function(){},onOk:function(){n.cnode.items[t].dr=1,n.delList.push(n.cnode.items.splice(t,1)[0])}})},clickCustomComponentTypeButton:function(e){var t=this;this.editItem?this.$Modal.confirm({title:"警告",content:"切换选项后会导致自定义配置项数据和部分选项数据丢失且无法恢复，确定切换吗？",onCancel:function(){},onOk:function(){t.customComponentHanck(e)}}):this.customComponentHanck(e)},customComponentHanck:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t){var n,o,a,s,c,u,d,p,h,f,g,v,b,y;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:console.time("深拷贝执行时间"),n=this.deepCopy(this.cnode),console.timeEnd("深拷贝执行时间"),"tree"!==t&&"tree"===this.selectCustomComponentType&&(n.items=[n.items[0]],(o=n.items).push.apply(o,Object(r["a"])(this.tableData))),e.t0=t,e.next="judge"===e.t0?7:"singleSelect"===e.t0?18:"multiSelect"===e.t0?29:"multiInput"===e.t0?40:"tree"===e.t0?75:120;break;case 7:return e.next=9,Object(i["getCompontentCache"])(this.componentQuestion[t].id);case 9:for(s in a=e.sent,n.items)parseInt(s)<3&&(0===parseInt(s)?(n.items[0].uuid=a.items[0].uuid,n.items[s].itemType=a.items[0].itemType):n.items[s].itemType=6,n.items[s].componentId=a.items[0].componentId,n.items[s].otherConfig=a.items[0].otherConfig,n.items[s].type=a.items[0].type,n.items[s].require=a.items[0].require,n.items[s].configs=this.deepCopy(a.items[0].configs));return this.cnode=this.deepCopy(n),this.$set(this.cnode,"items",n.items),this.initOptions(),this.showCustomComponentSelectType=!1,this.showCustomComponentOptions=!0,this.treeShow=!1,e.abrupt("break",120);case 18:return e.next=20,Object(i["getCompontentCache"])(this.componentQuestion[t].id);case 20:for(u in c=e.sent,n.items)0===parseInt(u)?(n.items[0].uuid=c.items[0].uuid,n.items[u].itemType=c.items[0].itemType):n.items[u].itemType=6,n.items[u].componentId=c.items[0].componentId,n.items[u].otherConfig=c.items[0].otherConfig,n.items[u].type=c.items[0].type,n.items[u].require=c.items[0].require,n.items[u].configs=this.deepCopy(c.items[0].configs);return this.cnode=this.deepCopy(n),this.$set(this.cnode,"items",n.items),this.initOptions(),this.showCustomComponentSelectType=!1,this.showCustomComponentOptions=!0,this.treeShow=!1,e.abrupt("break",120);case 29:return e.next=31,Object(i["getCompontentCache"])(this.componentQuestion[t].id);case 31:for(p in d=e.sent,n.items)console.log(p),0===parseInt(p)?(n.items[0].uuid=d.items[0].uuid,n.items[p].itemType=d.items[0].itemType):n.items[p].itemType=6,n.items[p].componentId=d.items[0].componentId,n.items[p].otherConfig=d.items[0].otherConfig,n.items[p].type=d.items[0].type,n.items[p].require=d.items[0].require,n.items[p].configs=this.deepCopy(d.items[0].configs);return this.cnode=this.deepCopy(n),this.$set(this.cnode,"items",n.items),this.initOptions(),this.showCustomComponentSelectType=!1,this.showCustomComponentOptions=!0,this.treeShow=!1,e.abrupt("break",120);case 40:e.t1=regeneratorRuntime.keys(n.items);case 41:if((e.t2=e.t1()).done){e.next=68;break}if(h=e.t2.value,0!==parseInt(h)){e.next=56;break}return e.next=46,Object(i["getCompontentCache"])(this.componentQuestion[t].id);case 46:f=e.sent,n.items[0].uuid=f.items[0].uuid,n.items[0].componentId=f.items[0].componentId,n.items[0].otherConfig=f.items[0].otherConfig,n.items[0].type=f.items[0].type,n.items[0].itemType=f.items[0].itemType,n.items[h].require=f.items[0].require,n.items[0].configs=this.deepCopy(f.items[0].configs),e.next=66;break;case 56:return e.next=58,Object(i["getCompontentCache"])(this.componentOptions["input"].id);case 58:g=e.sent,n.items[h].uuid=g.items[0].uuid,n.items[h].componentId=g.items[0].componentId,n.items[h].otherConfig=g.items[0].otherConfig,n.items[h].type=g.items[0].type,n.items[h].itemType=g.items[0].itemType,n.items[h].require=g.items[0].require,n.items[h].configs=this.deepCopy(g.items[0].configs);case 66:e.next=41;break;case 68:return this.cnode=this.deepCopy(n),this.$set(this.cnode,"items",n.items),this.initOptions(),this.showCustomComponentSelectType=!0,this.showCustomComponentOptions=!0,this.treeShow=!1,e.abrupt("break",120);case 75:e.t3=regeneratorRuntime.keys(n.items);case 76:if((e.t4=e.t3()).done){e.next=100;break}if(v=e.t4.value,0!==parseInt(v)){e.next=91;break}return e.next=81,Object(i["getCompontentCache"])(this.componentQuestion[t].id);case 81:b=e.sent,n.items[0].uuid=b.items[0].uuid,n.items[0].componentId=b.items[0].componentId,n.items[0].otherConfig=b.items[0].otherConfig,n.items[0].type=b.items[0].type,n.items[0].sort=1,n.items[0].itemType=b.items[0].itemType,n.items[0].configs=this.deepCopy(b.items[0].configs),e.next=98;break;case 91:n.items[v].otherConfig=null,n.items[v].configs=[],n.items[v].type=11,n.items[v].itemType=6,n.items[v].sort=parseInt(v)+1,n.items[v].children||(n.items[v].children=[]),n.items[v].dataUuid||(n.items[v].dataUuid=l()());case 98:e.next=76;break;case 100:return console.time("拷贝执行时间"),this.cnode=this.deepCopy(n),this.$set(this.cnode,"items",n.items),y=this.deepCopy(this.cnode.items),y.shift(),console.timeEnd("拷贝执行时间"),console.time("转为Tree执行时间"),this.tableData=Object(m["g"])(y,"null","dataUuid","parentUuid","_children"),this.treeShow=!0,console.timeEnd("转为Tree执行时间"),console.time("其它处理时间"),this.initOptions(),this.initTreeTableColumnsName(),this.showCustomComponentSelectType=!1,this.showCustomComponentOptions=!1,console.timeEnd("其它处理时间"),console.time("树形组件初始化耗时"),this.GridInit(this.tableData),console.timeEnd("树形组件初始化耗时"),e.abrupt("break",120);case 120:this.selectCustomComponentType=t,this.cnode.items[0]&&this.cnode.items[0].name&&(this.cnode.name=this.cnode.items[0].name),console.log(this.cnode);case 123:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),getCustomComponentType:function(){var e=this;this.cnode.items[0].uuid===this.componentQuestion["judge"].uuid?(this.showCustomComponentSelectType=!1,this.showCustomComponentOptions=!0,this.treeShow=!1,this.selectCustomComponentType="judge"):this.cnode.items[0].uuid===this.componentQuestion["singleSelect"].uuid?(this.showCustomComponentSelectType=!1,this.showCustomComponentOptions=!0,this.treeShow=!1,this.selectCustomComponentType="singleSelect"):this.cnode.items[0].uuid===this.componentQuestion["multiSelect"].uuid?(this.showCustomComponentSelectType=!1,this.showCustomComponentOptions=!0,this.treeShow=!1,this.selectCustomComponentType="multiSelect"):this.cnode.items[0].uuid===this.componentQuestion["multiInput"].uuid?(this.showCustomComponentSelectType=!0,this.showCustomComponentOptions=!0,this.treeShow=!1,this.selectCustomComponentType="multiInput"):(this.showCustomComponentSelectType=!1,this.showCustomComponentOptions=!1,this.treeShow=!0,this.selectCustomComponentType="tree",Object(i["getCompontentCache"])(this.cnode.id).then(function(t){var n=t.items;n.shift(),console.time("tree算法"),e.GirdData=Object(m["g"])(n,"null","dataUuid","parentUuid","_children"),console.timeEnd("tree算法"),e.GridInit(e.GirdData)}))},addCustomComponentOption:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(){var t,n,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:e.t0=this.selectCustomComponentType,e.next="singleSelect"===e.t0?3:"multiSelect"===e.t0?12:"multiInput"===e.t0?21:29;break;case 3:return e.t1=this,e.next=6,Object(i["getCompontentCache"])(this.componentQuestion[this.selectCustomComponentType].id);case 6:return e.t2=e.sent.items[0],t=e.t1.deepCopy.call(e.t1,e.t2),t.id=null,t.itemType=6,this.$set(this.cnode.items,this.cnode.items.length,t),e.abrupt("break",29);case 12:return e.t3=this,e.next=15,Object(i["getCompontentCache"])(this.componentQuestion[this.selectCustomComponentType].id);case 15:return e.t4=e.sent.items[0],n=e.t3.deepCopy.call(e.t3,e.t4),n.id=null,n.itemType=6,this.$set(this.cnode.items,this.cnode.items.length,n),e.abrupt("break",29);case 21:return e.t5=this,e.next=24,Object(i["getCompontentCache"])(this.componentOptions[this.selectCustomComponentType].id);case 24:return e.t6=e.sent.items[0],o=e.t5.deepCopy.call(e.t5,e.t6),o.id=null,this.$set(this.cnode.items,this.cnode.items.length,o),e.abrupt("break",29);case 29:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}}}).call(this,n("1157"),n("2ef0"))},f077:function(e,t,n){"use strict";(function(e){var o=n("8afe"),r=(n("6762"),n("2fdb"),n("20d6"),n("7f7f"),n("c93e")),a=(n("f751"),n("55dd"),n("ac4d"),n("8a81"),n("ac6a"),n("7514"),n("96cf"),n("3040")),i=n("24d2"),s=n("52e7");t["a"]={name:"project-tree",components:{"my-tree":s["a"]},props:{projectID:"",currentProject:""},data:function(){return{settingData:{id:0,name:"",showName:"",enName:""},show:!0,treeType:0,typeMap:{project:0,package:1,search:2},projectData:[],packageData:[],preChooseProject:0,preChoosePackage:0,projectExpanded:[],packageExpanded:[],editingNode:{changed:!1,title:"",show:!1,type:"",data:{name:"",showName:"",enName:"",remarks:""},callback:{}},showDeleteNotice:!1,deleteNodeInfo:{},chooseProject:{},dropDom:null,searchWord:"",searchResult:[],searchNotice:"",loadingData:!1}},created:function(){this.checkSearch=e.debounce(this.searchByWord,1e3),this.$bus.$on("refresh-project-tree",this.refreshTree),this.$bus.$on("show-project-setting",this.showProjectSetting)},mounted:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.loadingData=!0,t=this.getPackageTree(),n=this.getProjectTree(),e.next=5,t;case 5:return e.next=7,n;case 7:this.loadingData=!1,this.chooseProjectNode(this.projectData[0]);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),beforeDestroy:function(){this.$bus.$off("refresh-project-tree",this.refreshTree),this.$bus.$off("show-project-setting",this.showProjectSetting)},methods:{getProjectTree:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(){var t,n,o=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i["default"].getProjectList({id:this.projectID,type:1});case 2:t=e.sent,t?(n=null,!n&&this.preChooseProject&&(n=t.find(function(e){return e.id===o.preChooseProject}),this.preChooseProject=0),this.defaultExpand(this.projectExpanded,t),this.listToTree(this.projectData,t),this.chooseProjectNode(n||this.projectData[0])):this.$Message.error("获取项目列表失败");case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),getPackageTree:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(){var t,n,o=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i["default"].getProjectList({id:this.projectID,type:2});case 2:t=e.sent,t?(n=null,this.preChoosePackage&&(n=t.find(function(e){return e.id===o.preChoosePackage}),this.preChoosePackage=0),this.listToTree(this.packageData,t),this.defaultExpand(this.packageExpanded,t),this.packageData[0].children&&this.packageData[0].children.length&&this.chooseProjectNode(n||this.packageData[0].children[0])):this.$Message.error("获取共用包列表失败");case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),listToTree:function(e,t){if(e.splice(0,e.length),t){var n=null,o=!0,r=!1,a=void 0;try{for(var i,s=t[Symbol.iterator]();!(o=(i=s.next()).done);o=!0){var c=i.value;if(c.parentId){var u=!0,d=!1,l=void 0;try{for(var p,h=t[Symbol.iterator]();!(u=(p=h.next()).done);u=!0){var m=p.value;if(m.id===c.parentId){var f=m.children||[];f.push(c),f.sort(function(e,t){return e.order-t.order}),this.$set(m,"children",f)}}}catch(e){d=!0,l=e}finally{try{u||null==h.return||h.return()}finally{if(d)throw l}}}else n=c}}catch(e){r=!0,a=e}finally{try{o||null==s.return||s.return()}finally{if(r)throw a}}e.push(n)}},chooseTreeType:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.treeType=e,t&&(e===this.typeMap.project?this.getProjectTree():e===this.typeMap.package&&this.getPackageTree())},refreshTree:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t,n,o){var r,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.type||3,a=null,!(1&r)){e.next=8;break}return e.next=5,this.getProjectTree();case 5:return e.next=7,this.getProjectData(t.projectId,this.projectData);case 7:a=e.sent;case 8:if(!(2&r)){e.next=15;break}return e.next=11,this.getPackageTree();case 11:if(a){e.next=15;break}return e.next=14,this.getProjectData(t.projectId,this.packageData);case 14:a=e.sent;case 15:a&&(this.treeType=2===t.type?this.typeMap.package:this.typeMap.project,this.turnToProject(a)),n&&n(o);case 17:case"end":return e.stop()}},e,this)}));return function(t,n,o){return e.apply(this,arguments)}}(),getProjectData:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t,n){var o,r,a,i,s,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:o=!0,r=!1,a=void 0,e.prev=3,i=n[Symbol.iterator]();case 5:if(o=(s=i.next()).done){e.next=14;break}if(c=s.value,c.id!==t){e.next=9;break}return e.abrupt("return",c);case 9:if(!c.children){e.next=11;break}return e.abrupt("return",this.getProjectData(t,c.children));case 11:o=!0,e.next=5;break;case 14:e.next=20;break;case 16:e.prev=16,e.t0=e["catch"](3),r=!0,a=e.t0;case 20:e.prev=20,e.prev=21,o||null==i.return||i.return();case 23:if(e.prev=23,!r){e.next=26;break}throw a;case 26:return e.finish(23);case 27:return e.finish(20);case 28:return e.abrupt("return",null);case 29:case"end":return e.stop()}},e,this,[[3,16,20,28],[21,,23,27]])}));return function(t,n){return e.apply(this,arguments)}}(),defaultExpand:function(e,t){if(t){var n=!0,o=!1,r=void 0;try{for(var a,i=t[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var s=a.value;s.expanded&&e.push(s.id)}}catch(e){o=!0,r=e}finally{try{n||null==i.return||i.return()}finally{if(o)throw r}}}},handleUI:function(e,t,n,o){var r=this;t?Object.assign(this.editingNode.data,t):this.clearHandleInfo(),this.editingNode.callback={func:n,varList:o},this.editingNode.show=!0,this.$nextTick(function(){r.$refs.focusInput&&r.$refs.focusInput.focus()})},handleCallBack:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=!0,!this.editingNode.callback.func){e.next=5;break}return e.next=4,this.editingNode.callback.func.apply(this,this.editingNode.callback.varList||[]);case 4:t=e.sent;case 5:t&&this.clearHandleInfo();case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),clearHandleInfo:function(){this.editingNode={changed:!1,title:"",show:!1,type:"",data:{name:"",showName:"",enName:"",remarks:""},callback:{}}},updateNode:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i["default"].updateProject(Object(r["a"])({id:t.id},this.editingNode.data));case 2:if(n=e.sent,!n){e.next=11;break}return t.name=n.name,t.enName=n.enName,t.showName=n.showName,t.remarks=n.remarks,e.abrupt("return",!0);case 11:return this.$Message.error("网络请求失败"),e.abrupt("return",!1);case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),addBrother:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t,n){var o,a,s,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(String(n.id)!==String(this.projectID)){e.next=3;break}return this.$Message.error("不能给该节点添加兄弟节点"),e.abrupt("return");case 3:return t.isRoot&&(t=this.packageData[0]),o=t.children,a=o.findIndex(function(e){return e.id===n.id}),s=Object(r["a"])({parentId:t.id,sort:n.sort+1,type:this.treeType+1},this.editingNode.data),e.next=9,i["default"].addProject(s);case 9:if(c=e.sent,!c){e.next=17;break}return c.children=[],o.splice(a+1,0,c),this.turnToProject(c),e.abrupt("return",!0);case 17:return this.$Message.error("添加失败"),e.abrupt("return",!1);case 19:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),addChild:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=Object(r["a"])({parentId:t.id,sort:t.children?t.children.length+1:1,type:this.treeType+1},this.editingNode.data),e.next=3,i["default"].addProject(n);case 3:if(o=e.sent,!o){e.next=12;break}return o.children=[],t.children||this.$set(t,"children",[]),t.children.push(o),this.turnToProject(o),e.abrupt("return",!0);case 12:return this.$Message.error("添加失败"),e.abrupt("return",!1);case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),deleteProject:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(){var t,n,o,r,a,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this.deleteNodeInfo,n=t.parentData,o=t.data,e.next=3,i["default"].deleteProject({ids:[o.id]});case 3:r=e.sent,r&&(a=n.children,s=a.findIndex(function(e){return e.id===o.id}),a.splice(s,1)),1===o.type?this.getProjectTree():this.getPackageTree(),this.clearDeleteNodeInfo();case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),tryDeleteNode:function(e,t){this.deleteNodeInfo={parentData:e,data:t},this.showDeleteNotice=!0},clearDeleteNodeInfo:function(){this.showDeleteNotice=!1,this.deleteNodeInfo={}},recordInfo:function(e){this.oldProjectName=e.name},allowDrag:function(e){return String(e.id)!==String(this.projectID)},allowDrop:function(e,t,n){return String(t.nodeData.id)!==String(this.projectID)||"inner"===n},handleDrop:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t,n,o){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.nodeData,"inner"===o?r.parentId=n.nodeData.id:(r.parentId=n.nodeData.parentId,r.sort="before"===o?n.nodeData.sort-1:n.nodeData.sort+1),e.next=4,i["default"].updateProject(r);case 4:this.chooseProject.id&&(1===this.chooseProject.type?this.preChooseProject=this.chooseProject.id:this.preChoosePackage=this.chooseProject.id),0===this.treeType?this.getProjectTree():this.getPackageTree();case 6:case"end":return e.stop()}},e,this)}));return function(t,n,o){return e.apply(this,arguments)}}(),handleContentClick:function(e,t){var n=t.nodeData;this.chooseProjectNode(n)},chooseProjectNode:function(e){!this.loadingData&&e&&(this.chooseProject=e,this.$emit("nodeClick",e))},searchDataFromList:function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var s,c=t[Symbol.iterator]();!(r=(s=c.next()).done);r=!0){var u=s.value;if(u.name.includes(e)&&n.push(u),u.children){var d=this.searchDataFromList(e,u.children);n.push.apply(n,Object(o["a"])(d))}}}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n},searchByWord:function(){if(this.searchWord){var e=this.searchDataFromList(this.searchWord,this.projectData);if(this.searchResult=Object(o["a"])(e),this.packageData.length&&this.packageData[0].children){var t,n=this.searchDataFromList(this.searchWord,this.packageData[0].children);(t=this.searchResult).push.apply(t,Object(o["a"])(n))}this.searchResult.length||(this.searchNotice="无搜索结果")}},clickSearchResult:function(e){this.chooseProjectNode(e)},turnToProject:function(e){this.chooseProjectNode(e),this.treeType=e.type-1},showProjectSetting:function(){this.handleUI("编辑项目",this.chooseProject,this.updateNode,[this.chooseProject])}},watch:{searchWord:function(e,t){this.searchNotice="正在等待输入",this.checkSearch()}}}}).call(this,n("2ef0"))},f28c:function(e,t,n){},f3d2:function(e,t,n){"use strict";n.r(t);var o=n("32e0"),r=".ivu-modal",a=".ivu-modal-header";function i(e,t,n){var o=e.querySelector(r);o.style.position="fixed",o.style.margin="auto",o.style.left="0",o.style.right="0"}function s(e,t,n){t.value||(t.value=a);var i=e.querySelector(r);i&&o["default"].bind(i,t,n)}function c(e,t,n){t.value||(t.value=a);var i=e.querySelector(r);i&&o["default"].unbind(i,t,n)}t["default"]={inserted:i,bind:s,unbind:c}},f5ee:function(e,t,n){"use strict";var o=n("8ad5"),r=n.n(o);r.a},fa52:function(e,t,n){"use strict";var o=n("8c9b"),r=n.n(o);r.a},fb2c:function(e,t,n){"use strict";var o=n("7fd7"),r=n.n(o);r.a},fbdb:function(e,t,n){"use strict";var o=n("1c64"),r=n.n(o);r.a},fc5a:function(e,t,n){"use strict";n.r(t);var o=n("6ace"),r=n("6b6c");t["default"]={getFileList:function(e){return Object(o["default"])(r["a"].post,"/mvp-manager/file/list",e,[])},createFolder:function(e){return Object(o["default"])(r["a"].post,"/mvp-manager/file/save",e)},deleteFiles:function(e){return Object(o["default"])(r["a"].post,"/mvp-manager/file/delete",e,{})}}},fcac:function(e,t,n){"use strict";n.r(t),n.d(t,"getLoginCompanies",function(){return r});var o=n("6b6c");function r(){return o["a"].post("/mvp-manager/company/getLoginCompanies").then(function(e){return e.data})}},fda0:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),t["b"]={"00000000-0000-0000-0000-000000000001":{title:"日期选择",component:n.e("chunk-227dcfb5").then(n.bind(null,"764b6")),configComponent:n.e("chunk-8c98ca68").then(n.bind(null,"1124")),registerData:{name:"日期选择",type:1,items:[{uuid:"00000000-0000-0000-0000-000000000001",type:3,itemType:3,configs:[{code:"type",customize:!1,name:"返回值类型",defaultValue:"string"},{code:"schemaKey",customize:!1,name:"schemaKey",defaultValue:""},{code:"readonly",customize:!1,name:"只读",defaultValue:"false"},{code:"alias",customize:!0,otherConfig:"cuShow",name:"别名",defaultValue:""},{code:"format",customize:!0,name:"日期格式",otherConfig:"code",defaultValue:"yyyy-MM-dd"},{code:"range",customize:!0,name:"日期范围",otherConfig:"code",defaultValue:""},{code:"value",customize:!0,name:"默认值",otherConfig:"code",defaultValue:""},{code:"inputType",customize:!1,name:"输入类型",defaultValue:"2000"}]}]}},"00000000-0000-0000-0000-000000000003":{title:"金额输入",component:n.e("chunk-384c1bce").then(n.bind(null,"2486")),configComponent:n.e("chunk-242ef0c8").then(n.bind(null,"59a6")),registerData:{name:"金额输入",type:1,items:[{uuid:"00000000-0000-0000-0000-000000000003",type:3,itemType:3,configs:[{code:"type",customize:!1,name:"返回值类型",defaultValue:"string"},{code:"schemaKey",customize:!1,name:"schemaKey",defaultValue:""},{code:"readonly",customize:!1,name:"只读",defaultValue:"false"},{code:"alias",customize:!0,otherConfig:"cuShow",name:"别名",defaultValue:""},{code:"maxLength",customize:!0,name:"最大值",defaultValue:"999",otherConfig:"code"},{code:"minLength",customize:!0,name:"最小值",defaultValue:"0",otherConfig:"code"},{code:"convert",customize:!0,name:"是否给用户显示中文转换结果",defaultValue:"false"},{code:"value",customize:!0,name:"默认值",defaultValue:"",otherConfig:"code"},{code:"inputType",customize:!1,name:"输入类型",defaultValue:"3000"}]}]}},"00000000-0000-0000-0000-000000000005":{title:"单项选择",component:n.e("chunk-f5101a5a").then(n.bind(null,"48d5")),configComponent:n.e("chunk-396424e3").then(n.bind(null,"f026")),registerData:{name:"单项选择",type:1,otherConfig:"singleSelect;display",items:[{uuid:"00000000-0000-0000-0000-000000000005",type:1,itemType:1,configs:[{code:"type",customize:!1,name:"返回值类型",defaultValue:"array"},{code:"schemaKey",customize:!1,name:"schemaKey",defaultValue:""},{code:"readonly",customize:!1,name:"只读",defaultValue:"false"},{code:"readonlyData",customize:!1,name:"只读数据",defaultValue:""},{code:"inputType",customize:!1,name:"输入类型",defaultValue:"1000"},{code:"alias",customize:!0,otherConfig:"cuShow",name:"别名",defaultValue:""},{code:"showType",customize:!0,name:"展现形式",defaultValue:"radio"},{code:"value",customize:!0,name:"默认值",defaultValue:"",otherConfig:"code"}]}]}},"00000000-0000-0000-0000-000000000006":{title:"单项选择选项",component:n.e("chunk-f5101a5a").then(n.bind(null,"48d5")),registerData:{name:"单项选择选项",otherConfig:"singleSelect-option;display",type:1,items:[{uuid:"00000000-0000-0000-0000-000000000006",type:6,itemType:6,configs:[{code:"type",customize:!1,name:"返回值类型",defaultValue:"string"},{code:"readonly",customize:!1,name:"只读",defaultValue:"false"},{code:"schemaKey",customize:!1,name:"schemaKey",defaultValue:""},{code:"point",customize:!1,name:"附加组件",defaultValue:""},{code:"inputType",customize:!1,name:"输入类型",defaultValue:"1000"}]}]}},"00000000-0000-0000-0000-000000000007":{title:"多项选择",component:n.e("chunk-09202818").then(n.bind(null,"c7f4")),configComponent:n.e("chunk-06694f40").then(n.bind(null,"6fda")),registerData:{name:"多项选择",type:1,otherConfig:"multiSelect;display",items:[{uuid:"00000000-0000-0000-0000-000000000007",type:2,itemType:2,configs:[{code:"type",customize:!1,name:"返回值类型",defaultValue:"array"},{code:"schemaKey",customize:!1,name:"schemaKey",defaultValue:""},{code:"readonly",customize:!1,name:"只读",defaultValue:"false"},{code:"readonlyData",customize:!1,name:"只读数据",defaultValue:""},{code:"rejectionCondition",customize:!1,name:"排异条件",defaultValue:""},{code:"inputType",customize:!1,name:"输入类型",defaultValue:"1000"},{code:"alias",customize:!0,otherConfig:"cuShow",name:"别名",defaultValue:""},{code:"showType",customize:!0,name:"展现形式",defaultValue:"multiSelect"},{code:"rejectionType",customize:!0,name:"排异形式",defaultValue:"select"},{code:"value",customize:!0,name:"默认值",defaultValue:"",otherConfig:"code"}]}]}},"00000000-0000-0000-0000-000000000008":{title:"多项选择选项",component:n.e("chunk-09202818").then(n.bind(null,"c7f4")),registerData:{name:"多项选择选项",type:1,otherConfig:"multiSelect-option;display",items:[{uuid:"00000000-0000-0000-0000-000000000008",type:6,itemType:6,configs:[{code:"type",customize:!1,name:"返回值类型",defaultValue:"string"},{code:"readonly",customize:!1,name:"只读",defaultValue:"false"},{code:"schemaKey",customize:!1,name:"schemaKey",defaultValue:""},{code:"point",customize:!1,name:"附加组件",defaultValue:""},{code:"unique",customize:!1,name:"唯一",defaultValue:""},{code:"inputType",customize:!1,name:"输入类型",defaultValue:"1000"}]}]}},"00000000-0000-0000-0000-000000000010":{title:"时间选择",component:n.e("chunk-f0f0a71a").then(n.bind(null,"af16")),configComponent:n.e("chunk-04944cb9").then(n.bind(null,"cad7")),registerData:{name:"时间选择",type:1,items:[{uuid:"00000000-0000-0000-0000-000000000010",type:3,itemType:3,configs:[{code:"type",customize:!1,name:"返回值类型",defaultValue:"string"},{code:"readonly",customize:!1,name:"只读",defaultValue:"false"},{code:"schemaKey",customize:!1,name:"schemaKey",defaultValue:""},{code:"alias",customize:!0,otherConfig:"cuShow",name:"别名",defaultValue:""},{code:"format",customize:!0,name:"时间格式",defaultValue:"HH:mm"},{code:"range",customize:!0,name:"时间范围",otherConfig:"code",defaultValue:"09:00 - 18:00"},{code:"value",customize:!0,name:"默认值",otherConfig:"code",defaultValue:"00:00"},{code:"inputType",customize:!1,name:"输入类型",defaultValue:"5000"}]}]}},"00000000-0000-0000-0000-000000000011":{title:"填空",component:n.e("chunk-2c91fa1a").then(n.bind(null,"3805")),configComponent:n.e("chunk-69392bce").then(n.bind(null,"4ff0")),registerData:{name:"填空",type:1,otherConfig:"input",items:[{uuid:"00000000-0000-0000-0000-000000000011",type:3,itemType:3,configs:[{code:"type",customize:!1,name:"返回值类型",defaultValue:"string"},{code:"readonly",customize:!1,name:"只读",defaultValue:"false"},{code:"schemaKey",customize:!1,name:"schemaKey",defaultValue:""},{code:"alias",customize:!0,otherConfig:"cuShow",name:"别名",defaultValue:""},{code:"inputType",customize:!0,name:"输入类型",defaultValue:"1000"},{code:"placeholder",customize:!0,name:"输入提示",defaultValue:""},{code:"maxLength",customize:!0,name:"最大长度",defaultValue:"999",otherConfig:"code"},{code:"value",customize:!0,name:"默认值",defaultValue:"",otherConfig:"code"}]}]}},"00000000-0000-0000-0000-000000000012":{title:"多填",registerData:{name:"多填",type:1,otherConfig:"multiInput;display",items:[{uuid:"00000000-0000-0000-0000-000000000012",itemType:7,type:7,configs:[]}]}},"00000000-0000-0000-0000-000000000013":{title:"判断",component:n.e("chunk-f5101a5a").then(n.bind(null,"48d5")),configComponent:n.e("chunk-396424e3").then(n.bind(null,"f026")),registerData:{name:"判断",type:1,otherConfig:"judge;display",items:[{uuid:"00000000-0000-0000-0000-000000000013",type:4,itemType:4,configs:[{code:"type",customize:!1,name:"返回值类型",defaultValue:"array"},{code:"readonly",customize:!1,name:"只读",defaultValue:"false"},{code:"readonlyData",customize:!1,name:"只读数据",defaultValue:""},{code:"schemaKey",customize:!1,name:"schemaKey",defaultValue:""},{code:"inputType",customize:!1,name:"输入类型",defaultValue:"1000"},{code:"alias",customize:!0,otherConfig:"cuShow",name:"别名",defaultValue:""},{code:"showType",customize:!0,name:"展现形式",defaultValue:"judge"},{code:"value",customize:!0,name:"默认值",defaultValue:"",otherConfig:"code"}]}]}},"00000000-0000-0000-0000-000000000014":{title:"判断选项",component:n.e("chunk-f5101a5a").then(n.bind(null,"48d5")),registerData:{name:"判断选项",otherConfig:"judge-option;display",type:1,items:[{uuid:"00000000-0000-0000-0000-000000000014",type:6,itemType:6,configs:[{code:"type",customize:!1,name:"返回值类型",defaultValue:"string"},{code:"readonly",customize:!1,name:"只读",defaultValue:"false"},{code:"schemaKey",customize:!1,name:"schemaKey",defaultValue:""},{code:"point",customize:!1,name:"附加组件",defaultValue:""},{code:"inputType",customize:!1,name:"输入类型",defaultValue:"1000"}]}]}},"00000000-0000-0000-0000-000000000015":{title:"数字",component:n.e("chunk-23915e8a").then(n.bind(null,"055f")),configComponent:n.e("chunk-edb22d2c").then(n.bind(null,"7dbb")),registerData:{name:"数字",type:1,otherConfig:"integerInput",items:[{uuid:"00000000-0000-0000-0000-000000000015",type:3,itemType:3,configs:[{code:"type",customize:!1,name:"返回值类型",defaultValue:"string"},{code:"schemaKey",customize:!1,name:"schemaKey",defaultValue:""},{code:"alias",customize:!0,otherConfig:"cuShow",name:"别名",defaultValue:""},{code:"readonly",customize:!1,name:"只读",defaultValue:"false"},{code:"maxLength",customize:!0,name:"最大值",defaultValue:"",otherConfig:"code"},{code:"minLength",customize:!0,name:"最小值",defaultValue:"",otherConfig:"code"},{code:"placeholder",customize:!0,name:"输入提示",defaultValue:""},{code:"value",customize:!0,name:"默认值",defaultValue:"",otherConfig:"code"},{code:"inputType",customize:!1,name:"输入类型",defaultValue:"4000"}]}]}},"00000000-0000-0000-0000-000000000016":{title:"树形",component:n.e("chunk-57beab53").then(n.bind(null,"b0e9")),configComponent:n.e("chunk-788f0142").then(n.bind(null,"4ee4")),registerData:{name:"树形",type:1,otherConfig:"tree;display;cuShow",items:[{uuid:"00000000-0000-0000-0000-000000000016",type:9,itemType:8,configs:[{code:"type",customize:!1,name:"返回值类型",defaultValue:"array"},{code:"readonly",customize:!1,name:"只读",defaultValue:"false"},{code:"readonlyData",customize:!1,name:"只读数据",defaultValue:""},{code:"schemaKey",customize:!1,name:"schemaKey",defaultValue:""},{code:"inputType",customize:!1,name:"输入类型",defaultValue:"1000"},{code:"alias",customize:!0,otherConfig:"cuShow",name:"别名",defaultValue:""},{code:"showType",customize:!0,name:"展现形式",defaultValue:"cascader"},{code:"seleteType",customize:!0,name:"选择方式",defaultValue:"1"},{code:"seleteChild",customize:!0,name:"是否每一级都可以作为选择的结果",defaultValue:"false"},{code:"name",customize:!0,name:"名称",defaultValue:"名称"},{code:"name1",customize:!0,name:"同级名称1",defaultValue:"同级名称1"},{code:"name2",customize:!0,name:"同级名称2",defaultValue:"同级名称2"},{code:"name3",customize:!0,name:"同级名称3",defaultValue:"同级名称3"},{code:"value",customize:!0,name:"默认值",defaultValue:"",otherConfig:"code"}]}]}},"00000000-0000-0000-0000-000000000017":{title:"多行文本",component:n.e("chunk-68a86cce").then(n.bind(null,"8ff8")),configComponent:n.e("chunk-ecac0554").then(n.bind(null,"6346")),registerData:{name:"多行文本",type:1,otherConfig:"textarea",items:[{uuid:"00000000-0000-0000-0000-000000000017",type:3,itemType:3,configs:[{code:"type",customize:!1,name:"返回值类型",defaultValue:"string"},{code:"readonly",customize:!1,name:"只读",defaultValue:"false"},{code:"schemaKey",customize:!1,name:"schemaKey",defaultValue:""},{code:"alias",customize:!0,otherConfig:"cuShow",name:"别名",defaultValue:""},{code:"inputType",customize:!0,name:"输入类型",defaultValue:"1000"},{code:"placeholder",customize:!0,name:"输入提示",defaultValue:""},{code:"maxLength",customize:!0,name:"最大长度",defaultValue:"999",otherConfig:"code"},{code:"rows",customize:!0,name:"默认行数",defaultValue:"5"},{code:"value",customize:!0,name:"默认值",defaultValue:"",otherConfig:"code"}]}]}},"00000000-0000-0000-0000-000000000018":{title:"图片上传",component:n.e("chunk-04d27219").then(n.bind(null,"1a21")),configComponent:n.e("chunk-9666a97a").then(n.bind(null,"63de")),registerData:{name:"图片上传",type:1,otherConfig:"upload",items:[{uuid:"00000000-0000-0000-0000-000000000018",type:5,itemType:5,configs:[{code:"type",customize:!1,name:"返回值类型",defaultValue:"array"},{code:"readonly",customize:!1,name:"只读",defaultValue:"false"},{code:"inputType",customize:!1,name:"输入类型",defaultValue:"16000"},{code:"multiple",customize:!0,name:"是否支持多选文件",defaultValue:"true"},{code:"paste",customize:!0,name:"是否支持粘贴上传文件",defaultValue:"true"},{code:"showUploadList",customize:!0,name:"是否显示已上传文件列表",defaultValue:"true"},{code:"accept",customize:!0,name:"接受上传的文件类型",defaultValue:"image/*"},{code:"format",customize:!0,name:"支持的文件类型后缀",defaultValue:"jpg,jpeg,png"},{code:"componentType",customize:!0,name:"上传控件的类型",defaultValue:"drag"},{code:"maxSize",customize:!0,name:"最大文件大小",defaultValue:"2048"},{code:"value",customize:!0,name:"默认值",defaultValue:"",otherConfig:"code"}]}]}},"00000000-0000-0000-0000-000000000019":{title:"文件上传",component:n.e("chunk-04d27219").then(n.bind(null,"1a21")),configComponent:n.e("chunk-9666a97a").then(n.bind(null,"63de")),registerData:{name:"文件上传",type:1,otherConfig:"upload",items:[{uuid:"00000000-0000-0000-0000-000000000019",type:5,itemType:5,configs:[{code:"type",customize:!1,name:"返回值类型",defaultValue:"array"},{code:"readonly",customize:!1,name:"只读",defaultValue:"false"},{code:"inputType",customize:!1,name:"输入类型",defaultValue:"16000"},{code:"multiple",customize:!0,name:"是否支持多选文件",defaultValue:"true"},{code:"paste",customize:!0,name:"是否支持粘贴上传文件",defaultValue:"true"},{code:"showUploadList",customize:!0,name:"是否显示已上传文件列表",defaultValue:"true"},{code:"accept",customize:!0,name:"接受上传的文件类型",defaultValue:"*/*"},{code:"format",customize:!0,name:"支持的文件类型后缀",defaultValue:""},{code:"componentType",customize:!0,name:"上传控件的类型",defaultValue:"drag"},{code:"maxSize",customize:!0,name:"最大文件大小",defaultValue:"2048"},{code:"value",customize:!0,name:"默认值",defaultValue:"",otherConfig:"code"}]}]}},"00000000-0000-0000-0000-000000000020":{title:"年龄",component:n.e("chunk-5523c3c0").then(n.bind(null,"61df")),configComponent:n.e("chunk-60a69db4").then(n.bind(null,"904e")),registerData:{name:"年龄",type:1,otherConfig:"age",items:[{uuid:"00000000-0000-0000-0000-000000000020",type:3,itemType:3,configs:[{code:"type",customize:!1,name:"返回值类型",defaultValue:"string"},{code:"schemaKey",customize:!1,name:"schemaKey",defaultValue:""},{code:"alias",customize:!0,otherConfig:"cuShow",name:"别名",defaultValue:""},{code:"readonly",customize:!1,name:"只读",defaultValue:"false"},{code:"maxLength",customize:!0,name:"最大值",defaultValue:"300",otherConfig:"code"},{code:"minLength",customize:!0,name:"最小值",defaultValue:"1",otherConfig:"code"},{code:"placeholder",customize:!0,name:"输入提示",defaultValue:""},{code:"value",customize:!0,name:"默认值",defaultValue:"",otherConfig:"code"},{code:"inputType",customize:!1,name:"输入类型",defaultValue:"17000"}]}]}},"00000000-0000-0000-0000-000000000021":{title:"小数",component:n.e("chunk-2d0e2110").then(n.bind(null,"7cb0")),configComponent:n.e("chunk-4170f534").then(n.bind(null,"32f1")),registerData:{name:"小数",type:1,otherConfig:"decimal",items:[{uuid:"00000000-0000-0000-0000-000000000021",type:3,itemType:3,configs:[{code:"type",customize:!1,name:"返回值类型",defaultValue:"string"},{code:"schemaKey",customize:!1,name:"schemaKey",defaultValue:""},{code:"alias",customize:!0,otherConfig:"cuShow",name:"别名",defaultValue:""},{code:"readonly",customize:!1,name:"只读",defaultValue:"false"},{code:"maxLength",customize:!0,name:"最大值",defaultValue:"",otherConfig:"code"},{code:"minLength",customize:!0,name:"最小值",defaultValue:"",otherConfig:"code"},{code:"placeholder",customize:!0,name:"输入提示",defaultValue:""},{code:"value",customize:!0,name:"默认值",defaultValue:"",otherConfig:"code"},{code:"inputType",customize:!1,name:"输入类型",defaultValue:"4001"}]}]}},"00000000-0000-0000-0000-000000000022":{title:"正数",component:n.e("chunk-23915e8a").then(n.bind(null,"055f")),configComponent:n.e("chunk-edb22d2c").then(n.bind(null,"7dbb")),registerData:{name:"正数",type:1,otherConfig:"positiveNumber",items:[{uuid:"00000000-0000-0000-0000-000000000022",type:3,itemType:3,configs:[{code:"type",customize:!1,name:"返回值类型",defaultValue:"string"},{code:"schemaKey",customize:!1,name:"schemaKey",defaultValue:""},{code:"alias",customize:!0,otherConfig:"cuShow",name:"别名",defaultValue:""},{code:"readonly",customize:!1,name:"只读",defaultValue:"false"},{code:"maxLength",customize:!0,name:"最大值",defaultValue:"",otherConfig:"code"},{code:"minLength",customize:!0,name:"最小值",defaultValue:"",otherConfig:"code"},{code:"placeholder",customize:!0,name:"输入提示",defaultValue:""},{code:"value",customize:!0,name:"默认值",defaultValue:"",otherConfig:"code"},{code:"inputType",customize:!1,name:"输入类型",defaultValue:"4002"}]}]}},"00000000-0000-0000-0000-000000000023":{title:"正整数",component:n.e("chunk-23915e8a").then(n.bind(null,"055f")),configComponent:n.e("chunk-edb22d2c").then(n.bind(null,"7dbb")),registerData:{name:"正整数",type:1,otherConfig:"positiveInteger",items:[{uuid:"00000000-0000-0000-0000-000000000023",type:3,itemType:3,configs:[{code:"type",customize:!1,name:"返回值类型",defaultValue:"string"},{code:"schemaKey",customize:!1,name:"schemaKey",defaultValue:""},{code:"alias",customize:!0,otherConfig:"cuShow",name:"别名",defaultValue:""},{code:"readonly",customize:!1,name:"只读",defaultValue:"false"},{code:"maxLength",customize:!0,name:"最大值",defaultValue:"",otherConfig:"code"},{code:"minLength",customize:!0,name:"最小值",defaultValue:"1",otherConfig:"code"},{code:"placeholder",customize:!0,name:"输入提示",defaultValue:""},{code:"value",customize:!0,name:"默认值",defaultValue:"",otherConfig:"code"},{code:"inputType",customize:!1,name:"输入类型",defaultValue:"4303"}]}]}},"00000000-0000-0000-0000-000000000024":{title:"小报告",component:n.e("chunk-1e720c98").then(n.bind(null,"0cdd")),configComponent:n.e("chunk-2d0d7673").then(n.bind(null,"7752")),registerData:{name:"小报告",type:1,otherConfig:"report",items:[{uuid:"00000000-0000-0000-0000-000000000024",type:12,itemType:9,configs:[{code:"type",customize:!1,name:"返回值类型",defaultValue:"string"},{code:"schemaKey",customize:!1,name:"schemaKey",defaultValue:""},{code:"readonly",customize:!1,name:"只读",defaultValue:"true"},{code:"note",customize:!0,name:"代码说明",defaultValue:""},{code:"value",customize:!1,name:"默认值",defaultValue:""},{code:"report",customize:!0,name:"小报告",defaultValue:"",otherConfig:"code"},{code:"inputType",customize:!1,name:"输入类型",defaultValue:"18000"}]}]}},"00000000-0000-0000-0000-0000000000Z1":{title:"按钮",component:n.e("chunk-4a2c4bb4").then(n.bind(null,"1195")),registerData:{name:"按钮",type:1,otherConfig:"button;display",items:[{uuid:"00000000-0000-0000-0000-0000000000Z1",type:8,itemType:9,configs:[]}]}}};var o={dateInput:"00000000-0000-0000-0000-000000000001",moneyInput:"00000000-0000-0000-0000-000000000003",radioSelect:"00000000-0000-0000-0000-000000000005",multiSelect:"00000000-0000-0000-0000-000000000007",timeInput:"00000000-0000-0000-0000-000000000010",singleBlank:"00000000-0000-0000-0000-000000000011",multiInput:"00000000-0000-0000-0000-000000000012",judge:"00000000-0000-0000-0000-000000000013",integerInput:"00000000-0000-0000-0000-000000000015",tree:"00000000-0000-0000-0000-000000000016",textarea:"00000000-0000-0000-0000-000000000017",upload:"00000000-0000-0000-0000-000000000018",age:"00000000-0000-0000-0000-000000000020"}},fe33:function(e,t,n){}});
//# sourceMappingURL=app.b7c85361.js.map