(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-66650b0e"],{3501:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"register-component-page"},[n("div",{staticClass:"list"},[n("h1",{staticStyle:{"margin-top":"0"}},[e._v("已注册组件")]),n("Button",{attrs:{type:"primary"},on:{click:e.updateAllComponents}},[e._v("一键更新注册信息")]),n("br"),e._l(this.componentList,function(t,r){return n("Button",{key:r,on:{click:function(n){e.deleteComponent(t.id)}}},[e._v(e._s(t.name))])})],2),n("div",{staticClass:"list"},[n("h1",[e._v("所有组件")]),n("Button",{attrs:{type:"primary"},on:{click:e.registerAllComponents}},[e._v("一键注册")]),n("br"),e._l(e.componentData,function(t,r){return t.registerData?n("Button",{key:r},[e._v(e._s(t.registerData.name))]):e._e()})],2)])},a=[],s=(n("ac4d"),n("8a81"),n("f751"),n("ac6a"),n("7f7f"),n("96cf"),n("3040")),i=n("e0a5"),o=n("fda0"),c={name:"register-component-page",data:function(){return{componentList:[],componentData:o["b"]}},mounted:function(){this.getComponentList()},methods:{getComponentList:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i["default"].getComponentList({type:1});case 2:t=e.sent,console.log(t),t?this.componentList=t:this.$Message.error("获取组件列表失败");case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),registerComponent:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i["default"].registerComponent(t);case 2:n=e.sent,n?this.$Message.success("注册成功"):(this.$Message.error("注册失败"),console.log("注册失败",t.name));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),registerAllComponents:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:e.t0=regeneratorRuntime.keys(o["b"]);case 1:if((e.t1=e.t0()).done){e.next=10;break}if(t=e.t1.value,n=o["b"][t],!n.hasOwnProperty("registerData")){e.next=8;break}return r=n.registerData,e.next=8,this.registerComponent(r);case 8:e.next=1;break;case 10:this.getComponentList(),this.$store.dispatch("component/init");case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),deleteComponent:function(e){var t=this;this.$Modal.confirm({title:"警告",content:"组件删除后无法恢复，是否一定要删？",onOk:function(){var n=Object(s["a"])(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,i["default"].deleteComponent(e);case 2:r=n.sent,r?t.$Message.success("删除成功"):t.$Message.error("删除失败");case 4:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),onCancel:function(){t.$Message.info("删除已被取消")}})},updateComponent:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t,n){var r,a,s,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:e.t0=regeneratorRuntime.keys(o["b"]);case 1:if((e.t1=e.t0()).done){e.next=12;break}if(r=e.t1.value,a=o["b"][r],!a.hasOwnProperty("registerData")||o["b"][r].registerData.items[0].uuid!==n){e.next=10;break}return s=Object.assign({id:t},a.registerData),e.next=8,i["default"].updateComponent(s);case 8:c=e.sent,c?this.$Message.success("更新成功"):(this.$Message.error("更新失败"),console.log("更新失败",s.name));case 10:e.next=1;break;case 12:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),updateAllComponents:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){var t,n,r,a,s,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t=!0,n=!1,r=void 0,e.prev=3,a=this.componentList[Symbol.iterator]();case 5:if(t=(s=a.next()).done){e.next=12;break}return i=s.value,e.next=9,this.updateComponent(i.id,i.items[0].uuid);case 9:t=!0,e.next=5;break;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e["catch"](3),n=!0,r=e.t0;case 18:e.prev=18,e.prev=19,t||null==a.return||a.return();case 21:if(e.prev=21,!n){e.next=24;break}throw r;case 24:return e.finish(21);case 25:return e.finish(18);case 26:this.getComponentList(),this.$store.dispatch("component/init");case 28:case"end":return e.stop()}},e,this,[[3,14,18,26],[19,,21,25]])}));return function(){return e.apply(this,arguments)}}()}},u=c,p=(n("500a"),n("2877")),m=Object(p["a"])(u,r,a,!1,null,"4c0fa77b",null);m.options.__file="RegisterComponent.vue";t["default"]=m.exports},"500a":function(e,t,n){"use strict";var r=n("e718"),a=n.n(r);a.a},e718:function(e,t,n){}}]);
//# sourceMappingURL=chunk-66650b0e.ff6aef37.js.map