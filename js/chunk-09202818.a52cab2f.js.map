{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es6.set.js","webpack:///./node_modules/core-js/modules/_object-to-array.js","webpack:///./node_modules/core-js/modules/es7.object.values.js","webpack:///./src/components/components/multiSelect.vue?05c8","webpack:///./src/components/components/multiSelect.vue?4c46","webpack:///src/components/components/multiSelect.vue","webpack:///./src/components/components/multiSelect.vue?6ca5","webpack:///./src/components/components/multiSelect.vue"],"names":["strong","__webpack_require__","validate","SET","module","exports","get","this","arguments","length","undefined","add","value","def","getKeys","toIObject","isEnum","f","isEntries","it","key","O","keys","i","result","call","push","$export","$values","S","values","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_multiSelect_vue_vue_type_style_index_0_id_03c91289_lang_stylus_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_multiSelect_vue_vue_type_style_index_0_id_03c91289_lang_stylus_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","vertical","on","on-change","chooseOptions","model","callback","$$v","select","expression","_l","option","idx","staticStyle","size","label","disabled","readonly","readonlyData","indexOf","optionsDsiabled","_v","_s","title","description","staticRenderFns","multiSelectvue_type_script_lang_js_","data","uuid","options","optionsKey","optionsNoSelect","rejection","rejections","lastOption","lastVal","props","schemaKey","type","String","require","properties","Object","default","additionalKeys","Array","rejectionInfos","Boolean","showType","rejectionType","server","mounted","_this","JSON","parse","deepCopy","map","split","console","log","tmp3","x","tmp","tmp2","splice","$emit","first","methods","val","nowVal","_this2","a","Set","b","toConsumableArray","filter","has","count","xs","_","e","concat","r","includes","t","findOnly","_i","unique","l","sort","allowClose","components_multiSelectvue_type_script_lang_js_","component","componentNormalizer","__file","__webpack_exports__"],"mappings":"kHACA,IAAAA,EAAaC,EAAQ,QACrBC,EAAeD,EAAQ,QACvBE,EAAA,MAGAC,EAAAC,QAAiBJ,EAAQ,OAARA,CAAuBE,EAAA,SAAAG,GACxC,kBAAyB,OAAAA,EAAAC,KAAAC,UAAAC,OAAA,EAAAD,UAAA,QAAAE,MAGzBC,IAAA,SAAAC,GACA,OAAAZ,EAAAa,IAAAX,EAAAK,KAAAJ,GAAAS,EAAA,IAAAA,EAAA,EAAAA,OAECZ,2BCbD,IAAAc,EAAcb,EAAQ,QACtBc,EAAgBd,EAAQ,QACxBe,EAAaf,EAAQ,QAAegB,EACpCb,EAAAC,QAAA,SAAAa,GACA,gBAAAC,GACA,IAKAC,EALAC,EAAAN,EAAAI,GACAG,EAAAR,EAAAO,GACAZ,EAAAa,EAAAb,OACAc,EAAA,EACAC,KAEA,MAAAf,EAAAc,EAAAP,EAAAS,KAAAJ,EAAAD,EAAAE,EAAAC,OACAC,EAAAE,KAAAR,GAAAE,EAAAC,EAAAD,IAAAC,EAAAD,IACK,OAAAI,0BCZL,IAAAG,EAAc1B,EAAQ,QACtB2B,EAAc3B,EAAQ,OAARA,EAA4B,GAE1C0B,IAAAE,EAAA,UACAC,OAAA,SAAAX,GACA,OAAAS,EAAAT,2CCNA,IAAAY,EAAA9B,EAAA,QAAA+B,EAAA/B,EAAAgC,EAAAF,GAA+jBC,EAAG,mECAlkB,IAAAE,EAAA,WAA0B,IAAAC,EAAA5B,KAAa6B,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,iBAA2BF,EAAA,kBAAuBE,YAAA,eAAAC,OAAkCC,SAAA,IAAcC,IAAKC,YAAAT,EAAAU,eAA8BC,OAAQlC,MAAAuB,EAAA,OAAAY,SAAA,SAAAC,GAA4Cb,EAAAc,OAAAD,GAAeE,WAAA,WAAsBf,EAAAgB,GAAAhB,EAAA,iBAAAiB,EAAAC,GAA2C,OAAAf,EAAA,aAAuBlB,IAAAiC,EAAAC,aAAqBC,KAAA,SAAed,OAAQe,MAAAH,EAAAI,SAAAtB,EAAAuB,WAAA,IAAAvB,EAAAwB,aAAAC,QAAAP,IAAAlB,EAAA0B,gBAAAR,MAAyGf,EAAA,QAAaE,YAAA,iBAA2BL,EAAA2B,GAAA3B,EAAA4B,GAAAX,EAAAY,UAAA1B,EAAA,QAA4CE,YAAA,uBAAiCL,EAAA2B,GAAA3B,EAAA4B,GAAAX,EAAAa,YAAA,IAAAb,EAAAa,YAAA,iBAA+E,IACnuBC,qECiBAC,kCACAC,KADA,WAEA,OACAnB,UACAoB,KAAA,uCACAC,QAAA,KACAC,cACAV,mBACAW,mBACAC,aACAC,cACAC,WAAA,KACAC,QAAA,OAGAC,OACAC,WACAC,KAAAC,OACAC,SAAA,GAEAC,YACAH,KAAAI,QAEAnB,OACAe,KAAAC,OACAI,QAAA,QAEAxE,OACAmE,KAAAC,QAEAf,aACAc,KAAAC,OACAI,QAAA,IAEAC,gBACAN,KAAAO,OAEAC,gBACAR,KAAAO,OAEA5B,UACAqB,KAAAS,SAEA7B,cACAoB,KAAAO,MACAF,QAAA,sBAEAK,UACAV,KAAAC,QAEAU,eACAX,KAAAC,QAEAW,QACAZ,KAAAS,QACAP,SAAA,IAGAW,QA1DA,WA0DA,IAAAC,EAAAtF,KAOA,QAAAa,KALAb,KAAAK,QACAL,KAAA0C,OAAA6C,KAAAC,MAAAxF,KAAAK,OACAL,KAAAqE,QAAArE,KAAAyF,SAAAzF,KAAA0C,SAEA1C,KAAA+D,QAAA/D,KAAA2E,WACA3E,KAAA2E,WACA3E,KAAAsD,gBAAAzC,IAAA,EACAb,KAAAiE,gBAAApD,IAAA,EAGA,QAAAa,KAAA1B,KAAA+D,QACA/D,KAAAgE,WAAA7C,KAAAO,GAGA1B,KAAAgF,gBAAAhF,KAAAgF,eAAA9E,QACAF,KAAAgF,eAAAU,IAAA,SAAAhE,GACA4D,EAAApB,UAAA/C,KAAAO,EAAAiE,MAAA,QAIAC,QAAAC,IAAA7F,KAAAkE,WAIA,IAAA4B,KACA9F,KAAAkE,UAAAwB,IAAA,SAAAK,GAEA,QAAA/E,KAAA+E,EAAA,CACA,IAAAC,KACAC,EAAAX,EAAAG,SAAAM,GACAE,EAAAC,OAAAlF,EAAA,GACAgF,EAAAD,EAAA/E,IAAAiF,EACAH,EAAA3E,KAAA6E,MAyDAhG,KAAAmE,WAAA2B,EACAF,QAAAC,IAAA7F,KAAAmE,YAGAnE,KAAAmG,MAAA,SACA5B,UAAAvE,KAAAuE,UACAlE,MAAAL,KAAA0C,OACA0C,OAAApF,KAAAoF,OACAgB,OAAA,KAGAC,SACA/D,cADA,SACAgE,GAAA,IACAC,EADAC,EAAAxG,KAEA,GAAAA,KAAAqE,QAAA,CACA,IAAAoC,EAAA,IAAAC,IAAAJ,GACAK,EAAA,IAAAD,IAAA1G,KAAAqE,SACAkC,EAAA3B,OAAAgC,EAAA,KAAAhC,CAAA,IAAA8B,IAAA9B,OAAAgC,EAAA,KAAAhC,CAAA6B,GAAAI,OAAA,SAAAd,GAAA,OAAAY,EAAAG,IAAAf,OAEAQ,EADAA,EAAArG,OAAA,EACAqG,EAAA,GAEA,UAGAA,EAAAD,EAAA,GAMA,QAAAzF,KAHA+E,QAAAC,IAAA,QAAAU,GAGAvG,KAAA2E,WACA3E,KAAAsD,gBAAAzC,IAAA,EACAb,KAAAiE,gBAAApD,IAAA,EAGA,gBAAAb,KAAAmF,cACAnF,KAAAkE,UAAAwB,IAAA,SAAAhE,GACA,IAAAqF,EAAA,EACAC,KAQA,GAPAV,EAAAZ,IAAA,SAAAuB,GACA,IAAAlB,EAAArE,EAAA2B,QAAA4D,IACA,IAAAlB,IACAgB,IACAC,EAAA7F,KAAA4E,MAGAgB,IAAArF,EAAAxB,OAAA,GACA,IAAAgH,EAAAtC,OAAAgC,EAAA,KAAAhC,CAAA,IAAA8B,IAAA9B,OAAAgC,EAAA,KAAAhC,CAAAG,MAAArD,EAAAxB,QAAAa,QAAAoG,OAAAH,KACAI,EAAAxC,OAAAgC,EAAA,KAAAhC,CAAAsC,EAAAL,OAAA,SAAAI,GAAA,OAAArC,OAAAgC,EAAA,KAAAhC,CAAAG,MAAArD,EAAAxB,QAAAa,QAAAsG,SAAAJ,MAAAE,OAAAvC,OAAAgC,EAAA,KAAAhC,CAAAsC,EAAAL,OAAA,SAAAI,GAAA,OAAAD,EAAAK,SAAAJ,OACA,IAAAG,EAAAlH,SAAAsG,EAAAlD,gBAAA5B,EAAA0F,EAAA,gBAGA,CAkBA,QAAA1F,KARA1B,KAAAmE,WAAAuB,IAAA,SAAAhE,GACA,IAAA4F,GAAA,EACA1C,OAAArD,OAAAG,GAAA,GAAAgE,IAAA,SAAAK,IAAA,IAAAO,EAAAjD,QAAA0C,KAAAuB,GAAA,KACAA,GAAA1C,OAAA7D,KAAAW,GAAA,KAAA6E,IAAAC,EAAAvC,gBAAAW,OAAA7D,KAAAW,GAAA,UAKA1B,KAAAiE,gBACA,GAAAjE,KAAAiE,gBAAAvC,KAAA,IAAA4E,EAAAjD,QAAA3B,GACA,QAAAV,EAAAsF,EAAApG,OAAA,EAAAc,GAAA,EAAAA,IACAsF,EAAAtF,KAAAU,GACA4E,EAAAJ,OAAAlF,EAAA,GAUA4E,QAAAC,IAAA7F,KAAA+D,SACA,IAAAwD,EAAA,WACA,QAAAC,KAAAhB,EAAAzC,QACA,GAAAyD,IAAAlB,EAAA,UAAAE,EAAAzC,QAAAyD,GAAAC,OAEA,UAEA7B,QAAAC,IAAA0B,MAIAA,KAAAhB,IAAAD,EAAA,QAAAA,EAAApG,QAAAF,KAAA2E,WAAA2B,IAAAtG,KAAA2E,WAAA2B,GAAAxB,gBAAA9E,KAAA2E,WAAA2B,GAAAxB,eAAA5E,QACAF,KAAAmG,MAAA,UACA5B,UAAAvE,KAAAuE,UACAlE,MAAAiG,IAIAtG,KAAA0C,OAAA4D,EAmBA,QAAAoB,KAhBA1H,KAAAqE,QAAAiC,EAGAA,EAAAqB,KAAA,SAAAlB,EAAAE,GACA,OAAAH,EAAAxC,WAAAX,QAAAoD,GAAA,GAAAD,EAAAxC,WAAAX,QAAAsD,GAAA,KAGAf,QAAAC,IAAAS,GAGAtG,KAAAmG,MAAA,SACA5B,UAAAvE,KAAAuE,UACAlE,MAAAiG,IAIAA,EACAC,IAAAD,EAAAoB,IAAA1H,KAAA2E,WAAA2B,EAAAoB,KAAA1H,KAAA2E,WAAA2B,EAAAoB,IAAA5C,gBAAA9E,KAAA2E,WAAA2B,EAAAoB,IAAA5C,eAAA5E,QACAF,KAAAmG,MAAA,cACAyB,YAAA,EACA9C,eAAA9E,KAAA2E,WAAA2B,EAAAoB,IAAA5C,qBCpSoW+C,EAAA,0BCQpWC,EAAgBlD,OAAAmD,EAAA,KAAAnD,CACdiD,EACAlG,EACAgC,GACF,EACA,KACA,WACA,MAIAmE,EAAA/D,QAAAiE,OAAA,kBACeC,EAAA,WAAAH","file":"js/chunk-09202818.a52cab2f.js","sourcesContent":["'use strict';\nvar strong = require('./_collection-strong');\nvar validate = require('./_validate-collection');\nvar SET = 'Set';\n\n// 23.2 Set Objects\nmodule.exports = require('./_collection')(SET, function (get) {\n  return function Set() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.2.3.1 Set.prototype.add(value)\n  add: function add(value) {\n    return strong.def(validate(this, SET), value = value === 0 ? 0 : value, value);\n  }\n}, strong);\n","var getKeys = require('./_object-keys');\nvar toIObject = require('./_to-iobject');\nvar isEnum = require('./_object-pie').f;\nmodule.exports = function (isEntries) {\n  return function (it) {\n    var O = toIObject(it);\n    var keys = getKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) if (isEnum.call(O, key = keys[i++])) {\n      result.push(isEntries ? [key, O[key]] : O[key]);\n    } return result;\n  };\n};\n","// https://github.com/tc39/proposal-object-values-entries\nvar $export = require('./_export');\nvar $values = require('./_object-to-array')(false);\n\n$export($export.S, 'Object', {\n  values: function values(it) {\n    return $values(it);\n  }\n});\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./multiSelect.vue?vue&type=style&index=0&id=03c91289&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./multiSelect.vue?vue&type=style&index=0&id=03c91289&lang=stylus&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"multi-select\"},[_c('xCheckboxGroup',{staticClass:\"option-group\",attrs:{\"vertical\":\"\"},on:{\"on-change\":_vm.chooseOptions},model:{value:(_vm.select),callback:function ($$v) {_vm.select=$$v},expression:\"select\"}},_vm._l((_vm.options),function(option,idx){return _c('xCheckbox',{key:idx,staticStyle:{\"size\":\"large\"},attrs:{\"label\":idx,\"disabled\":_vm.readonly || _vm.readonlyData.indexOf(idx) !== -1 || _vm.optionsDsiabled[idx]}},[_c('span',{staticClass:\"option-title\"},[_vm._v(_vm._s(option.title))]),_c('span',{staticClass:\"option-description\"},[_vm._v(_vm._s(option.description ? '（' + option.description + '）' : ''))])])}))],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"multi-select\">\r\n    <xCheckboxGroup class=\"option-group\" v-model=\"select\"\r\n                    @on-change=\"chooseOptions\"\r\n                    vertical>\r\n      <xCheckbox v-for=\"(option, idx) in options\"\r\n                :key=\"idx\"\r\n                :label=\"idx\"\r\n                :disabled=\"readonly || readonlyData.indexOf(idx) !== -1 || optionsDsiabled[idx]\"\r\n                style=\"size:large\">\r\n        <span class=\"option-title\">{{option.title}}</span>\r\n        <span class=\"option-description\">{{option.description ? '（' + option.description + '）' : ''}}</span>\r\n      </xCheckbox>\r\n    </xCheckboxGroup>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      select: [],\r\n      uuid: '00000000-0000-0000-0000-000000000007',\r\n      options: null,\r\n      optionsKey: [],\r\n      optionsDsiabled: {},\r\n      optionsNoSelect: {},\r\n      rejection: [],\r\n      rejections: {},\r\n      lastOption: null,\r\n      lastVal: null\r\n    }\r\n  },\r\n  props: {\r\n    schemaKey: {\r\n      type: String,\r\n      require: true\r\n    },\r\n    properties: {\r\n      type: Object\r\n    },\r\n    title: {\r\n      type: String,\r\n      default: '多选题目'\r\n    },\r\n    value: {\r\n      type: String\r\n    },\r\n    description: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    additionalKeys: {\r\n      type: Array\r\n    },\r\n    rejectionInfos: {\r\n      type: Array\r\n    },\r\n    readonly: {\r\n      type: Boolean\r\n    },\r\n    readonlyData: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    showType: {\r\n      type: String\r\n    },\r\n    rejectionType: {\r\n      type: String\r\n    },\r\n    server: {\r\n      type: Boolean,\r\n      require: false\r\n    }\r\n  },\r\n  mounted () {\r\n    // const rejectionsTmp = []\r\n    if (this.value) {\r\n      this.select = JSON.parse(this.value)\r\n      this.lastVal = this.deepCopy(this.select)\r\n    }\r\n    this.options = this.properties\r\n    for (const key in this.properties) {\r\n      this.optionsDsiabled[key] = false\r\n      this.optionsNoSelect[key] = false\r\n    }\r\n\r\n    for (const n in this.options) {\r\n      this.optionsKey.push(n)\r\n    }\r\n\r\n    if (this.rejectionInfos && this.rejectionInfos.length) {\r\n      this.rejectionInfos.map(n => {\r\n        this.rejection.push(n.split(','))\r\n      })\r\n    }\r\n\r\n    console.log(this.rejection)\r\n\r\n    // 预处理，避免做题的时候实时去计算，将所有可能的情况列出来。算法比较烦，但是稳妥。\r\n    // 专门处理rejections\r\n    const tmp3 = [] // 所有的key\r\n    this.rejection.map(x => {\r\n      // const tmp31 = []\r\n      for (const i in x) {\r\n        const tmp = {} // Template\r\n        const tmp2 = this.deepCopy(x)\r\n        tmp2.splice(i, 1)\r\n        tmp[x[i]] = tmp2\r\n        tmp3.push(tmp)\r\n      }\r\n      // tmp3.push(tmp31)\r\n    })\r\n    // // 查重\r\n    // const tmp4 = [] // 取出重复的元素\r\n    // tmp3.forEach(item => {\r\n    //   (tmp3.indexOf(item) !== tmp3.lastIndexOf(item) && tmp4.indexOf(item) === -1) && tmp4.push(item)\r\n    // })\r\n    // console.log(tmp4)\r\n\r\n    // // 查找指定元素是否存在\r\n    // const findTmp5Object = (tmp5, n) => {\r\n    //   for (const m in tmp5) {\r\n    //     if (Object.keys(tmp5[m])[0] === Object.keys(n)[0]) {\r\n    //       return {\r\n    //         exit: true,\r\n    //         m,\r\n    //         key: Object.keys(n)[0],\r\n    //         value: Object.values(tmp5[m])[0]\r\n    //       }\r\n    //     }\r\n    //   }\r\n    //   return {\r\n    //     exit: false\r\n    //   }\r\n    // }\r\n\r\n    // // 取交集\r\n    // const tmp5 = [] // 重复元素取交集\r\n    // rejectionsTmp.map(n => {\r\n    //   if (tmp4.indexOf(Object.keys(n)[0]) !== -1) {\r\n    //     const tmp = {}\r\n    //     const findResult = findTmp5Object(tmp5, n)\r\n    //     if (findResult.exit) {\r\n    //       tmp5[findResult.m][findResult.key] = [...new Set([...Object.values(n)[0], ...findResult.value])]\r\n    //     } else {\r\n    //       tmp[Object.keys(n)[0]] = Object.values(n)[0]\r\n    //       tmp5.push(tmp)\r\n    //     }\r\n    //   }\r\n    // })\r\n\r\n    // // 去掉重复的元素\r\n    // for (let i = rejectionsTmp.length - 1; i >= 0; i--) {\r\n    //   if (tmp4.indexOf(Object.keys(rejectionsTmp[i])[0]) !== -1) {\r\n    //     rejectionsTmp.splice(i, 1)\r\n    //   }\r\n    // }\r\n\r\n    // // 归纳后的元素放回rejections\r\n    // rejectionsTmp.push(...tmp5)\r\n\r\n    // // 将rejectionsTmp转为rejections\r\n    // // rejectionsTmp.map(n => {\r\n    // //   this.rejections[Object.keys(n)[0]] = Object.values(n)[0]\r\n    // // })\r\n    this.rejections = tmp3\r\n    console.log(this.rejections)\r\n\r\n    // 更新数据\r\n    this.$emit('input', {\r\n      schemaKey: this.schemaKey,\r\n      value: this.select,\r\n      server: this.server,\r\n      first: true\r\n    })\r\n  },\r\n  methods: {\r\n    chooseOptions (val) {\r\n      let nowVal\r\n      if (this.lastVal) {\r\n        const a = new Set(val)\r\n        const b = new Set(this.lastVal)\r\n        nowVal = [...new Set([...a].filter(x => !b.has(x)))]\r\n        if (nowVal.length > 0) {\r\n          nowVal = nowVal[0]\r\n        } else {\r\n          nowVal = null\r\n        }\r\n      } else {\r\n        nowVal = val[0]\r\n      }\r\n\r\n      console.log('当前选择：' + nowVal)\r\n\r\n      // 排异逻辑\r\n      for (const key in this.properties) {\r\n        this.optionsDsiabled[key] = false\r\n        this.optionsNoSelect[key] = false\r\n      }\r\n\r\n      if (this.rejectionType === 'noSelect') {\r\n        this.rejection.map(n => {\r\n          let count = 0\r\n          const xs = []\r\n          val.map(_ => {\r\n            let x = n.indexOf(_)\r\n            if (x !== -1) {\r\n              count++\r\n              xs.push(x)\r\n            }\r\n          })\r\n          if (count === n.length - 1) {\r\n            const e = [...new Set([...[...Array(n.length).keys()], ...xs])]\r\n            const r = [...e.filter(_ => ![...Array(n.length).keys()].includes(_)), ...e.filter(_ => !xs.includes(_))]\r\n            if (r.length === 1) this.optionsDsiabled[n[r[0]]] = true\r\n          }\r\n        })\r\n      } else {\r\n        // if (nowVal) {\r\n        //   // console.log(nowVal)\r\n        //   // console.log(this.rejections)\r\n        //   for (const n in this.rejections[nowVal]) {\r\n        //     this.optionsNoSelect[this.rejections[nowVal][n]] = true\r\n        //   }\r\n        // }\r\n\r\n        // 排异逻辑\r\n        this.rejections.map(n => {\r\n          let t = true\r\n          Object.values(n)[0].map(x => { if (val.indexOf(x) === -1) t = false })\r\n          if (t && Object.keys(n)[0] !== nowVal) this.optionsNoSelect[Object.keys(n)[0]] = true\r\n        })\r\n\r\n        // 不允许选的，都不给值\r\n        // let sum = 0\r\n        for (const n in this.optionsNoSelect) {\r\n          if (this.optionsNoSelect[n] && val.indexOf(n) !== -1) {\r\n            for (let i = val.length - 1; i >= 0; i--) {\r\n              if (val[i] === n) {\r\n                val.splice(i, 1)\r\n              }\r\n            }\r\n          }\r\n\r\n          // if (this.optionsNoSelect[n] === true) sum++\r\n        }\r\n\r\n        // 判断是否只有唯一选项且这个唯一选项作用于only选项\r\n        // const lastIndex = Object.keys(this.options).length - 1\r\n        console.log(this.options)\r\n        const findOnly = () => {\r\n          for (const i in this.options) {\r\n            if (i === val[0]) return this.options[i].unique\r\n          }\r\n          return false\r\n        }\r\n        console.log(findOnly())\r\n        // const itemVal = this.options.find((i) => {\r\n        //   return i.title === val\r\n        // })\r\n        if (findOnly() && nowVal === val[0] && val.length === 1 && !(this.properties[val] && this.properties[val].additionalKeys && this.properties[val].additionalKeys.length)) {\r\n          this.$emit('commit', {\r\n            schemaKey: this.schemaKey,\r\n            value: val\r\n          })\r\n        }\r\n\r\n        this.select = val\r\n      }\r\n\r\n      this.lastVal = val\r\n\r\n      // 对结果进行参照排序\r\n      val.sort((a, b) => {\r\n        return (this.optionsKey.indexOf(a) + 1) - (this.optionsKey.indexOf(b) + 1)\r\n      })\r\n\r\n      console.log(val)\r\n\r\n      // 更新数据\r\n      this.$emit('input', {\r\n        schemaKey: this.schemaKey,\r\n        value: val\r\n        // server: this.properties[val].server !== undefined ? this.properties[val].server : false\r\n      })\r\n\r\n      for (const l in val) {\r\n        if (nowVal === val[l] && this.properties[val[l]] && this.properties[val[l]].additionalKeys && this.properties[val[l]].additionalKeys.length) {\r\n          this.$emit('additional', {\r\n            allowClose: true,\r\n            additionalKeys: this.properties[val[l]].additionalKeys\r\n          })\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\" scoped>\r\n.multi-select\r\n  .option-group\r\n    text-align left\r\n    .option-title\r\n      font-weight bold\r\n      font-size 15px\r\n      font-family \"微软雅黑\"\r\n    .option-description\r\n      color #96A0AD\r\n      font-size 14px\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./multiSelect.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./multiSelect.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./multiSelect.vue?vue&type=template&id=03c91289&scoped=true&\"\nimport script from \"./multiSelect.vue?vue&type=script&lang=js&\"\nexport * from \"./multiSelect.vue?vue&type=script&lang=js&\"\nimport style0 from \"./multiSelect.vue?vue&type=style&index=0&id=03c91289&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"03c91289\",\n  null\n  \n)\n\ncomponent.options.__file = \"multiSelect.vue\"\nexport default component.exports"],"sourceRoot":""}