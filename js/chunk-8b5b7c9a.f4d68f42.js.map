{"version":3,"sources":["webpack:///./src/pages/AnswerRecord.vue?3bd3","webpack:///./src/pages/AnswerRecord.vue?d77b","webpack:///src/pages/AnswerRecord.vue","webpack:///./src/pages/AnswerRecord.vue?1c06","webpack:///./src/pages/AnswerRecord.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_AnswerRecord_vue_vue_type_style_index_0_lang_stylus___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_AnswerRecord_vue_vue_type_style_index_0_lang_stylus___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","ref","staticClass","recordId","_e","_v","model","value","callback","$$v","rootProject","expression","_l","option","idx","key","attrs","id","_s","name","childProject","on","click","pushToPage","projectInfo","_m","recordDetail","treeData","nodeClass","expand","scopedSlots","_u","fn","data","parentData","class","root-node-content","isRoot","children","findIndex","item","title","domProps","innerHTML","reportContent","height","tableHeight","columns","recordList","width","size","border","staticRenderFns","AnswerRecordvue_type_script_lang_js_","components","Tree","simple_tree","_this","sortable","align","h","params","props","type","showRecordDetail","index","converter","projectList","childrenList","computed","$route","query","all","lookProject","project","watch","calSize","getRecordDetail","getReportContent","getProjectDetail","newValue","oldValue","getChildProjectList","immediate","handler","_this2","$nextTick","getRecordList","mounted","projectId","rootId","showdown_default","a","Converter","literalMidWordUnderscores","getProjectList","window","addEventListener","beforeDestroy","removeEventListener","methods","_getProjectList","Object","asyncToGenerator","regeneratorRuntime","mark","_callee","_this$projectList","wrap","_context","prev","next","getRootProjectList","sent","push","apply","toConsumableArray","stop","arguments","_getChildProjectList","_callee2","_this$childrenList","_this3","_context2","splice","unshift","_getRecordList","_callee3","list","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","_context3","question","getHistoryAnswerRecord","undefined","Symbol","iterator","done","time","Math","round","updateTime","createTime","formatTime","t0","return","finish","_getProjectDetail","_callee4","_context4","detailId","$router","_getRecordDetail","_callee5","record","_context5","getAnswerRecord","$Message","error","_getReportContent","_callee6","recordText","_context6","makeHtml","_x","_this4","rect","$refs","answerRecord","getBoundingClientRect","table","timeStamp","formatNum","num","date","Date","year","getFullYear","month","getMonth","day","getDay","hour","getHours","minute","getMinutes","sText","concat","currentProject","pages_AnswerRecordvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"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","file":"js/chunk-8b5b7c9a.f4d68f42.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnswerRecord.vue?vue&type=style&index=0&lang=stylus&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnswerRecord.vue?vue&type=style&index=0&lang=stylus&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"answerRecord\",staticClass:\"answer-record-page\"},[(!_vm.recordId)?_c('div',{staticClass:\"answer-record-filter\"},[_c('div',{staticClass:\"filter-title\"},[_vm._v(\"根项目：\")]),_c('Select',{staticClass:\"filter-select\",model:{value:(_vm.rootProject),callback:function ($$v) {_vm.rootProject=$$v},expression:\"rootProject\"}},_vm._l((_vm.projectList),function(option,idx){return _c('Option',{key:idx,attrs:{\"value\":option.id}},[_vm._v(\"\\n        \"+_vm._s(option.name)+\"\\n      \")])})),_c('div',{staticClass:\"filter-title\"},[_vm._v(\"子项目：\")]),_c('Select',{staticClass:\"filter-select\",model:{value:(_vm.childProject),callback:function ($$v) {_vm.childProject=$$v},expression:\"childProject\"}},_vm._l((_vm.childrenList),function(option,idx){return _c('Option',{key:idx,attrs:{\"value\":option.id}},[_vm._v(\"\\n        \"+_vm._s(option.name)+\"\\n      \")])}))],1):_vm._e(),(!_vm.recordId)?_c('div',{ref:\"table\",staticClass:\"table\"},[_c('Table',{attrs:{\"height\":_vm.tableHeight,\"columns\":_vm.columns,\"data\":_vm.recordList,\"width\":_vm.size.width,\"border\":\"\"}})],1):_c('div',{staticClass:\"detail\"},[_c('div',{staticClass:\"detail-menu\"},[_c('div',{staticClass:\"project-data\"},[_c('div',{staticClass:\"project-name\",on:{\"click\":_vm.pushToPage}},[_vm._v(\"\\n          \"+_vm._s(_vm.projectInfo.name)+\"\\n        \")]),_vm._v(\"\\n          的做题记录\\n      \")]),_vm._m(0)]),_c('div',{staticClass:\"detail-content\"},[_c('div',{staticClass:\"answer-record\"},[_c('div',{staticClass:\"answer-record-title\"},[_vm._v(\"\\n          做题记录\\n        \")]),(_vm.recordDetail.length)?_c('Tree',{staticClass:\"answer-record-tree\",attrs:{\"treeData\":_vm.recordDetail,\"nodeClass\":'tree-node-container',\"expand\":false},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar data = ref.data;\nvar parentData = ref.parentData;\nreturn _c('div',{staticClass:\"node-render-content\",class:{ 'root-node-content': parentData.isRoot }},[(parentData.isRoot)?_c('span',{staticClass:\"root-node-title\"},[_vm._v(\"\\n              \"+_vm._s(parentData.children.findIndex(function (item) { return item.id === data.id; }) + 1 + '. ')+\"\\n            \")]):_vm._e(),_vm._v(\"\\n            \"+_vm._s(data.title)+\"\\n          \")])}}])}):_c('div',{staticClass:\"notice\"},[_vm._v(\"\\n          无详细记录信息\\n        \")])],1),_c('div',{staticClass:\"report\"},[_c('div',{staticClass:\"report-title\"},[_vm._v(\"报告\")]),_c('div',{staticClass:\"report-content\"},[_c('div',{staticClass:\"content\",domProps:{\"innerHTML\":_vm._s(_vm.reportContent)}})])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"answer-menu\"},[_c('div',[_vm._v(\"设为测试用例\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"answer-record-page\" ref=\"answerRecord\">\r\n    <div\r\n      class=\"answer-record-filter\"\r\n      v-if=\"!recordId\">\r\n      <div class=\"filter-title\">根项目：</div>\r\n      <Select v-model=\"rootProject\" class=\"filter-select\">\r\n        <Option v-for=\"(option, idx) in projectList\" :value=\"option.id\" :key=\"idx\">\r\n          {{ option.name }}\r\n        </Option>\r\n      </Select>\r\n      <div class=\"filter-title\">子项目：</div>\r\n      <Select v-model=\"childProject\" class=\"filter-select\">\r\n        <Option v-for=\"(option, idx) in childrenList\" :value=\"option.id\" :key=\"idx\">\r\n          {{ option.name }}\r\n        </Option>\r\n      </Select>\r\n    </div>\r\n    <div class=\"table\" v-if=\"!recordId\" ref=\"table\">\r\n      <Table\r\n        :height=\"tableHeight\"\r\n        :columns=\"columns\"\r\n        :data=\"recordList\"\r\n        :width=\"size.width\"\r\n        border>\r\n      </Table>\r\n    </div>\r\n    <div class=\"detail\" v-else>\r\n      <div class=\"detail-menu\">\r\n        <div class=\"project-data\">\r\n          <div class=\"project-name\" @click=\"pushToPage\">\r\n            {{projectInfo.name}}\r\n          </div>\r\n            的做题记录\r\n        </div>\r\n        <div class=\"answer-menu\">\r\n          <div>设为测试用例</div>\r\n        </div>\r\n      </div>\r\n      <div class=\"detail-content\">\r\n        <div class=\"answer-record\">\r\n          <div class=\"answer-record-title\">\r\n            做题记录\r\n          </div>\r\n          <Tree\r\n            :treeData=\"recordDetail\"\r\n            class=\"answer-record-tree\"\r\n            :nodeClass=\"'tree-node-container'\"\r\n            :expand=\"false\"\r\n            v-if=\"recordDetail.length\">\r\n            <div\r\n              class=\"node-render-content\"\r\n              slot-scope='{ data, parentData}'\r\n              :class=\"{ 'root-node-content': parentData.isRoot }\">\r\n              <span v-if=\"parentData.isRoot\" class=\"root-node-title\">\r\n                {{ parentData.children.findIndex(item => item.id === data.id) + 1 + '. '}}\r\n              </span>\r\n              {{ data.title }}\r\n            </div>\r\n          </Tree>\r\n          <div class=\"notice\" v-else>\r\n            无详细记录信息\r\n          </div>\r\n        </div>\r\n        <div class=\"report\">\r\n          <div class=\"report-title\">报告</div>\r\n          <div class=\"report-content\">\r\n            <div class=\"content\" v-html=\"reportContent\"></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport question from '@/api/question'\r\nimport Tree from '@/components/simple-tree'\r\nimport showdown from 'showdown'\r\nimport projectApi from '@/api/project'\r\n\r\nexport default {\r\n  components: {\r\n    Tree\r\n  },\r\n  data () {\r\n    return {\r\n      projectInfo: {},\r\n      recordList: [],\r\n      columns: [\r\n        {\r\n          title: '项目名称',\r\n          key: 'projectName',\r\n          sortable: true\r\n        },\r\n        {\r\n          title: '客户',\r\n          key: 'customer',\r\n          sortable: true\r\n        },\r\n        {\r\n          title: '用户标识',\r\n          key: 'userId',\r\n          sortable: true\r\n        },\r\n        {\r\n          title: '联系电话',\r\n          key: 'phone',\r\n          sortable: true\r\n        },\r\n        {\r\n          title: '设备',\r\n          key: 'device',\r\n          sortable: true\r\n        },\r\n        {\r\n          title: 'IP',\r\n          key: 'ip',\r\n          sortable: true\r\n        },\r\n        {\r\n          title: '做题时间',\r\n          key: 'updateTime',\r\n          sortable: true\r\n        },\r\n        {\r\n          title: '做题时长',\r\n          key: 'time',\r\n          sortable: true\r\n        },\r\n        {\r\n          title: '步骤',\r\n          key: 'step',\r\n          sortable: true\r\n        },\r\n        {\r\n          title: '操作',\r\n          key: 'action',\r\n          align: 'center',\r\n          render: (h, params) => {\r\n            return h('div', [\r\n              h('Button', {\r\n                props: {\r\n                  type: 'primary'\r\n                },\r\n                on: {\r\n                  click: () => {\r\n                    this.showRecordDetail(params.index)\r\n                  }\r\n                }\r\n              }, '详情')\r\n            ])\r\n          }\r\n        }\r\n      ],\r\n      size: {\r\n        width: 0,\r\n        height: 0\r\n      },\r\n      tableHeight: 0,\r\n      recordDetail: [],\r\n      reportContent: '',\r\n      converter: null,\r\n      projectList: [\r\n        {\r\n          id: 'default',\r\n          name: '全部项目'\r\n        }\r\n      ],\r\n      childrenList: [\r\n        {\r\n          id: 'default',\r\n          name: '全部子项目'\r\n        }\r\n      ],\r\n      childProject: 'default',\r\n      rootProject: 'default'\r\n    }\r\n  },\r\n  computed: {\r\n    recordId () {\r\n      return this.$route.query.recordId || ''\r\n    },\r\n    all () {\r\n      return this.childProject === 'default'\r\n    },\r\n    lookProject () {\r\n      let project = this.childProject\r\n      if (project === 'default') {\r\n        project = this.rootProject === 'default' ? '' : this.rootProject\r\n      }\r\n      return project\r\n    }\r\n  },\r\n  watch: {\r\n    recordId () {\r\n      if (this.recordId) {\r\n        this.calSize()\r\n        this.getRecordDetail()\r\n        this.getReportContent(this.recordId)\r\n        this.getProjectDetail()\r\n      }\r\n    },\r\n    rootProject (newValue, oldValue) {\r\n      if (newValue !== oldValue) {\r\n        this.getChildProjectList()\r\n      }\r\n    },\r\n    lookProject: {\r\n      immediate: true,\r\n      handler () {\r\n        this.$nextTick(() => {\r\n          this.getRecordList()\r\n        })\r\n      }\r\n    }\r\n  },\r\n  mounted () {\r\n    this.childProject = this.$route.query.projectId || 'default'\r\n    this.rootProject = this.$route.query.rootId || 'default'\r\n    if (!this.converter) {\r\n      this.converter = new showdown.Converter({ literalMidWordUnderscores: true })\r\n    }\r\n    this.calSize()\r\n    this.getProjectList()\r\n    window.addEventListener('resize', this.calSize)\r\n    if (this.recordId) {\r\n      this.getRecordDetail()\r\n      this.getReportContent(this.recordId)\r\n    }\r\n    this.getProjectDetail()\r\n  },\r\n  beforeDestroy () {\r\n    window.removeEventListener('resize', this.calSize)\r\n  },\r\n  methods: {\r\n    async getProjectList () {\r\n      let params = {}\r\n      let data = await projectApi.getRootProjectList(params)\r\n      if (data) {\r\n        this.projectList = [\r\n          {\r\n            id: 'default',\r\n            name: '全部项目'\r\n          }\r\n        ]\r\n        this.projectList.push(...data)\r\n      }\r\n    },\r\n    async getChildProjectList () {\r\n      this.childrenList = [\r\n        {\r\n          id: 'default',\r\n          name: '全部子项目'\r\n        }\r\n      ]\r\n      if (this.rootProject && this.rootProject !== 'default') {\r\n        let params = {\r\n          id: this.rootProject\r\n        }\r\n        let data = await projectApi.getProjectList(params)\r\n        if (data) {\r\n          let idx = data.findIndex(item => item.id === this.rootProject)\r\n          if (idx !== -1) {\r\n            let item = data.splice(idx, 1)\r\n            data.unshift(...item)\r\n          }\r\n          this.childrenList.push(...data)\r\n        }\r\n        if (data.findIndex(item => item.id === this.childProject) === -1) {\r\n          this.childProject = 'default'\r\n        }\r\n      }\r\n    },\r\n    async getRecordList () {\r\n      let params = {\r\n        projectId: this.lookProject\r\n      }\r\n      let list = await question.getHistoryAnswerRecord.apply(this, [params])\r\n      for (let data of list) {\r\n        data.time = Math.round((data.updateTime - data.createTime) / 1000) + ' s'\r\n        data.updateTime = this.formatTime(data.updateTime)\r\n      }\r\n      this.recordList = list || []\r\n    },\r\n    async getProjectDetail () {\r\n      if (this.$route.query.detailId) {\r\n        this.projectInfo = await projectApi.getProjectDetail({ id: this.$route.query.detailId })\r\n      }\r\n    },\r\n    showRecordDetail (index) {\r\n      let data = this.recordList[index]\r\n      this.$router.push({\r\n        name: 'AnswerRecord',\r\n        query: {\r\n          detailId: data.projectId,\r\n          recordId: data.id\r\n        }\r\n      })\r\n    },\r\n    async getRecordDetail () {\r\n      let params = {\r\n        recordId: this.recordId\r\n      }\r\n      let record = await question.getAnswerRecord.apply(this, [params])\r\n      if (record) {\r\n        this.recordDetail = record\r\n      } else {\r\n        this.$Message.error('获取做题记录失败')\r\n      }\r\n    },\r\n    async getReportContent (id) {\r\n      let params = {\r\n        recordId: id\r\n      }\r\n      let recordText = await question.getReportContent.apply(this, [params])\r\n      this.reportContent = this.converter.makeHtml(recordText)\r\n    },\r\n    calSize () {\r\n      this.$nextTick(() => {\r\n        let rect = this.$refs.answerRecord.getBoundingClientRect()\r\n        this.size = {\r\n          width: rect.width,\r\n          height: rect.height\r\n        }\r\n        if (this.$refs.table) {\r\n          rect = this.$refs.table.getBoundingClientRect()\r\n          this.tableHeight = rect.height\r\n        }\r\n      })\r\n    },\r\n    formatTime (timeStamp) {\r\n      let formatNum = (num) => {\r\n        return num < 10 ? '0' + num : num\r\n      }\r\n      let date = new Date(timeStamp)\r\n      let year = date.getFullYear()\r\n      let month = formatNum(date.getMonth() + 1)\r\n      let day = formatNum(date.getDay())\r\n      let hour = formatNum(date.getHours())\r\n      let minute = formatNum(date.getMinutes())\r\n      let sText = `${year}-${month}-${day} ${hour}:${minute}`\r\n      return sText\r\n    },\r\n    pushToPage (id) {\r\n      this.$router.push({\r\n        name: 'Page',\r\n        params: {\r\n          projectId: this.rootProject\r\n        },\r\n        query: {\r\n          currentProject: id\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\">\r\n.answer-record-page\r\n  display flex\r\n  flex-direction column\r\n  .answer-record-filter\r\n    min-height 3rem\r\n    display flex\r\n    align-items center\r\n    .filter-title\r\n      padding .5rem\r\n    .filter-select\r\n      margin .5rem\r\n      width 10rem\r\n  .table\r\n    flex auto\r\n  .detail\r\n    background white\r\n    display flex\r\n    flex-direction column\r\n    height 100%\r\n    .detail-menu\r\n      background #B0C8F4\r\n      padding 0 .5rem\r\n      font-size 1rem\r\n      min-height 2rem\r\n      display flex\r\n      align-items center\r\n      user-select none\r\n      .project-data\r\n        display flex\r\n        align-items center\r\n        padding-right .5rem\r\n        margin-right .5rem\r\n        border-right 1px solid black\r\n        .project-name\r\n          color blue\r\n          cursor pointer\r\n          &:hover\r\n            text-decoration underline\r\n          &:active\r\n            position relative\r\n            left 1px\r\n            top 1px\r\n    .detail-content\r\n      flex auto\r\n      display flex\r\n    .answer-record-title, .report-title\r\n      user-select none\r\n      background #F7F7F7\r\n      position absolute\r\n      width 100%\r\n      top 0\r\n      left 0\r\n      font-size 1.5rem\r\n      text-align center\r\n    .answer-record\r\n      box-shadow -1px 1px 0 0 #4573DE inset\r\n      width 50%\r\n      padding 1rem\r\n      overflow auto\r\n      padding-top 2.5rem\r\n      position relative\r\n      .answer-record-tree\r\n        margin-top 1rem\r\n        >.tree-node-container\r\n          margin 0 auto\r\n          margin-bottom 0.5rem\r\n          padding 0.5rem\r\n          box-shadow 0 0 2px 1px #A1BFFC\r\n          border-radius 4px\r\n        .root-node-content\r\n          font-size 1rem\r\n          font-weight bold\r\n      .notice, .link\r\n        text-align center\r\n        margin .5rem\r\n    .report\r\n      width 50%\r\n      position relative\r\n      box-shadow 1px 1px 0 0 #4573DE inset\r\n      padding 1rem\r\n      padding-top 2.5rem\r\n      overflow auto\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnswerRecord.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AnswerRecord.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AnswerRecord.vue?vue&type=template&id=6bbe0ab2&\"\nimport script from \"./AnswerRecord.vue?vue&type=script&lang=js&\"\nexport * from \"./AnswerRecord.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AnswerRecord.vue?vue&type=style&index=0&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"AnswerRecord.vue\"\nexport default component.exports"],"sourceRoot":""}