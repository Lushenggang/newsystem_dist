(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5c0359d5"],{2297:function(t,e,a){"use strict";var n=a("6d7b"),i=a.n(n);i.a},2616:function(t,e,a){"use strict";var n=a("f994"),i=a.n(n);i.a},"6d7b":function(t,e,a){},eefc:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Layout",{staticClass:"problem-page"},[a("Row",{staticClass:"tool-bar",attrs:{type:"flex"}},[a("div",{staticClass:"left"},[a("Input",{staticClass:"search-input",attrs:{placeholder:"请输入关键字搜索"},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.getProblemList(e):null}},model:{value:t.searchKey,callback:function(e){t.searchKey=e},expression:"searchKey"}},[a("Button",{attrs:{slot:"append",icon:"md-search"},nativeOn:{click:function(e){return t.getProblemList(e)}},slot:"append"})],1)],1),a("div",{staticClass:"right"},[t.selectedProblem.length?a("Button",{staticStyle:{"mergin-right":"0.5rem"},attrs:{type:"error"},nativeOn:{click:function(e){return t.deleteProblem(e)}}},[t._v("删除")]):t._e(),a("Button",{attrs:{type:"primary"},nativeOn:{click:function(e){return t.addNewProblem(e)}}},[t._v("新增")])],1)]),a("Row",{staticClass:"tags"},[a("Tag",{attrs:{color:"success"},nativeOn:{click:function(e){return t.searchTag(e)}}},[t._v("全部")]),t._l(t.tagList,function(e,n){return a("Tag",{key:n,attrs:{color:"success"},nativeOn:{click:function(a){t.searchTag(e)}}},[t._v(t._s(e.tagName))])})],2),a("Row",{staticClass:"problem-list"},[a("Table",{staticClass:"problem-table",attrs:{columns:t.columns,data:t.problemList},on:{"on-selection-change":t.selectProblem}})],1),a("Row",{staticClass:"pagination"},[a("Page",{attrs:{total:t.paginationData.total,current:t.paginationData.page,"show-elevator":"","show-total":"","show-sizer":""},on:{"on-change":t.changePage,"on-page-size-change":t.changePageSize}})],1)],1)},i=[],s=(a("7f7f"),a("ac4d"),a("8a81"),a("ac6a"),a("9d9a")),o=a("db6a"),r={name:"problem",data:function(){var t=this;return{searchKey:"",currentEditData:{},columns:[{type:"selection",width:60,align:"center"},{title:"序号",width:60,render:function(t,e){e.row,e.column;var a=e.index;return t("span","#".concat(a+1))}},{title:"标题",key:"title",render:function(e,a){var n=a.row;a.column,a.index;return e("a",{attrs:{href:"javascript: void(0)"},on:{click:function(){t.openEditModal(n)}}},n.title)}},{title:"标签",key:"tag",render:function(t,e){var a=[];e.row.tagInfo=e.row.tagInfo||[];var n=!0,i=!1,s=void 0;try{for(var o,r=e.row.tagInfo[Symbol.iterator]();!(n=(o=r.next()).done);n=!0){var c=o.value;a.push(t("Tag",{props:{color:"success"}},c.name))}}catch(t){i=!0,s=t}finally{try{n||null==r.return||r.return()}finally{if(i)throw s}}return t("div",{attrs:{class:"problem-tags"}},a)}},{title:"内容",render:function(t,e){e.column;var a=e.row;e.index;return t("span",{style:{textOverflow:"ellipsis",whiteSpace:"nowrap"}},a.content)}}],problemList:[],paginationData:{page:1,pageSize:10,total:0},selectedProblem:[],tagList:[],selectedTag:null}},computed:{showEditModal:{get:function(){return"{}"!==JSON.stringify(this.currentEditData)},set:function(t){t||(this.currentEditData={})}}},created:function(){this.getProblemList(),this.getTagList()},mounted:function(){},methods:{getTagList:function(){var t=this;Object(o["getTagesByRelation"])({type:6}).then(function(e){var a=e.data,n=e.response;n.success?t.tagList=a:t.$Message.error(n.msg)})},getProblemList:function(){var t=this;Object(s["getProblemList"])({pageNo:this.paginationData.page,pageSize:this.paginationData.pageSize,title:this.searchKey,tagId:this.selectedTag?this.selectedTag.tagId:null,type:1}).then(function(e){e.response.success?(t.problemList=e.data.result,t.paginationData.total=e.data.totalCount):t.$Message.error(e.response.msg)}).catch(function(t){console.error(t)})},addNewProblem:function(){this.$router.push({name:"ProblemDetail",params:{type:"new",id:0}})},openEditModal:function(t){this.$router.push({name:"ProblemDetail",params:{type:"detail",id:t.id}})},changePage:function(t){this.paginationData.page=t,this.getProblemList()},changePageSize:function(t){this.paginationData.pageSize=t,this.getProblemList()},deleteProblem:function(){var t=this;this.$Modal.confirm({title:"提示",content:"警告⚠️删除后数据不可恢复，请确定是否删除？",onCancel:function(){},onOk:function(){Object(s["deleteProblem"])({ids:t.selectedProblem.map(function(t){return t.id})}).then(function(e){e.data;var a=e.response;a.success?(t.$Message.success("删除成功！"),t.getProblemList()):t.$Message.error(a.msg)})}})},selectProblem:function(t){this.selectedProblem=t},searchTag:function(t){this.selectedTag=t,this.getProblemList()}}},c=r,l=(a("2616"),a("2297"),a("2877")),u=Object(l["a"])(c,n,i,!1,null,"11d3de0c",null);u.options.__file="Problem.vue";e["default"]=u.exports},f994:function(t,e,a){}}]);
//# sourceMappingURL=chunk-5c0359d5.128c3b63.js.map