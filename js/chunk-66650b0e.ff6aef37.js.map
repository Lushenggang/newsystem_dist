{"version":3,"sources":["webpack:///./src/pages/RegisterComponent.vue?873c","webpack:///src/pages/RegisterComponent.vue","webpack:///./src/pages/RegisterComponent.vue?c836","webpack:///./src/pages/RegisterComponent.vue","webpack:///./src/pages/RegisterComponent.vue?d742"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","margin-top","_v","attrs","type","on","click","updateAllComponents","_l","item","idx","key","$event","deleteComponent","id","_s","name","registerAllComponents","registerData","_e","staticRenderFns","RegisterComponentvue_type_script_lang_js_","data","componentList","componentData","list","mounted","getComponentList","methods","_getComponentList","Object","asyncToGenerator","regeneratorRuntime","mark","_callee","res","wrap","_context","prev","next","register","sent","console","log","$Message","error","stop","apply","arguments","registerComponent","_registerComponent","_callee2","_context2","success","_x","_registerAllComponents","_callee3","_context3","t0","keys","t1","done","value","hasOwnProperty","$store","dispatch","_this","$Modal","confirm","title","content","onOk","_onOk","_callee4","_context4","onCancel","info","updateComponent","_updateComponent","_callee5","uuid","_context5","items","assign","_x2","_x3","_updateAllComponents","_callee6","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","_context6","undefined","Symbol","iterator","return","finish","pages_RegisterComponentvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_RegisterComponent_vue_vue_type_style_index_0_id_4c0fa77b_lang_stylus_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_RegisterComponent_vue_vue_type_style_index_0_id_4c0fa77b_lang_stylus_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/chunk-66650b0e.ff6aef37.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"register-component-page\"},[_c('div',{staticClass:\"list\"},[_c('h1',{staticStyle:{\"margin-top\":\"0\"}},[_vm._v(\"已注册组件\")]),_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.updateAllComponents}},[_vm._v(\"一键更新注册信息\")]),_c('br'),_vm._l((this.componentList),function(item,idx){return _c('Button',{key:idx,on:{\"click\":function($event){_vm.deleteComponent(item.id)}}},[_vm._v(_vm._s(item.name))])})],2),_c('div',{staticClass:\"list\"},[_c('h1',[_vm._v(\"所有组件\")]),_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.registerAllComponents}},[_vm._v(\"一键注册\")]),_c('br'),_vm._l((_vm.componentData),function(item,idx){return (item.registerData)?_c('Button',{key:idx},[_vm._v(_vm._s(item.registerData.name))]):_vm._e()})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"pug\">\n.register-component-page\n  .list\n    h1(style=\"margin-top: 0\") 已注册组件\n    Button(type=\"primary\" @click='updateAllComponents') 一键更新注册信息\n    br\n    Button(v-for='(item,idx) in this.componentList', :key='idx' @click=\"deleteComponent(item.id)\") {{ item.name }}\n    //- Button(@click='deleteAllComponents') 一键清除注册信息\n  .list\n    h1 所有组件\n    Button(type=\"primary\" @click='registerAllComponents') 一键注册\n    br\n    Button(v-for='(item, idx) in componentData', :key='idx', v-if='item.registerData') {{item.registerData.name}}\n</template>\n\n<script>\nimport register from '@/api/register'\nimport componentData from '@components/list'\n\nexport default {\n  name: 'register-component-page',\n  data () {\n    return {\n      componentList: [],\n      componentData\n    }\n  },\n  mounted () {\n    this.getComponentList()\n  },\n  methods: {\n    async getComponentList () {\n      let res = await register.getComponentList({ type: 1 })\n      console.log(res)\n      if (res) {\n        this.componentList = res\n      } else {\n        this.$Message.error('获取组件列表失败')\n      }\n    },\n    async registerComponent (registerData) {\n      let res = await register.registerComponent(registerData)\n      if (res) {\n        this.$Message.success('注册成功')\n      } else {\n        this.$Message.error('注册失败')\n        console.log('注册失败', registerData.name)\n      }\n    },\n    async registerAllComponents () {\n      for (let idx in componentData) {\n        let data = componentData[idx]\n        if (data.hasOwnProperty('registerData')) {\n          let registerData = data.registerData\n          await this.registerComponent(registerData)\n        }\n      }\n      this.getComponentList()\n      this.$store.dispatch('component/init')\n    },\n    deleteComponent (id) {\n      this.$Modal.confirm({\n        title: '警告',\n        content: '组件删除后无法恢复，是否一定要删？',\n        onOk: async () => {\n          let res = await register.deleteComponent(id)\n          if (res) {\n            this.$Message.success('删除成功')\n          } else {\n            this.$Message.error('删除失败')\n          }\n        },\n        onCancel: () => {\n          this.$Message.info('删除已被取消')\n        }\n      })\n    },\n    // async deleteAllComponents () {\n    //   this.$Modal.confirm({\n    //     title: '超级高危操作警告',\n    //     content: '全部组件删除后无法恢复，是否一定要删？',\n    //     onOk: async () => {\n    //       for (let item of this.componentList) {\n    //         await this.deleteComponent(item.id)\n    //       }\n    //       this.getComponentList()\n    //       this.$store.dispatch('component/init')\n    //     },\n    //     onCancel: () => {\n    //       this.$Message.info('一键删除已被取消')\n    //     }\n    //   })\n    // },\n    async updateComponent (id, uuid) {\n      for (let idx in componentData) {\n        let data = componentData[idx]\n        if (data.hasOwnProperty('registerData') && componentData[idx].registerData.items[0].uuid === uuid) {\n          let registerData = Object.assign({ id }, data.registerData)\n          let res = await register.updateComponent(registerData)\n          if (res) {\n            this.$Message.success('更新成功')\n          } else {\n            this.$Message.error('更新失败')\n            console.log('更新失败', registerData.name)\n          }\n        }\n      }\n    },\n    async updateAllComponents () {\n      for (let item of this.componentList) {\n        await this.updateComponent(item.id, item.items[0].uuid)\n      }\n      this.getComponentList()\n      this.$store.dispatch('component/init')\n    }\n  }\n}\n</script>\n\n<style lang=\"stylus\" scoped>\n.register-component-page\n  display flex\n  flex-direction column\n  align-items stretch\n  padding 40px 80px\n\n  .list\n    padding 10px\n\n    h1\n      margin-bottom 20px\n      margin-top 100px\n\n    button\n      margin-left 10px\n      margin-top 10px\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RegisterComponent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RegisterComponent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RegisterComponent.vue?vue&type=template&id=4c0fa77b&scoped=true&lang=pug&\"\nimport script from \"./RegisterComponent.vue?vue&type=script&lang=js&\"\nexport * from \"./RegisterComponent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RegisterComponent.vue?vue&type=style&index=0&id=4c0fa77b&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4c0fa77b\",\n  null\n  \n)\n\ncomponent.options.__file = \"RegisterComponent.vue\"\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RegisterComponent.vue?vue&type=style&index=0&id=4c0fa77b&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RegisterComponent.vue?vue&type=style&index=0&id=4c0fa77b&lang=stylus&scoped=true&\""],"sourceRoot":""}