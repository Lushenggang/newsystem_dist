(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-68b07760"],{"103c":function(a,e,t){"use strict";var r=t("6a1c"),s=t.n(r);s.a},"6a1c":function(a,e,t){},"8ae9":function(a,e,t){"use strict";var r=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("Cascader",{attrs:{data:a.areaData,"change-on-select":""},on:{"on-change":a.select},model:{value:a.selected,callback:function(e){a.selected=e},expression:"selected"}})},s=[],o=(t("7f7f"),t("ac4d"),t("8a81"),t("ac6a"),t("f400"),t("c5f6"),t("599c")),l={name:"area-selector",props:{value:{type:Number|String,required:!0}},data:function(){return{selected:[],areaData:[],areaMap:new Map}},created:function(){this.getAreaList()},watch:{value:function(){this.makeSelected()}},computed:{},methods:{getAreaList:function(){var a=this;Object(o["getAreaList"])({allDescendant:!0}).then(function(e){e.response.success?(a.areaData=a.makeData(e.data),a.makeSelected()):a.$Message.error(e.response.msg)}).catch(function(a){console.error(a)})},select:function(a,e){this.$emit("on-select",e[e.length-1])},makeData:function(a){var e=[],t=[],r=!0,s=!1,o=void 0;try{for(var l,c=a[Symbol.iterator]();!(r=(l=c.next()).done);r=!0){var n=l.value;n.value=n.id,n.label=n.name,this.areaMap.set(n.id,n),n.parentId?t.push(n):e.push(n)}}catch(a){s=!0,o=a}finally{try{r||null==c.return||c.return()}finally{if(s)throw o}}for(var i=0;i<t.length;i++){var u=t[i],m=this.areaMap.get(u.parentId);if(!m)return;m.children?m.children.push(u):m.children=[u]}return e},makeSelected:function(){if(this.value&&this.areaMap.size){this.selected=[this.value];var a=this.areaMap.get(this.value),e=a?this.areaMap.get(a.parentId):null;while(e)this.selected.splice(0,0,e.id),e=this.areaMap.get(e.parentId)}}}},c=l,n=(t("bbaa"),t("2877")),i=Object(n["a"])(c,r,s,!1,null,null,null);i.options.__file="area-selector.vue";var u=i.exports;e["a"]=u},bbaa:function(a,e,t){"use strict";var r=t("c1f8"),s=t.n(r);s.a},c1f8:function(a,e,t){},dca8:function(a,e,t){"use strict";t.r(e);var r=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("Layout",{staticClass:"law-detail-page"},[t("Row",{staticClass:"tool-bar"},[t("div",{staticClass:"left"},[t("a",{staticStyle:{"margin-bottom":"0.5rem"},attrs:{href:"javascript: void(0)"},on:{click:function(e){a.$router.go(-1)}}},[t("icon",{attrs:{type:"ios-arrow-back"}}),a._v("\n        返回\n      ")],1)]),t("div",{staticClass:"right"},[t("Button",{attrs:{type:"primary",size:"small"},nativeOn:{click:function(e){return a.saveLaw(e)}}},[a._v("保存")])],1)]),t("Form",{ref:"lawForm",staticStyle:{height:"100%",overflow:"auto"},attrs:{"label-width":72,model:a.lawFormData,rules:a.validators}},[t("FormItem",{staticClass:"form-col",attrs:{label:"名称",prop:"name"}},[t("Input",{model:{value:a.lawFormData.name,callback:function(e){a.$set(a.lawFormData,"name",e)},expression:"lawFormData.name"}})],1),t("FormItem",{staticClass:"form-col",attrs:{label:"标签"}},[t("tagSelector",{model:{value:a.lawFormData.tagInfo,callback:function(e){a.$set(a.lawFormData,"tagInfo",e)},expression:"lawFormData.tagInfo"}})],1),t("FormItem",{staticClass:"form-col",attrs:{label:"简称"}},[t("Input",{model:{value:a.lawFormData.alias,callback:function(e){a.$set(a.lawFormData,"alias",e)},expression:"lawFormData.alias"}})],1),t("FormItem",{staticClass:"form-col",attrs:{label:"关键字"}},[t("Input",{attrs:{placeholder:"多个关键字用英文逗号隔开"},model:{value:a.lawFormData.keywords,callback:function(e){a.$set(a.lawFormData,"keywords",e)},expression:"lawFormData.keywords"}})],1),t("FormItem",{staticClass:"form-col",attrs:{label:"题注",prop:"creditLine"}},[t("Input",{model:{value:a.lawFormData.creditLine,callback:function(e){a.$set(a.lawFormData,"creditLine",e)},expression:"lawFormData.creditLine"}})],1),t("FormItem",{staticClass:"form-col",attrs:{label:"法律文号",prop:"documentNumber"}},[t("Input",{model:{value:a.lawFormData.documentNumber,callback:function(e){a.$set(a.lawFormData,"documentNumber",e)},expression:"lawFormData.documentNumber"}})],1),t("FormItem",{staticClass:"form-col",attrs:{label:"地区"}},[t("areaSelector",{attrs:{value:a.lawFormData.areaId},on:{"on-select":a.seleteArea}})],1),t("FormItem",{staticClass:"form-col",attrs:{label:"发布机构"}},[t("Input",{model:{value:a.lawFormData.issuingAuthorit,callback:function(e){a.$set(a.lawFormData,"issuingAuthorit",e)},expression:"lawFormData.issuingAuthorit"}})],1),t("FormItem",{staticClass:"form-col",attrs:{label:"发布日期",prop:"issueDate"}},[t("DatePicker",{attrs:{type:"date",placeholder:"请选择日期"},model:{value:a.lawFormData.issueDate,callback:function(e){a.$set(a.lawFormData,"issueDate",e)},expression:"lawFormData.issueDate"}})],1),t("FormItem",{staticClass:"form-col",attrs:{label:"施行日期",prop:"enforcementDate"}},[t("DatePicker",{attrs:{type:"date",placeholder:"请选择日期"},model:{value:a.lawFormData.enforcementDate,callback:function(e){a.$set(a.lawFormData,"enforcementDate",e)},expression:"lawFormData.enforcementDate"}})],1),t("FormItem",{staticClass:"form-col",attrs:{label:"失效日期",prop:"expiryDate"}},[t("DatePicker",{attrs:{type:"date",placeholder:"请选择日期"},model:{value:a.lawFormData.expiryDate,callback:function(e){a.$set(a.lawFormData,"expiryDate",e)},expression:"lawFormData.expiryDate"}})],1),t("FormItem",{staticClass:"form-col",attrs:{label:"效力等级"}},[t("Select",{model:{value:a.lawFormData.forceLevel,callback:function(e){a.$set(a.lawFormData,"forceLevel",e)},expression:"lawFormData.forceLevel"}},a._l(a.forceLevelList,function(e){return t("Option",{key:e.value,attrs:{value:e.value}},[a._v(a._s(e.title))])}))],1),t("div",{staticClass:"gutter"}),t("FormItem",{staticClass:"form-col",attrs:{label:"效力状态"}},[t("Select",{model:{value:a.lawFormData.forceStatus,callback:function(e){a.$set(a.lawFormData,"forceStatus",e)},expression:"lawFormData.forceStatus"}},a._l(a.forceStatusList,function(e){return t("Option",{key:e.value,attrs:{value:e.value}},[a._v(a._s(e.title))])}))],1),t("FormItem",{staticClass:"form-col",attrs:{label:"分值"}},[t("Input",{model:{value:a.lawFormData.score,callback:function(e){a.$set(a.lawFormData,"score",e)},expression:"lawFormData.score"}})],1),t("FormItem",{staticClass:"form-col",attrs:{label:"排序"}},[t("Input",{model:{value:a.lawFormData.sort,callback:function(e){a.$set(a.lawFormData,"sort",e)},expression:"lawFormData.sort"}})],1)],1)],1)},s=[],o=t("5d0b"),l=t("8ae9"),c=t("5189"),n={alias:"",areaId:0,areaNumber:"",categoryId:0,creditLine:"",documentNumber:"",enforcementDate:"",expiryDate:"",forceLevel:0,forceStatus:0,id:null,issueDate:"",issuingAuthorit:0,keywords:"",level:0,name:"",parentId:null,score:0,sort:0,tagInfo:[],title:""},i={name:"law-detail",components:{tagSelector:o["a"],areaSelector:l["a"]},data:function(){return{lawFormData:this.deepCopy(n),forceStatusList:[],forceLevelList:[],validators:{name:[{required:!0,message:"法律名词不能为空",trigger:"blur"}],creditLine:[{required:!0,message:"题注不能为空",trigger:"blur"}],documentNumber:[{required:!0,message:"法律文号不能为空",trigger:"blur"}]}}},created:function(){var a=this;"new"===this.$route.params.type?this.lawFormData.categoryId=this.$route.params.category:"detail"===this.$route.params.type&&Object(c["getLawDetail"])({id:this.$route.params.id}).then(function(e){var t=e.data,r=e.response;r.success?a.lawFormData=t:a.$Message.error(r.msg)}),this.getForceStatus(),this.getForceLevel()},methods:{resetFormData:function(){this.lawFormData=this.deepCopy(n)},saveLaw:function(){var a=this;this.$refs.lawForm.validate(function(e){e?Object(c["saveLaw"])(a.lawFormData).then(function(e){e.data;var t=e.response;t.success?(a.$Message.success("保存成功！"),a.$router.go(-1)):a.$Message.error(t.msg)}):a.$Message.error("请检查必填项！")})},getForceStatus:function(){var a=this;Object(c["getLowForceStatus"])().then(function(e){var t=e.data,r=e.response;r.success&&(a.forceStatusList=t)})},getForceLevel:function(){var a=this;Object(c["getLowForceLevel"])().then(function(e){var t=e.data,r=e.response;r.success&&(a.forceLevelList=t)})},seleteArea:function(a){this.lawFormData.areaId=a.id,this.lawFormData.code=a.code}}},u=i,m=(t("103c"),t("2877")),d=Object(m["a"])(u,r,s,!1,null,"53f366aa",null);d.options.__file="LawDetail.vue";e["default"]=d.exports}}]);
//# sourceMappingURL=chunk-68b07760.22302f5e.js.map